# ──────────────────────────────────────────────────────────────────────────────
# PayFlux Core (Go Backend) — Environment Variables
# Copy to .env and fill in values before running.
# ──────────────────────────────────────────────────────────────────────────────

# ─── HTTP Server ─────────────────────────────────────────────────────────────
HTTP_ADDR=:8080

# ─── Authentication ──────────────────────────────────────────────────────────
PAYFLUX_API_KEY=REPLACE
# PAYFLUX_API_KEYS=key1,key2,key3
# PAYFLUX_REVOKED_KEYS=old_key1,old_key2

# ─── Checkout (Stripe) ──────────────────────────────────────────────────────
# PRICE_CENTS=9900
# PRODUCT_NAME=PayFlux Early Access
# SITE_URL=https://payflux.dev
STRIPE_API_KEY=sk_test_REPLACE

# ─── Environment ─────────────────────────────────────────────────────────────
# PAYFLUX_ENV=dev
# PAYFLUX_TIER=tier1

# ─── Export ──────────────────────────────────────────────────────────────────
# PAYFLUX_EXPORT_FILE=/var/log/payflux/events.jsonl
# PAYFLUX_EXPORT_MODE=stdout

# ─── Feature Flags ──────────────────────────────────────────────────────────
# PAYFLUX_INGEST_ENABLED=true
# PAYFLUX_PANIC_MODE=crash
# PAYFLUX_PILOT_MODE=false
# PAYFLUX_RISK_SCORE_ENABLED=true
# PAYFLUX_TIER2_ENABLED=true
# PAYFLUX_WARNINGS_ENABLED=true

# ─── Rate Limiting ──────────────────────────────────────────────────────────
# PAYFLUX_BACKPRESSURE_THRESHOLD=10000
# PAYFLUX_INGEST_BURST=500
# PAYFLUX_INGEST_RPS=100
# PAYFLUX_OUTCOME_BURST=20
# PAYFLUX_OUTCOME_RPS=10
# PAYFLUX_RATELIMIT_BURST=500
# PAYFLUX_RATELIMIT_RPS=100

# ─── Redis ───────────────────────────────────────────────────────────────────
REDIS_ADDR=localhost:6379

# ─── Risk Scoring ───────────────────────────────────────────────────────────
# PAYFLUX_RISK_SCORE_THRESHOLDS=0.3,0.6,0.8
# PAYFLUX_RISK_SCORE_WINDOW_SEC=300

# ─── Stream / Consumer ──────────────────────────────────────────────────────
# CONSUMER_NAME=consumer-1
# PAYFLUX_CONSUMER_NAME=consumer-1
# GROUP_NAME=payment_consumers
# STREAM_KEY=events_stream
# PAYFLUX_RAW_EVENT_TTL_DAYS=7
# PAYFLUX_STREAM_MAXLEN=200000

# ─── Alert Router ───────────────────────────────────────────────────────────
# PAYFLUX_ALERT_ROUTER_ENABLED=false
# PAYFLUX_BASE_URL=http://payflux:8080
# PAYFLUX_PILOT_AUTH=REPLACE
# PAYFLUX_DASHBOARD_URL=https://dashboard.payflux.dev
# ALERT_SINK=slack
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR_WEBHOOK_URL
# ALERT_WEBHOOK_URL=https://example.com/alerts
# ALERT_MIN_BAND=elevated
# ALERT_MAX_PER_HOUR=30
# POLL_INTERVAL_SECONDS=15
# DEDUPE_TTL_SECONDS=86400

# ─── Stripe Webhooks ────────────────────────────────────────────────────────
# STRIPE_WEBHOOK_SECRET=whsec_test_REPLACE
