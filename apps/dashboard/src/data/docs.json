{
  "generatedAt": "2026-02-04T05:25:24.879Z",
  "docs": {
    "AUTH_DENIAL_METRICS.md": "# Auth Denial Metrics Runbook\n\n## Overview\n\nThe `payflux_auth_denied_total` metric tracks authentication failures at the PayFlux ingestion endpoints with reason-specific labels to help diagnose security issues and operational problems.\n\n**Metric Type:** Counter (monotonically increasing)  \n**Labels:** `reason` (missing_key | revoked_key | invalid_key)  \n**Endpoint:** `/metrics` (unauthenticated)\n\n---\n\n## What Each Reason Means\n\n### `missing_key`\n**Cause:** No Authorization header OR malformed Bearer token  \n**Common Scenarios:**\n- Misconfigured client (forgot to set header)\n- Wrong auth scheme (Basic instead of Bearer)\n- Empty token after \"Bearer \" prefix\n\n**Impact:** Low severity if infrequent; clients not configured correctly\n\n---\n\n### `revoked_key`\n**Cause:** Token matches an entry in `PAYFLUX_REVOKED_KEYS` denylist  \n**Common Scenarios:**\n- Key was intentionally revoked after leak\n- Client still using old key after rotation\n- Attacker attempting to use known-revoked credential\n\n**Impact:** Medium-high severity; indicates either slow client migration or potential security incident\n\n---\n\n### `invalid_key`\n**Cause:** Token present but not in `PAYFLUX_API_KEYS` or `PAYFLUX_API_KEY` allowlist  \n**Common Scenarios:**\n- Typo in API key\n- Using test key in production\n- Unauthorized access attempt\n- Key mismatch after deployment\n\n**Impact:** Medium severity; could indicate attack, misconfiguration, or stale client config\n\n---\n\n## PromQL Queries\n\n### Total Denials (5-minute rate)\n```promql\nsum(increase(payflux_auth_denied_total[5m]))\n```\n\n### Breakdown by Reason\n```promql\nsum by (reason) (increase(payflux_auth_denied_total[5m]))\n```\n\n### Per-Second Rate (1-minute average)\n```promql\nrate(payflux_auth_denied_total[1m])\n```\n\n### Spike Detection\n```promql\nsum(increase(payflux_auth_denied_total[5m])) > 50\n```\n\n### Top Reason (for dashboards)\n```promql\ntopk(1, sum by (reason) (rate(payflux_auth_denied_total[5m])))\n```\n\n---\n\n## Response Actions\n\n### For `missing_key` Spikes\n1. **Check recent deployments** - Did a client deploy with broken config?\n2. **Review client logs** - Are they sending Authorization headers?\n3. **Verify documentation** - Is auth example correct?\n4. **No immediate security concern** - Usually config issue\n\n### For `revoked_key` Spikes\n1. **Expected after key rotation** - Monitor for 24-48h, should decline\n2. **If persistent:**\n   - Identify which clients (check IP logs externally if available)\n   - Contact slow-to-migrate customers\n   - Consider removing from `PAYFLUX_REVOKED_KEYS` if false alarm\n3. **If unexpected spike with no recent rotation:**\n   - **SECURITY INCIDENT** - Someone may have leaked key\n   - Review when key was revoked and why\n   - Check for correlated invalid_key attempts\n\n### For `invalid_key` Spikes\n1. **Check for brute-force pattern** - Repeated attempts from same source?\n2. **Review recent key changes** - Did you forget to add new key to allowlist?\n3. **Client misconfiguration** - Are they using wrong environment's keys?\n4. **If sustained/distributed:**\n   - Consider rate limiting at network layer\n   - Review security posture\n   - Rotate keys as precaution\n\n---\n\n## Key Rotation Procedure\n\n**Zero-downtime rotation:**\n1. Generate new API key: `openssl rand -hex 32`\n2. Add to allowlist: `PAYFLUX_API_KEYS=<old_key>,<new_key>`\n3. Restart PayFlux\n4. Migrate clients to new key (coordinate with customers)\n5. Monitor `revoked_key` metric after adding old key to `PAYFLUX_REVOKED_KEYS`\n6. Once metric drops to zero, remove old key from both lists\n\n**Emergency revocation (key compromised):**\n1. Add compromised key to `PAYFLUX_REVOKED_KEYS=<leaked_key>`\n2. Restart PayFlux immediately\n3. Issue new keys to all affected clients\n4. Monitor spike in `revoked_key` (expected)\n5. Coordinate urgent client updates\n\n---\n\n## Rate Limit Tuning\n\nIf seeing high auth denial rates correlated with rate limit errors:\n\n1. **Check current limits:**\n   ```bash\n   # In PayFlux env\n   echo $PAYFLUX_INGEST_RPS    # default: 100\n   echo $PAYFLUX_INGEST_BURST  # default: 500\n   ```\n\n2. **Temporarily increase (if legitimate traffic):**\n   ```bash\n   export PAYFLUX_INGEST_RPS=200\n   export PAYFLUX_INGEST_BURST=1000\n   ```\n\n3. **Monitor impact** via `payflux_ingest_rate_limited_total` metric\n\n4. **Permanent fix:** Update environment vars in deployment config\n\n---\n\n## Alert Recommendations\n\n### Warning Alert (Actionable)\n```yaml\nalert: HighAuthDenialRate\nexpr: rate(payflux_auth_denied_total[5m]) > 0.1  # 6/min\nfor: 10m\nseverity: warning\n```\n\n### Critical Alert (Incident)\n```yaml\nalert: AuthDenialStorm\nexpr: sum(increase(payflux_auth_denied_total[1m])) > 100\nfor: 2m\nseverity: critical\n```\n\n### Revoked Key Alert (Post-Rotation)\n```yaml\nalert: RevokedKeyStillInUse\nexpr: increase(payflux_auth_denied_total{reason=\"revoked_key\"}[15m]) > 10\nfor: 1h  # Grace period for client migration\nseverity: warning\n```\n\n---\n\n## Metrics Endpoint Access\n\n**URL:** `http://<payflux-host>:<port>/metrics`  \n**Auth:** None (publicly exposed for Prometheus scraping)  \n**Format:** Prometheus text format\n\nExample scrape:\n```bash\ncurl -s http://localhost:8080/metrics | grep payflux_auth_denied\n```\n\n---\n\n## Related Metrics\n\n- `payflux_ingest_rate_limited_total` - Rate limit rejections (429)\n- `payflux_ingest_rejected_total` - All rejected events\n- `payflux_ingest_accepted_total` - Successfully accepted events\n\n**Cross-reference:** High auth denials + low rate limits = potential DDoS or config issue\n",
    "DATA_FLOW.md": "# PayFlux Data Flow\n\nThis document describes how PayFlux processes payment event data.\n\n---\n\n## Flow Overview\n\n```\n[Customer System] ──▶ [PayFlux Ingest] ──▶ [Normalize] ──▶ [Score] ──▶ [Export]\n```\n\n1. **Ingest** — Receives pseudonymous event metadata via HTTP API\n2. **Normalize** — Validates and structures event data\n3. **Score** — Computes behavioral risk signals (in-memory, O(1))\n4. **Export** — Emits enriched events to stdout/file for downstream consumption\n\n---\n\n## What PayFlux Processes\n\n✅ **Pseudonymous operational metadata only**\n\n- Event type (e.g., `payment_failed`, `payment_succeeded`)\n- Processor identifier (e.g., `stripe`, `adyen`)\n- Hashed merchant and payment intent identifiers\n- Failure category and retry count\n- Geographic bucket (e.g., `US`, `EU`)\n- Timestamp\n\n---\n\n## What PayFlux Does NOT Process\n\n❌ **No PAN** — No primary account numbers (card numbers)\n\n❌ **No CVV** — No card verification values\n\n❌ **No PII** — No names, emails, addresses, or personal customer information\n\n---\n\n## Data Preparation Requirements\n\nAll identifiers must be **hashed or tokenized prior to ingestion** by the customer.\n\nPayFlux does not perform hashing or tokenization. Customers are responsible for ensuring that no raw identifiers or sensitive data are sent to PayFlux.\n\n---\n\n## Operational Model\n\nPayFlux operates **out of band** and **never blocks payments**.\n\n- PayFlux receives event data after the payment decision has been made\n- PayFlux does not interact with payment processors directly\n- PayFlux does not approve, reject, or modify transactions\n\nIf PayFlux is unavailable, payment processing continues normally with no impact to transaction flow.\n\n---\n\n## Data Retention\n\nPayFlux is an observability buffer, not a long-term data store.\n\n- Events are retained in Redis Streams up to `PAYFLUX_STREAM_MAXLEN` (default: 200,000 messages)\n- For long-term storage, export events to a downstream system (data warehouse, S3, Kafka)\n",
    "INCIDENT_RESPONSE.md": "# Incident Response\n\nThis document describes PayFlux's incident handling process for security issues.\n\n---\n\n## Security Contact\n\n**Email:** security@payflux.dev\n\nFor security vulnerabilities or concerns, contact this address directly. Do not file public issues for security matters.\n\n---\n\n## Incident Handling Process\n\n### 1. Report Received\n\n- Security reports are acknowledged within 48 hours\n- Reporter receives confirmation and a tracking reference\n\n### 2. Triage\n\n- Issue is assessed for severity and impact\n- Affected components are identified\n- Initial scope is determined\n\n### 3. Containment\n\n- Immediate mitigations are applied if necessary\n- Affected systems are isolated if required\n- Evidence is preserved for analysis\n\n### 4. Notification\n\n- Affected customers are notified if their data or operations were impacted\n- Notification includes: what happened, what data was affected, and recommended actions\n\n### 5. Post-Incident Review\n\n- Root cause analysis is conducted\n- Remediation steps are documented\n- Process improvements are identified\n\n---\n\n## Scope\n\nThis process applies to:\n\n- Security vulnerabilities in PayFlux software\n- Unauthorized access to PayFlux-operated systems\n- Data handling incidents involving customer event data\n\n---\n\n## Limitations\n\nThis document describes process intent for pilot-stage operations. It is not a contractual SLA or compliance guarantee.\n",
    "PILOT_PROOF.md": "# Pilot Proof Mode (v0.2.3+)\n\nPayFlux includes a minimal pilot proof system for capturing \"warning → outcome\" evidence during a 90-day pilot.\n\n## Overview\n\nWhen enabled, pilot mode provides:\n- **Warning records** for elevated+ risk events\n- **Outcome annotation endpoint** for event-driven capture\n- **Minimal dashboard** for pilot champions\n- **Prometheus metrics** for outcome tracking\n- **Stdout proof capture** for log pipeline persistence\n\n## Enabling Pilot Mode\n\n```bash\nPAYFLUX_PILOT_MODE=true\n```\n\nWhen enabled, PayFlux will:\n1. Create in-memory warning records for events with `processor_risk_band` ∈ {elevated, high, critical}\n2. Register pilot routes (auth required)\n3. Emit pilot outcome annotations to stdout\n\n## Pilot Routes\n\nAll routes require the same `Authorization: Bearer <API_KEY>` header as the ingest endpoint.\n\n| Route | Method | Description |\n|-------|--------|-------------|\n| `/pilot/dashboard` | GET | HTML dashboard with outcome annotation |\n| `/pilot/warnings` | GET | JSON list of recent warnings |\n| `/pilot/warnings/{id}` | GET | Single warning by ID |\n| `/pilot/warnings/{id}/outcome` | POST | Set outcome for a warning |\n\n## Outcome Annotation\n\n### Endpoint\n```\nPOST /pilot/warnings/{warning_id}/outcome\nAuthorization: Bearer <API_KEY>\nContent-Type: application/json\n```\n\n### Request Body\n```json\n{\n  \"outcome_type\": \"throttle\",\n  \"observed_at\": \"2026-01-11T08:00:00Z\",\n  \"source\": \"manual\",\n  \"notes\": \"Processor reduced approval rate by 15%\"\n}\n```\n\n### Outcome Types\n| Type | Description |\n|------|-------------|\n| `throttle` | Processor throttled transaction volume |\n| `review` | Account flagged for manual review |\n| `hold` | Funds or account placed on hold |\n| `auth_degradation` | Approval rates declined |\n| `rate_limit` | Transaction rate limiting applied |\n| `other` | Other observed outcome |\n| `none` | No outcome observed (marks as not-observed) |\n\n### Example curl\n```bash\ncurl -X POST http://localhost:8080/pilot/warnings/1768097434029-0/outcome \\\n  -H \"Authorization: Bearer your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"outcome_type\": \"throttle\", \"observed_at\": \"2026-01-11T08:30:00Z\", \"source\": \"manual\", \"notes\": \"15% approval rate drop\"}'\n```\n\n### Outcome Sources\n| Source | Description |\n|--------|-------------|\n| `manual` | Manual annotation via dashboard or API (default) |\n| `stripe_webhook` | Outcome detected via Stripe webhook |\n| `adyen_webhook` | Outcome detected via Adyen webhook |\n| `other_webhook` | Outcome detected via other webhook integration |\n| `other` | Other source |\n\n## Proof Capture\n\nWhen an outcome is set, PayFlux emits a JSON line to stdout:\n\n```json\n{\n  \"type\": \"pilot_outcome_annotation\",\n  \"warning_id\": \"1768097434029-0\",\n  \"event_id\": \"550e8400-...\",\n  \"processor\": \"stripe\",\n  \"risk_band\": \"high\",\n  \"risk_score\": 0.72,\n  \"warning_at\": \"2026-01-11T08:00:00Z\",\n  \"outcome_type\": \"throttle\",\n  \"outcome_timestamp\": \"2026-01-11T08:30:00Z\",\n  \"outcome_source\": \"manual\",\n  \"outcome_notes\": \"15% approval rate drop\",\n  \"lead_time_seconds\": 1800,\n  \"annotated_at\": \"2026-01-11T08:31:00Z\"\n}\n```\n\nThis can be shipped via Vector/Fluent Bit to persist pilot evidence even if the process restarts.\n\n## Prometheus Metrics\n\n| Metric | Type | Description |\n|--------|------|-------------|\n| `payflux_warning_outcome_set_total{outcome_type,source}` | Counter | Outcomes annotated by type and source |\n| `payflux_warning_outcome_lead_time_seconds` | Histogram | Time between warning and outcome |\n\n## Storage\n\n**Pilot mode uses in-memory storage only:**\n- Cap: 1000 warnings (LRU eviction)\n- Lifetime: process restart clears storage\n- Redis persistence: not implemented (pilot scope)\n\nThis is intentional for pilot simplicity. Proof capture via stdout ensures no data loss.\n\n## Guardrails\n\n> [!IMPORTANT]\n> - Labels use \"**Observed Outcome**\" — not \"Caused Outcome\"\n> - No causal claims — only \"outcome observed after warning\"\n> - No recommendations — champions decide their own actions\n> - Language remains probabilistic for Tier 2 context\n\n## Security\n\n> [!NOTE]\n> All `/pilot/*` routes require API key authentication via `Authorization: Bearer <API_KEY>` header.\n> Unauthenticated requests return 401.\n\n## Pilot Workflow\n\n1. Enable pilot mode: `PAYFLUX_PILOT_MODE=true`\n2. Run PayFlux with Vector shipping logs to your data warehouse\n3. Access `/pilot/dashboard` with your API key\n4. When processor outcomes occur, annotate them immediately\n5. After 90 days, analyze `pilot_outcome_annotation` events for proof\n\n## Verification Suite\n\nPayFlux includes a full-flow verification script at `scripts/verify_pilot.sh`. Run it from the repository root:\n\n```bash\n./scripts/verify_pilot.sh\n```\n\n### Checkpoints\n\n| Checkpoint | What it validates |\n|------------|-------------------|\n| **A: False-Negative** | Bad patterns (retry storms, failure spikes) emit warnings |\n| **B: Tier 1 Schema** | Gated keys (`processor_playbook_context`, `risk_trajectory`) never appear in Tier 1 |\n| **C: Metrics Stability** | Metric names and label keys unchanged across container restart |\n\n> Metrics stability refers to metric names and label sets, not counter values. Counter values are expected to reset across restarts.\n\n| **D: Pilot Containment** | `/pilot/*` routes return 404 when `PAYFLUX_PILOT_MODE=false` |\n| **E: Log Redaction** | No secrets, API keys, or raw payloads in logs |\n| **F: Language Audit** | No overclaiming terminology in docs |\n| **G: False Positive** | Normal traffic (successful payments) does NOT generate warnings |\n\n### Verification Report\n\nOn success, a machine-readable report is generated:\n- Location: `verification-reports/verification-report-<timestamp>.json`\n- Contents: timestamp, git commit hash, pass/fail per checkpoint\n\n### What a Passing Run Guarantees\n\nA passing verification run confirms:\n- Risk scoring correctly distinguishes bad patterns from normal traffic\n- Tier 1 exports do not leak Tier 2 fields\n- Pilot routes respect the `PAYFLUX_PILOT_MODE` setting\n- Logs are safe for observability pipelines (no secrets)\n- Documentation does not make unsupported claims\n\nIt does **not** guarantee:\n- Correctness of risk thresholds for specific use cases\n- Behavior under production load\n- External system integration correctness\n\n## Future Enhancements (Not Implemented)\n\n- Redis-backed persistent warning storage\n- Lead time dashboards and trend analysis\n- Automated webhook outcome detection\n",
    "SECURITY_POSTURE.md": "# PayFlux Pilot Security Posture (v0.x)\n\nThis document describes pilot-level security controls for PayFlux. This is process documentation, not enterprise certification.\n\n---\n\n## Authentication & Access Control\n\n- **API Key Authentication** — All ingest endpoints require a valid API key via `Authorization: Bearer <key>` header\n- **Key Rotation** — Multiple keys can be configured via `PAYFLUX_API_KEYS` for zero-downtime rotation\n- **Rate Limiting** — Per-key rate limiting prevents abuse (configurable via `PAYFLUX_RATELIMIT_RPS`)\n\n---\n\n## Logging Discipline\n\nPayFlux logs are designed for operational debugging without exposing sensitive data.\n\n- **No raw payloads** — Request bodies are not logged\n- **No sensitive fields** — API keys, tokens, and identifiers are redacted or omitted\n- **Structured logs** — Startup logs use JSON format for parsing; runtime logs are plain text\n\n---\n\n## Data Handling\n\n- **No PAN, CVV, or PII** — PayFlux does not accept or store cardholder data or personal information\n- **Pseudonymous identifiers only** — All identifiers must be hashed or tokenized before ingestion\n- **No data enrichment from external sources** — PayFlux does not call out to third-party APIs\n\n---\n\n## Isolation & Blast Radius\n\nPayFlux is designed as a single-node, stateless application.\n\n- **Single node compromise** — Affects only that node's event buffer; no lateral movement to payment systems\n- **No direct processor access** — PayFlux does not hold credentials for payment processors\n- **Out-of-band operation** — Compromise does not affect payment transaction flow\n\n---\n\n## Metrics Exposure\n\n- **Prometheus endpoint** — `/metrics` exposes operational counters and gauges\n- **No secrets in metrics** — Metric labels contain processor names and categories, not keys or tokens\n- **Scoped access** — Metrics endpoint does not require authentication (intended for internal scraping)\n\n---\n\n## Network Exposure\n\n- **Single HTTP port** — Default `:8080` for ingest, health, and metrics\n- **TLS termination** — Expected to be handled by a reverse proxy or load balancer\n- **No outbound connections** — PayFlux does not initiate connections except to Redis\n\n---\n\n## Limitations\n\nThis document describes pilot-level controls, not enterprise certification.\n\n- No SOC 2 attestation\n- No ISO 27001 certification\n- No formal penetration test report\n\nFor enterprise security requirements, contact security@payflux.dev.\n",
    "TIER_GATING.md": "# Tier Gating (v0.2.2+)\n\nPayFlux exports support tier-based authority gating. Same data, same pipeline—different explanatory power.\n\n## Tiers\n\n| Tier | Label | Purpose |\n|------|-------|---------|\n| `tier1` | Processor Exposure Monitor | Detection only |\n| `tier2` | Revenue Protection | Interpretation + foresight |\n\n## Configuration\n\n```bash\nPAYFLUX_TIER=tier1   # Default: detection only\nPAYFLUX_TIER=tier2   # Adds processor_playbook_context + risk_trajectory\n```\n\n## Tier 1 — Detection Only\n\nTier 1 exports include:\n- Risk score, band, and drivers\n- Raw metrics and timestamps\n- Neutral descriptions of what was detected\n\nTier 1 exports do **not** include:\n- `processor_playbook_context`\n- `risk_trajectory`\n\n## Tier 2 — Interpretation + Foresight\n\nTier 2 exports include everything in Tier 1, plus:\n\n### 1. Processor Playbook Context\n\n**Field:** `processor_playbook_context`\n\nAnswers: \"Why processors care.\"\n\nRules:\n- Probabilistic language only (\"typically,\" \"commonly observed\")\n- No guarantees\n- No prescriptive actions\n- No processor-specific rules stated as fact\n\nExample:\n```\n\"This pattern typically correlates with processor-side monitoring escalation. Rate limiting or velocity checks are commonly triggered at this threshold.\"\n```\n\n### 2. Risk Trajectory\n\n**Field:** `risk_trajectory`\n\nAnswers: \"Is this getting worse—and how fast?\"\n\nShows:\n- Directional trend (accelerating / stable / decelerating)\n- Magnitude relative to baseline (e.g., \"3× above baseline\")\n- Time-based framing\n\nExample:\n```\n\"Pattern accelerating: ~3.2× above baseline over the last 5 minutes.\"\n```\n\n## Export Examples\n\n### Tier 1 Export\n\n```json\n{\n  \"event_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"event_type\": \"payment_failed\",\n  \"processor\": \"stripe\",\n  \"processor_risk_score\": 0.72,\n  \"processor_risk_band\": \"high\",\n  \"processor_risk_drivers\": [\"high_failure_rate\", \"retry_pressure_spike\"]\n}\n```\n\n### Tier 2 Export\n\n```json\n{\n  \"event_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"event_type\": \"payment_failed\",\n  \"processor\": \"stripe\",\n  \"processor_risk_score\": 0.72,\n  \"processor_risk_band\": \"high\",\n  \"processor_risk_drivers\": [\"high_failure_rate\", \"retry_pressure_spike\"],\n  \"processor_playbook_context\": \"This pattern typically correlates with processor-side monitoring escalation. Rate limiting or velocity checks are commonly triggered at this threshold. Elevated failure rates are commonly interpreted as degraded transaction quality. Retry clustering typically signals infrastructure stress or integration issues to processor risk systems.\",\n  \"risk_trajectory\": \"Pattern accelerating: ~3.2× above baseline over the last 5 minutes.\"\n}\n```\n\n## Guardrails (Non-Negotiable)\n\n- PayFlux does **not** recommend actions\n- PayFlux does **not** claim insider processor rules\n- PayFlux does **not** make decisions\n- Everything is framed as observed behavior + momentum\n",
    "how-it-works/how-card-network-rule-changes-affect-merchants.md": "# Card Network Rule Changes\n\n## Definition\nCard Network Rules are the operating regulations published by Visa, Mastercard, and others. They dictate liabilities, acceptable use policies, and technical standards. Rules are updated semi-annually (typically April and October), often introducing new compliance mandates or fee structures.\n\n## Why it matters\nA rule change can turn a compliant business into a non-compliant one overnight. They are \"force majeure\" events in payments—non-negotiable and strictly enforced by fines or declines.\n\n## Signals to monitor\n- **Bulletin Alerts**: Publications from networks or processors announcing upcoming changes.\n- **Decline Code Shifts**: New errors (e.g., related to 3DS or CVV) appearing suddenly.\n- **Fee Line Items**: New \"Integrity Fees\" or assessments on the settlement statement.\n- **Compliance Notifications**: Inbound emails from the acquirer citing specific regulation numbers.\n\n## Breakdown modes\n- **Sudden Incompatibility**: Legacy integration code failing because a new field is now mandatory.\n- **Threshold Compression**: The allowable dispute rate dropping (e.g., from 1% to 0.9%), trapping previously safe merchants.\n- **Category bans**: A specific MCC (e.g., adult, crypto) being reclassified as \"Prohibited.\"\n\n## Where observability fits\n- **Impact Analysis**: Correlating a drop in conversion with a known rule update date.\n- **Health Checks**: Scanning authorization payloads for missing data required by new mandates.\n- **Fee Verification**: Audit-checking that new pass-through fees match the published network rates.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### How do I know about changes?\nYour processor should notify you. However, subscribing to industry newsletters or network technical bulletins is safer.\n\n### Do rules apply to everyone?\nYes. From the smallest coffee shop to Amazon, the network rules are the law of the land.\n\n### Can I get an exception?\nExtremely rare. Only massive merchants with direct network relationships ever negotiate waivers, and even then, it's temporary.\n\n## See also\n- [Network Monitoring Programs](../risk/how-network-monitoring-programs-work.md)\n- [Understanding Decline Reason Codes](../risk/understanding-decline-reason-codes.md)\n- [Network vs Processor Authority](../risk/how-network-vs-processor-authority-works.md)\n",
    "how-it-works/how-payment-infrastructure-detects-risk-events.md": "# Risk Event Detection\n\n## Definition\nRisk Event Detection is the automated process by which payment processors identify accounts that pose financial capability. It is a state transition triggered when objective metrics (velocity, failure rates, disputes) cross predefined safety thresholds, moving an account from \"Active\" to \"Restricted\" or \"Reserved.\"\n\n## Why it matters\nThese detections are the \"immune system\" of payment processing. They protect the settlement network from insolvency. For merchants, they are the primary mechanism of operation disruption. Understanding them removes the mystery of \"sudden\" account closures.\n\n## Signals to monitor\n- **Transaction Velocity**: Volume per hour/day exceeding historical baselines.\n- **Authorization Rates**: A sudden drop in approval rates (often indicating a carding attack).\n- **Dispute Activity**: Inbound chargeback counts and TC40/SAFE fraud reports.\n- **Refund Patterns**: High refund-to-sales ratios indicating fulfillment failure.\n\n## Breakdown modes\n- **Immediate Suspension**: A \"kill switch\" triggered by extreme signals (e.g., 90% decline rate).\n- **Latent Queue**: An account being flagged for manual review without immediate suspension.\n- **Reserve Trigger**: Automatically applying a 10-25% hold once a dispute threshold (e.g., 0.6%) is crossed.\n\n## Where observability fits\n- **Signal Surface**: Exposing the specific metric that triggered the event (e.g., \"Velocity Limit Exceeded\").\n- **Timeline Tracking**: Logging exactly when the state transition occurred to correlate with deploys or marketing pushes.\n- **Pattern Correlation**: Proving that a spike was a known marketing event, not a fraud attack.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Is detection manual or automated?\n90% automated. Human analysts usually only get involved *after* the system has already flagged or restricted the account.\n\n### Why does it feel sudden?\nBecause risk signals accumulate silently (like filling a bucket). You only notice when the bucket overflows (the restriction).\n\n### Can I prevent detection?\nNo, but you can avoid *triggering* it by keeping metrics healthy and notifying processors of legitimate spikes in advance.\n\n## See also\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n- [Transaction Monitoring](../risk/how-transaction-monitoring-works.md)\n- [Why Risk Events Follow Growth](./why-risk-events-follow-growth.md)\n",
    "how-it-works/how-payment-settlements-work.md": "# Payment Settlements\n\n## Definition\nSettlement is the batch process of moving actual funds from the Cardholder's Issuing Bank -> Card Network -> Acquiring Bank -> Merchant. It is distinct from **Authorization** (which just holds the money) and **Capture** (which requests the money).\n\n## Why it matters\nSales are vanity; Settlement is sanity. A transaction can be \"Approved\" but never settle (if it's voided or the batch fails). Understanding settlement timelines (T+2, T+3) is critical for managing cash flow and recognizing when funds are stuck.\n\n## Signals to monitor\n- **Batch Closure**: The daily event where captured transactions are grouped and sent.\n- **Fedwire/ACH Alerts**: Notifications of inbound bank transfers.\n- **Net Deposit**: The actual amount hitting the bank (Sales - Refunds - Fees - Reserves).\n- **Deposit Latency**: The time gap between \"Batch Close\" and \"Cash in Bank.\"\n\n## Breakdown modes\n- **Missed Cutoff**: Capturing a transaction at 5:01 PM means it waits 24 hours for the next batch.\n- **Bank Holidays**: Weekends and holidays stopping the movement of ACH files.\n- **Risk Holds**: Valid transactions being captured but the *settlement* being paused by risk logic.\n\n## Where observability fits\n- **Reconciliation**: Matching every \"Captured\" order ID to a \"Settled\" line item.\n- **Gap Detection**: Identifying \"Missing Money\" where the processor says they paid, but the bank never received it.\n- **Fee Verification**: calculating the effective take rate by comparing Gross Sales vs Net Deposit.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why does it take 2 days?\nLegacy banking rails (ACH/Fedwire) and the need for the Card Network to calculate the \"net settlement\" position between thousands of banks.\n\n### What is T+2?\nTransaction Date + 2 Business Days. If you sell on Monday, you get paid Wednesday.\n\n### Can I get paid instantly?\nSome processors offer \"Instant Payouts\" (Push to Debit), but they usually charge an extra fee (1-1.5%) for bypassing the slow ACH rails.\n\n## See also\n- [Settlement Batching](./how-settlement-batching-works.md)\n- [Payment Reserves](../risk/what-is-a-payment-reserve.md)\n- [Payout Delays](../risk/how-payout-delays-work.md)\n",
    "how-it-works/how-retry-storms-form.md": "# Retry Storms\n\nUp: [Retry Logic & Storms](../risk/mechanics-retry-logic-and-storms.md)\nSee also:\n- [What is a Retry Storm?](../risk/what-is-a-retry-storm.md)\n\n\n## Definition\nA Retry Storm is a constructive interference failure where a system outage triggers aggressive automated retries, amplifying traffic volume and prolonging the outage. It is a feedback loop: Failure → Retry → More Load → More Failure.\n\n## Why it matters\nIt turns a minor hiccup into a major incident. It can cause:\n1.  **Self-DoS**: Crashing your own services.\n2.  **Fee Explosion**: Paying auth fees on thousands of failed retries.\n3.  **Network Bans**: Issuers banning your MID because they see the retries as a \"Velocity Attack.\"\n\n## Signals to monitor\n- **Attempts per Order**: The ratio of `payment_attempts` to `unique_order_ids`. (Should be close to 1.1; storms push it to 10+).\n- **Error Consistency**: Seeing the same error code (e.g., `503 Service Unavailable`) repeating.\n- **Gateway Latency**: Response times spiking alongside request counts.\n\n## Breakdown modes\n- **Timeout Loops**: Client times out at 5s, Gateway takes 6s. Client retries. Gateway is now processing 2 requests for 1 result.\n- **Idempotency Leaks**: Retrying without unique keys, creating duplicate charges.\n- **Cascading Retries**: Service A retries Service B, which retries Service C (Multiplicative load).\n\n## Where observability fits\n- **Shape Detection**: Alerting on the \"slope\" of retry volume.\n- **Cost Estimation**: Real-time ticker of \"Wasted Fees\" from failed retries.\n- **Circuit Breaking**: Triggering a \"Stop the Line\" alert when retry ratios hit a danger zone.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Should I auto-retry declines?\nOnly specific \"soft\" declines (like networking errors). Never auto-retry \"hard\" declines (like \"Insufficient Funds\") instantly.\n\n### What is \"Exponential Backoff\"?\nWaiting longer between each retry (1s, 2s, 4s, 8s). This lets the downstream system recover.\n\n### Can retries get me banned?\nYes. Visa/Mastercard have \"Excessive Retry\" monitoring programs. It looks like card testing.\n\n## See also\n- [Retry Logic](../risk/how-retry-logic-affects-risk.md)\n- [Retry Amplification](../risk/how-retry-amplification-increases-exposure.md)\n- [Transaction Monitoring](../risk/how-transaction-monitoring-works.md)\n",
    "how-it-works/how-risk-threshold-hysteresis-works.md": "# How Risk Threshold Hysteresis Works\n\nUp: [Risk Thresholds & Hysteresis](../risk/mechanics-risk-thresholds-and-hysteresis.md)\nSee also:\n- [What is Threshold Hysteresis?](../risk/what-is-threshold-hysteresis.md)\n\n## Definition\nRisk Threshold Hysteresis works by establishing two distinct limits: an **Entry Threshold** (to enter a penalty state) and a stricter **Exit Threshold** (to leave it). Once a rule is broken, the account must \"over-correct\" to return to normal standing.\n\n## Why it matters\nIt creates a \"trap.\" If a monitoring program limit is 0.9% disputes, you enter at 0.91%. But to *exit*, the rule might require <0.6% for 3 months. Simply returning to 0.8% is insufficient.\n\n## Signals to monitor\n- Current Metric (Real-time rate)  \n- Target Threshold (Exit requirement)  \n- Probation Counter (Clean months accrued)  \n- Cohort Performance (New vs Legacy traffic risk)  \n- Burn-Down Rate  \n\n## Breakdown modes\n- \"The Almost Reset\" (Spiking in month 3 of probation, resetting counter to zero)  \n- \"Permanent Flagging\" (Stuck in entry/exit loop)  \n- Misaligned expectations (Aiming for Entry threshold instead of Exit threshold)  \n\n## Implementation notes\nObservability should visualize the path to the *Exit* threshold and track the \"Gap\" between current reality and required performance. Key focus is sustained stability.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why is hysteresis unfair?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is designed to be conservative. Processors need extra assurance ('over-performance') to trust volume again after a breach.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How long does it last?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Typically 3 to 12 months, depending on the severity of the program (e.g., Visa VFMP).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I switch processors to escape?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Technically yes, but TMF/MATCH lists often prevent this. Structurally fixing the metrics is usually required.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "how-it-works/how-settlement-batching-works.md": "# Settlement Batching\n\n## Definition\nSettlement Batching is the operational step of grouping authorized transactions into a single file \"envelope\" to be sent to the processor. This usually happens once every 24 hours (e.g., at 5 PM).\n\n## Why it matters\nThe \"Batch Close\" is the moment of truth. Before the batch closes, a transaction can be **Voided** (cancelled cheaply). After the batch closes, it must be **Refunded** (costing fees). Batch timing dictates exactly when you get paid.\n\n## Signals to monitor\n- **Batch State**: Is the current batch `open` or `closed`?\n- **Transaction Count**: Number of items in the envelope.\n- **Net Total**: The mathematical sum of (Sales - Credits) inside the batch.\n- **Error Responses**: Rejections of the entire batch file by the processor.\n\n## Breakdown modes\n- **Upload Failure**: Connectivity issues preventing the batch file from reaching the acquirer (funds delayed 24h).\n- **Held Batch**: One suspicious transaction causing the processor to flag the *entire* batch for review.\n- **Negative Batch**: Refunds exceeding sales, resulting in a debit owed to the processor.\n\n## Where observability fits\n- **Lifecycle Monitoring**: Alerting if a batch fails to close on schedule.\n- **Deposit Matching**: Tracking which specific batch corresponds to which bank deposit.\n- **Void Opportunity**: Identifying transactions that should be voided *before* the batch closes to save fees.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Can I force a batch close?\nOn legacy terminals, yes (\"Batch Out\"). On modern APIs (Stripe/Adyen), batching is usually automated by the platform.\n\n### What is \"Intraday\" batching?\nClosing batches multiple times a day (e.g., every 6 hours) to speed up funding or align with shift changes.\n\n### Why did my batch fail?\nOften due to a single malformed transaction or an interrupting connectivity failure during the upload handshake.\n\n## See also\n- [Payment Settlements](./how-payment-settlements-work.md)\n- [Refunds and Reversals](../risk/how-refunds-and-reversals-propagate.md)\n- [Payout Delays](../risk/how-payout-delays-work.md)\n",
    "how-it-works/why-risk-events-follow-growth.md": "# Risk Events and Growth\n\n## Definition\nThe \"Growth Risk Paradox\" describes the high correlation between rapid revenue scaling and payment risk events. To a risk model, a sudden spike in sales looks identical to a \"Bust-Out\" fraud attack (where a bad actor pumps volume before disappearing).\n\n## Why it matters\nSuccess is the biggest risk factor. Scaling from $10k/month to $100k/month triggers velocity alerts, credit reviews, and often reserve impositions. Merchants often feel punished for succeeding, but the processor is mathematically reacting to \"uncollateralized exposure.\"\n\n## Signals to monitor\n- **Velocity vs Cap**: Current processing volume relative to the \"Monthly Limit\" set at onboarding.\n- **Average Ticket**: Sudden shifts in AOVs (e.g., selling a new $500 product when usually selling $20 items).\n- **geo_mismatch**: New growth coming from high-risk regions unexpected by the underwriter.\n- **Volume Acceleration**: The derivative of growth (how *fast* it is rising).\n\n## Breakdown modes\n- **Velocity Freeze**: Hitting the hard processing cap, causing all subsequent txns to fail.\n- **Protective Reserve**: Processor imposing a 25% hold to cover the \"new, untested\" volume.\n- **Verification Loop**: Processing paused while the risk team asks for invoices to prove the sales are real.\n\n## Where observability fits\n- **Capacity Planning**: Tracking \"Percent of Monthly Cap Used\" to request limit increases *before* hitting the wall.\n- **Cohort Analysis**: proving that the new traffic performs just as well (low disputes) as the old traffic.\n- **Exposure Modeling**: Calculating the processor's \"Funds at Risk\" to anticipate their anxiety.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why do they freeze my money?\nBecause if those new sales turn out to be fraud, the processor is liable for the refunds. They hold the money until the delivery window closes.\n\n### How do I prevent this?\nCommunication. Tell your account manager *before* you launch a big promo or viral campaign.\n\n### Is it personal?\nNo. It's an algorithm detecting a \"Volume Anomaly.\"\n\n## See also\n- [Merchant Underwriting](../risk/how-merchant-underwriting-works.md)\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n- [Risk Threshold Events](../risk/how-risk-threshold-events-work.md)\n",
    "index.md": "# PayFlux Knowledge Graph\n\nThis library documents the mechanics of payment risk systems: how reserves form, how disputes propagate, how thresholds trigger, and how observability systems surface these events.\n\n## Start Here (Canonical References)\n\n### Payment Risk Mechanics\n- [Payment Reserves & Balances](risk/mechanics-payment-reserves-and-balances.md)\n- [Retry Logic & Storms](risk/mechanics-retry-logic-and-storms.md)\n- [Shadow Risk](risk/mechanics-shadow-risk.md)\n- [Model Drift](risk/mechanics-model-drift.md)\n- [Risk Thresholds & Hysteresis](risk/mechanics-risk-thresholds-and-hysteresis.md)\n\n### Disputes & Compliance\n- [Dispute Infrastructure](pillars/dispute-infrastructure.md)\n- [How Chargebacks Propagate](risk/how-chargebacks-propagate.md)\n- [How Dispute Aging Curves Work](risk/how-dispute-aging-curves-work.md)\n- [How Dispute Evidence Works](risk/how-dispute-evidence-works.md)\n- [How AML Screening Works](risk/how-aml-screening-works.md)\n\n### Enforcement & Operational Risk\n- [Why Payment Processors Freeze Funds](risk/why-payment-processors-freeze-funds.md)\n- [What Is a Payment Reserve](risk/what-is-a-payment-reserve.md)\n- [How Payout Delays Work](risk/how-payout-delays-work.md)\n- [Why Processors Request Documents](risk/why-processors-request-documents.md)\n\n### Verticals\n- [Payment Risk Observability for SaaS](verticals/payment-risk-observability-for-saas.md)\n\n## 1. Infrastructure Pillars (Primary References)\n\nThese are the top-level conceptual models for the PayFlux knowledge graph.\n\n- [Payment System Observability](pillars/payment-system-observability.md)\n- [Payment Risk Events](pillars/payment-risk-events.md)\n- [Dispute Infrastructure](pillars/dispute-infrastructure.md)\n\n## 2. Core Mechanics (Authoritative System Behavior)\n\nThese documents explain how payment systems behave under risk, load, and network constraints.\n\n- [Payment Reserves & Balances](risk/mechanics-payment-reserves-and-balances.md)\n- [Retry Logic & Storms](risk/mechanics-retry-logic-and-storms.md)\n- [Account Freezes & Holds](risk/mechanics-account-freezes-and-holds.md)\n- [The Hidden Timeline of a Processor Hold](risk/hidden-timeline-of-a-processor-hold.md)\n- [Risk Debt and Compounding Anomalies](risk/risk-debt-and-compounding-anomalies.md)\n- [Multi-PSP Payment Risk Observability](risk/multi-psp-payment-risk-observability.md)\n- [Risk Thresholds & Hysteresis](risk/mechanics-risk-thresholds-and-hysteresis.md)\n- [Chargeback Propagation](risk/how-chargebacks-propagate.md)\n- [Payment Settlements](risk/mechanics-payment-settlements.md)\n- [Shadow Risk](risk/mechanics-shadow-risk.md)\n- [Retry Amplification](risk/mechanics-retry-amplification.md)\n- [Model Drift](risk/mechanics-model-drift.md)\n- [Compliance Gaps](risk/mechanics-compliance-gaps.md)\n- [Liability Horizons](risk/mechanics-liability-horizons.md)\n- [What Is Shadow Risk?](risk/what-is-shadow-risk.md)\n- [What Is Retry Amplification?](risk/what-is-retry-amplification.md)\n- [What Is Model Drift?](risk/what-is-model-drift-in-fraud.md)\n- [What Are Compliance Gaps?](risk/what-are-compliance-gaps.md)\n- [What Is a Liability Horizon?](risk/what-is-a-liability-horizon.md)\n- [What is Dispute Propagation?](risk/what-is-dispute-propagation.md)\n- [What is Reserve Formation?](risk/what-is-reserve-formation.md)\n- [What is Threshold Hysteresis?](risk/what-is-threshold-hysteresis.md)\n- [What is Settlement Timing Risk?](risk/what-is-settlement-timing-risk.md)\n- [What is a Retry Storm?](risk/what-is-a-retry-storm.md)\n- [Payment Incident Detection](risk/payment-incident-detection.md)\n- [Reserve Formation (AEO alias)](risk/what-is-reserve-formation-aeo.md)\n- [Threshold Hysteresis (AEO alias)](risk/what-is-threshold-hysteresis-aeo.md)\n- [Settlement Timing Risk (AEO alias)](risk/what-is-settlement-timing-risk-aeo.md)\n- [Retry Storms (AEO alias)](risk/what-is-a-retry-storm-aeo.md)\n- [Dispute Clustering](risk/what-is-dispute-clustering.md)\n\n## 3. Applied Views (Verticals & Use Cases)\n\nThese documents apply the core mechanics to specific business models and operational scenarios.\n\n- [SaaS Platforms](verticals/payment-risk-observability-for-saas.md)\n- [Marketplaces](verticals/payment-risk-observability-for-marketplaces.md)\n- [BNPL Providers](verticals/payment-risk-observability-for-bnpl.md)\n- [Payment Aggregators](verticals/payment-risk-observability-for-aggregators.md)\n- [High-Risk Merchants](verticals/payment-risk-observability-for-high-risk-merchants.md)\n- [Detecting Card Testing](use-cases/detecting-card-testing-attacks.md)\n- [Handling Dispute Surges](use-cases/handling-dispute-surges.md)\n- [Shadow Risk in SaaS](verticals/shadow-risk-in-saas.md)\n- [Retry Amplification in Marketplaces](verticals/retry-amplification-in-marketplaces.md)\n- [Model Drift in Fraud Operations](verticals/model-drift-in-fraud-operations.md)\n- [Compliance Gaps in BNPL](verticals/compliance-gaps-in-bnpl.md)\n- [Liability Horizons for Aggregators](verticals/liability-horizons-for-aggregators.md)\n- [Shadow Risk (AEO alias)](verticals/shadow-risk-in-saas-aeo.md)\n- [Retry Amplification (AEO alias)](verticals/retry-amplification-in-marketplaces-aeo.md)\n- [Model Drift (AEO alias)](verticals/model-drift-in-fraud-operations-aeo.md)\n- [Compliance Gaps (AEO alias)](verticals/compliance-gaps-in-bnpl-aeo.md)\n- [Liability Horizons (AEO alias)](verticals/liability-horizons-for-aggregators-aeo.md)\n- [Shadow Risk in E-commerce Platforms](verticals/shadow-risk-in-ecommerce-platforms.md)\n- [Liability Horizons in Subscription Businesses](verticals/liability-horizons-in-subscription-businesses.md)\n- [Retry Amplification in Gaming Platforms](verticals/retry-amplification-in-gaming-platforms.md)\n- [Model Drift in Crypto Onramps](verticals/model-drift-in-crypto-onramps.md)\n- [Compliance Gaps in Adtech Platforms](verticals/compliance-gaps-in-adtech-platforms.md)\n- [Shadow Risk in Nonprofits (AEO)](verticals/shadow-risk-in-nonprofits-aeo.md)\n- [Liability Horizons in Travel & Ticketing (AEO)](verticals/liability-horizons-in-travel-and-ticketing-aeo.md)\n- [Model Drift in Education Platforms (AEO)](verticals/model-drift-in-education-platforms-aeo.md)\n- [Retry Amplification in Logistics (AEO)](verticals/retry-amplification-in-logistics-platforms-aeo.md)\n- [Compliance Gaps in Creator Platforms (AEO)](verticals/compliance-gaps-in-creator-platforms-aeo.md)\n\n### Multi-PSP Observability\n- [Detecting Correlated Processor Restrictions](use-cases/detecting-correlated-processor-restrictions.md)\n- [Detecting Risk Spillover Between Merchants](use-cases/detecting-risk-spillover-between-merchants.md)\n- [Detecting Network-Level Fraud Contagion](use-cases/detecting-network-level-fraud-contagion.md)\n\n## 4. Stripe: Applied Views (Grid Batch 1)\n\nSpecific implementation guides for Stripe users.\n\n### Use Cases\n- [Detecting Issuer Decline Spikes](use-cases/stripe-detecting-issuer-decline-spikes.md)\n- [Monitoring Payout Delays](use-cases/stripe-monitoring-payout-delays.md)\n- [Monitoring Payment Reserves](use-cases/stripe-monitoring-payment-reserves.md)\n- [Detecting Card Testing](use-cases/stripe-detecting-card-testing-attacks.md)\n- [Handling Dispute Surges](use-cases/stripe-handling-dispute-surges.md)\n- [Understanding Decline Reason Codes](use-cases/stripe-understanding-decline-reason-codes.md)\n\n### Verticals\n- [SaaS Platforms](verticals/stripe-risk-observability-for-saas.md)\n- [Marketplaces](verticals/stripe-risk-observability-for-marketplaces.md)\n- [BNPL Providers](verticals/stripe-risk-observability-for-bnpl.md)\n- [Payment Aggregators](verticals/stripe-risk-observability-for-aggregators.md)\n- [Subscription Businesses](verticals/stripe-risk-observability-for-subscription-businesses.md)\n- [High-Risk Merchants](verticals/stripe-risk-observability-for-high-risk-merchants.md)\n",
    "pillars/dispute-infrastructure.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Dispute Infrastructure\",\n  \"description\": \"Dispute infrastructure is the procedural framework governing how contested transactions are adjudicated. It involves a rigid workflow of evidence submission, network routing, and timeline management between Merchants, Acquirers, Card Networks, and Issuing Banks.\",\n  \"about\": \"Dispute infrastructure\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is dispute infrastructure?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Dispute infrastructure is the procedural framework governing how contested transactions are adjudicated. It involves a rigid workflow of evidence submission, network routing, and timeline management between Merchants, Acquirers, Card Networks, and Issuing Banks.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does dispute infrastructure matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Disputes are not simple database updates; they are legal-framework processes that determine financial liability. Misunderstanding the infrastructure leads to lost revenue (lost disputes) and operational penalties (excessive dispute monitoring programs).\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Documentation Index](../index.md)\nSee also: [Payment System Observability](./payment-system-observability.md), [Payment Risk Events](./payment-risk-events.md)\n\n# Dispute Infrastructure\n\n## Definition\nDispute infrastructure is the procedural framework governing how contested transactions are adjudicated. It involves a rigid workflow of evidence submission, network routing, and timeline management between Merchants, Acquirers, Card Networks, and Issuing Banks.\n\n## Why it matters\nDisputes are not simple database updates; they are legal-framework processes that determine financial liability. Misunderstanding the infrastructure leads to lost revenue (lost disputes) and operational penalties (excessive dispute monitoring programs).\n\n## Signals to monitor\n- **Inbound Dispute Volume**: The raw count of new cases.\n- **Reason Code Distribution**: The mix of \"Fraud\" vs \"Service\" vs \"Processing\" claims.\n- **Win/Loss Ratios**: The effectiveness of evidence templates per reason code.\n- **Response Latency**: Time remaining before network deadlines expire.\n- **Pre-Dispute Alerts**: Early warning signals (TC40/SAFE) from networks.\n\n## Breakdown modes\n- **Evidence Timeout**: Missing the strict network deadline (automatic loss).\n- **Format Rejection**: Submitting evidence files that fail network spec (file size/type).\n- **Notification Lag**: Receiving the dispute notice too late to stop shipment.\n- **Blind Spots**: Failing to link a dispute back to the original order string/descriptor.\n\n## Where observability fits\n- **Timeline Tracking**: Visualizing the deadlines for every open case.\n- **State Management**: Mapping the complex status transitions (e.g., `chargeback` → `representment` → `pre-arbitration`).\n- **Evidence Organization**: Associating logistical data (tracking numbers, logs) with financial claims.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why is the process so slow?\nIt involves multiple banks and the card network manually reviewing documents. A standard cycle handles response times of 30+ days per stage.\n\n### Can software win disputes automatically?\nSoftware can *submit* evidence automatically, but the *decision* is made by a human at the issuing bank based on the strength of that evidence.\n\n### Does PayFlux stop disputes?\nNo. PayFlux tracks them. Stopping disputes requires operational changes (better descriptors, clearer refund policies, fraud tools).\n\n## See also\n- [How Chargebacks Propagate](../risk/how-chargebacks-propagate.md)\n- [How Dispute Evidence Works](../risk/how-dispute-evidence-works.md)\n- [Network Monitoring Programs](../risk/how-network-monitoring-programs-work.md)\n",
    "pillars/payment-risk-events.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Payment Risk Events\",\n  \"description\": \"A Payment Risk Event is a discrete control action taken by a processor or acquiring bank to limit financial exposure. These are state changes—such as freezing funds, imposing reserves, or terminating processing—triggered by risk models or compliance mandates.\",\n  \"about\": \"Payment Risk Events\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Payment Risk Event?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Payment Risk Event is a discrete control action taken by a processor or acquiring bank to limit financial exposure. These are state changes—such as freezing funds, imposing reserves, or terminating processing—triggered by risk models or compliance mandates.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do payment risk events matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Risk events are \\\"circuit breakers\\\" for the payment system. While they protect the ecosystem, for a merchant, they result in immediate cash flow disruption. Understanding them is critical to distinguishing between a routine review and an existential business threat.\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Documentation Index](../index.md)\nSee also: [Payment Reserves](../risk/mechanics-payment-reserves-and-balances.md), [Account Freezes](../risk/mechanics-account-freezes-and-holds.md)\n\n# Payment Risk Events\n\n## Definition\nA Payment Risk Event is a discrete control action taken by a processor or acquiring bank to limit financial exposure. These are state changes—such as freezing funds, imposing reserves, or terminating processing—triggered by risk models or compliance mandates.\n\n## Why it matters\nRisk events are \"circuit breakers\" for the payment system. While they protect the ecosystem, for a merchant, they result in immediate cash flow disruption. Understanding them is critical to distinguishing between a routine review and an existential business threat.\n\n## Signals to monitor\n- **Payout Status**: Shifts from `paid` to `in_transit` to `failed` or `held`.\n- **Balance Availability**: A growing \"Current Balance\" but zero \"Available Balance.\"\n- **Account Service Flags**: API warnings indicating restricted capabilities (e.g., `transfers_disabled`).\n- **Information Requests**: Inbound tickets asking for invoices, IDs, or tracking numbers.\n\n## Breakdown modes\n- **Threshold Trips**: Exceeding a monitored metric (e.g., 1% dispute rate).\n- **Velocity Spikes**: Processing too much volume too quickly for a new account.\n- **Matchlisting**: Being flagged on various industry blocklists (TMF/MATCH).\n- **Review Backlogs**: Risk events persisting because the manual review queue is stalled.\n\n## Where observability fits\n- **Event Correlation**: Linking a sudden reserve to the specific dispute spike that caused it.\n- **Duration Tracking**: Measuring how long funds have been held relative to policy limits.\n- **Cause Analysis**: differentiating between automated system triggers and manual compliance interventions.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Is a risk event the same as a ban?\nNot necessarily. Many risk events (like a temporary hold or a document request) are solvable. A \"termination\" is a specific, final type of risk event.\n\n### Can I override a risk event?\nNo. The processor holds the liability. You can only provide the data they need to feel safe releasing the restriction.\n\n### Why wasn't I warned?\nMany risk controls are automated and act immediately to prevent further loss. The \"warning\" was likely the trending metrics visible in your observability data prior to the event.\n\n## See also\n- [What is a Payment Reserve](../risk/what-is-a-payment-reserve.md)\n- [Why Processors Freeze Funds](../risk/why-payment-processors-freeze-funds.md)\n- [Risk Threshold Events](../risk/how-risk-threshold-events-work.md)\n",
    "pillars/payment-system-observability.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Payment System Observability\",\n  \"description\": \"Payment system observability is the practice of measuring and explaining the behavior of payment infrastructure over time. Unlike transaction monitoring (which checks if this payment succeeded), observability tracks the state, availability, and performance of the underlying systems (processors, networks, banks) to understand why outcomes occur.\",\n  \"about\": \"Payment System Observability\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Payment System Observability?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Payment system observability is the practice of measuring and explaining the behavior of payment infrastructure over time. Unlike transaction monitoring (which checks if *this* payment succeeded), observability tracks the state, availability, and performance of the underlying systems (processors, networks, banks) to understand *why* outcomes occur.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does payment system observability matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Payment systems are complex distributed networks. When approvals drop or payouts stall, transaction logs rarely explain the root cause. Observability provides the \\\"flight recorder\\\" data needed to distinguish between a bad customer (fraud), a technical failure (downtime), or a systemic policy shift (risk restriction).\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Documentation Index](../index.md)\nSee also: [Dispute Infrastructure](./dispute-infrastructure.md), [Payment Risk Events](./payment-risk-events.md)\n\n# Payment System Observability\n\n## Definition\nPayment system observability is the practice of measuring and explaining the behavior of payment infrastructure over time. Unlike transaction monitoring (which checks if *this* payment succeeded), observability tracks the state, availability, and performance of the underlying systems (processors, networks, banks) to understand *why* outcomes occur.\n\n## Why it matters\nPayment systems are complex distributed networks. When approvals drop or payouts stall, transaction logs rarely explain the root cause. Observability provides the \"flight recorder\" data needed to distinguish between a bad customer (fraud), a technical failure (downtime), or a systemic policy shift (risk restriction).\n\n## Signals to monitor\n- **Authorization Decline Rates**: Spikes in specific failure codes (e.g., `do_not_honor`).\n- **Latency Distribution**: How long different processors take to respond to auth requests.\n- **Status Transitions**: Changes in account standing (e.g., `active` → `restricted`).\n- **Payout Timing**: Deviations from expected settlement schedules.\n- **Webhook Reliability**: The success rate of asynchronous state updates.\n\n## Breakdown modes\n- **Latency Drift**: Slow API responses causing timeouts downstream.\n- **State Desynchronization**: The processor thinks an account is active, but the network rejects txns.\n- **Webhook Failures**: Critical updates (like chargebacks) failing to allow ingestion.\n- **Threshold Crossings**: Metrics inadvertently triggering automated risk controls.\n\n## Where observability fits\n- **Unified Signals**: Aggregating data across multiple processors into a single view.\n- **State Preservation**: keeping a history of account status changes for auditability.\n- **Incident Semantics**: Translating raw error codes into human-readable incidents.\n- **Audit Trails**: Organizing evidence of system behavior for compliance or disputes.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### How does this differ from APM (Datadog/NewRelic)?\nAPM monitors *your* code and servers. Payment observability monitors the *external dependencies* (Stripe, Adyen, Visa) that handle your money.\n\n### Does this replace fraud tools?\nNo. Fraud tools analyze *user intent* (is this person stealing?). Observability analyzes *infrastructure behavior* (is the processor rejecting valid cards?).\n\n### Can it fix a declined transaction?\nNo. It explains *why* the decline happened so you can decide whether to retry, route elsewhere, or ask the user for a new method.\n\n## See also\n- [Payment Risk Scoring](../risk/how-payment-risk-scoring-works.md)\n- [Payment Risk Events](./payment-risk-events.md)\n- [Dispute Infrastructure](./dispute-infrastructure.md)\n",
    "refactor_plan.md": "# Documentation Inventory and Canonical Strategy\n\n## Canonical Map\n\n### 1. Payment Risk Events\n**Canonical**: `docs/pillars/payment-risk-events.md`\n- Subordinates:\n  - `docs/how-it-works/how-payment-infrastructure-detects-risk-events.md`\n  - `docs/how-it-works/why-risk-events-follow-growth.md`\n\n### 2. Dispute Infrastructure\n**Canonical**: `docs/pillars/dispute-infrastructure.md`\n- Subordinates:\n  - `docs/risk/how-chargebacks-propagate.md`\n  - `docs/risk/how-card-networks-handle-disputes.md`\n  - `docs/risk/why-dispute-win-rates-vary.md`\n  - `docs/risk/how-dispute-evidence-works.md`\n  - `docs/risk/how-dispute-aging-curves-work.md`\n\n### 3. Payment Settlements\n**Canonical**: `docs/how-it-works/how-payment-settlements-work.md`\n- Subordinates:\n  - `docs/how-it-works/how-settlement-batching-works.md`\n  - `docs/risk/how-payout-delays-work.md`\n  - `docs/risk/how-liability-horizons-affect-payouts.md`\n  - `docs/risk/how-shadow-risk-accumulates.md`\n  - `docs/risk/how-negative-balance-cascades-form.md`\n\n### 4. Payment Reserves\n**Canonical**: `docs/risk/what-is-a-payment-reserve.md`\n- Subordinates:\n  - `docs/risk/how-reserve-release-logic-works.md`\n  - `docs/risk/why-payment-processors-freeze-funds.md`\n  - `docs/risk/why-major-processors-freeze-funds.md` (Merge or link)\n  - `docs/risk/how-dispute-reserve-feedback-loops-work.md`\n\n### 5. Merchant Underwriting\n**Canonical**: `docs/risk/how-merchant-underwriting-works.md`\n- Subordinates:\n  - `docs/risk/how-kyc-and-underwriting-reviews-work.md`\n  - `docs/risk/how-mcc-drift-affects-underwriting.md`\n  - `docs/risk/why-processors-request-documents.md`\n  - `docs/risk/how-compliance-timing-gaps-form.md`\n  - `docs/risk/how-aml-screening-works.md`\n\n### 6. Payment Risk Scoring\n**Canonical**: `docs/risk/how-payment-risk-scoring-works.md`\n- Subordinates:\n  - `docs/risk/how-fraud-model-drift-occurs.md`\n  - `docs/risk/how-risk-model-retraining-lag-works.md`\n  - `docs/risk/how-multi-signal-correlation-affects-risk.md`\n  - `docs/risk/how-risk-threshold-events-work.md`\n  - `docs/how-it-works/how-risk-threshold-hysteresis-works.md`\n  - `docs/risk/how-rolling-risk-windows-work.md`\n\n### 7. Transaction Monitoring\n**Canonical**: `docs/risk/how-transaction-monitoring-works.md`\n- Subordinates:\n  - `docs/risk/how-geo-velocity-affects-risk.md`\n  - `docs/risk/how-bin-country-mismatch-affects-risk.md`\n  - `docs/risk/how-retry-logic-affects-risk.md`\n  - `docs/risk/how-retry-amplification-increases-exposure.md`\n  - `docs/how-it-works/how-retry-storms-form.md`\n\n### 8. Network Rules & Monitoring\n**Canonical**: `docs/risk/how-network-monitoring-programs-work.md`\n- Subordinates:\n  - `docs/how-it-works/how-card-network-rule-changes-affect-merchants.md`\n  - `docs/risk/how-network-vs-processor-authority-works.md`\n  - `docs/risk/understanding-decline-reason-codes.md`\n\n### 9. Refunds & Reversals\n**Canonical**: `docs/risk/how-refunds-and-reversals-propagate.md`\n- Subordinates:\n  - `docs/risk/how-refund-abuse-patterns-work.md`\n\n### 10. Payment System Observability\n**Canonical**: `docs/pillars/payment-system-observability.md`\n- Subordinates:\n    - (Most Use Cases filter up to this or Transaction Monitoring)\n\n## Overlap Notes\n- `why-payment-processors-freeze-funds.md` and `why-major-processors-freeze-funds.md` are heavily overlapping. Will designate only one to be canonical-adjacent or keep both if clear distinction exists (e.g. one generic, one specific to big players).\n",
    "risk-intelligence.md": "# Risk Intelligence API: Operational Overview\n\nThis document provides technical and operational clarity for the PayFlux Risk Intelligence layer.\n\n## Authentication & Quotas\nUse the `x-payflux-key` header to authenticate and access higher-tier rate limits.\n\n| Tier | Header | Rate Limit | Capacity |\n|------|--------|------------|----------|\n| **ANONYMOUS** | (None) | 1 req / min | 3 |\n| **FREE** | `x-payflux-key: pf_test_...` | 5 req / min | 10 |\n| **PRO** | `x-payflux-key: pf_live_...` | 60 req / min | 100 |\n\n## Core Endpoints\n\n### 1. Risk Scan (`POST /api/v1/risk`)\nPerform a real-time risk assessment of a merchant URL.\n- **Request**: `{\"url\": \"...\", \"industry\": \"...\", \"processor\": \"...\"}`\n- **Headers**: `x-payflux-key` (optional), `x-trace-id` (returned)\n- **Response**: `ResponseSchema` (Standard risk snapshot)\n\n### 2. Audit History (`GET /api/v1/risk/history?url=...`)\nReturns the full timeline of scans performed for a given host.\n- **Payload**: Includes raw snapshots of every previous scan.\n\n### 3. Intelligence Trend (`GET /api/v1/risk/trend?url=...`)\nReturns deterministic behavioral signals for a merchant.\n- **Trend Logic**:\n    - `DEGRADING`: Risk tier increased in the latest scan (risk drift).\n    - `IMPROVING`: Risk tier decreased in the latest scan.\n    - `STABLE`: No change in risk tier.\n- **Policy Surface**: Current counts of Present/Weak/Missing compliance policies.\n\n### 4. System Health (`GET /api/v1/risk/health`)\nReturns real-time in-memory counters for SSRF blocks, rate limit denials, and scan success rates.\n\n## Caching & Performance\n- **Fresh Scans**: 24 hours (`CACHE_TTL.URL_CRAWL`)\n- **Negative Caching**: 1 hour (for scan failures)\n- **DNS/SSRF Safety**: 5 seconds\n- **Deduplication**: In-flight concurrent requests for the same URL are deduped (leader/follower pattern).\n\n## Observability\nCheck `x-trace-id` in every response header. This ID maps to a structured JSON log entry in our internal telemetry with the event type:\n- `risk_request_start` / `risk_request_complete`\n- `risk_ssrf_block`\n- `risk_rate_limit_deny`\n- `risk_cache_hit` / `risk_cache_miss`\n- `risk_history_read` / `risk_trend_read`\n",
    "risk/hidden-timeline-of-a-processor-hold.md": "# The Hidden Timeline of a Processor Hold\n\n**Definition:**  \nA processor hold is not a single action but a staged response that unfolds over time as risk signals accumulate and cross internal thresholds.\n\n**Impact:**  \nProcessor holds affect payout timing, reserve requirements, and merchant survival. They often appear sudden to merchants but are typically the result of hours or days of escalating signals.\n\n**What an observability system should surface:**  \nAn observability system should expose the progression of risk signals before funds are frozen, including failure clustering, retry amplification, and network program triggers.\n\n---\n\n## Up\nPayment Risk Mechanics\n\n## See also\n- [Why payment processors freeze funds](why-payment-processors-freeze-funds.md)  \n- [Payment incident detection](payment-incident-detection.md)  \n- [How payment reserves and negative balances work](mechanics-payment-reserves-and-balances.md)  \n\n---\n\n## What is a processor hold?\n\nA processor hold is an operational restriction applied to a merchant account that delays or withholds settlement of funds due to elevated risk.  \nHolds are typically driven by internal risk models, network compliance programs, or abnormal transaction behavior.\n\nProcessors apply holds to limit downstream liability while investigating merchant behavior or network-level risk exposure.\n\n---\n\n## The hidden timeline of a processor hold\n\nProcessor holds usually follow a progression:\n\n### Stage 0 — Normal operation  \nTransaction behavior falls within historical variance.  \nRisk models observe but take no action.\n\n### Stage 1 — Risk signal formation  \nEarly signals emerge:\n- Elevated decline rates  \n- Retry amplification  \n- Geo or BIN volatility  \n- Dispute acceleration  \n\nThese signals are usually not visible to merchants.\n\n### Stage 2 — Internal model escalation  \nRisk scores cross soft thresholds:\n- Payouts may slow  \n- Reserves may increase  \n- Transaction limits may change  \n\nMerchants often perceive this as “random” degradation.\n\n### Stage 3 — Network program interaction  \nNetwork monitoring programs or compliance rules may activate:\n- Monitoring flags  \n- Evidence requests  \n- Traffic classification changes  \n\nThis stage often precedes formal account review.\n\n### Stage 4 — Merchant-facing restriction  \nThe processor enforces visible controls:\n- Payout holds  \n- Rolling reserves  \n- Capability restrictions  \n- Documentation requests  \n\nThis is typically the first moment the merchant becomes aware.\n\n### Stage 5 — Resolution or termination  \nOutcomes include:\n- Release of funds  \n- Long-term reserve  \n- Account closure  \n- Migration pressure  \n\n---\n\n## Signals to monitor\n\nKey signals that precede processor holds:\n\n- Failure rate velocity (not just averages)  \n- Retry density per transaction  \n- Dispute aging curves  \n- Geo or issuer entropy  \n- Time-to-first-payout drift  \n\nThese signals rarely spike in isolation. Holds usually follow correlated movement.\n\n---\n\n## Breakdown modes\n\nCommon escalation patterns:\n\n- Retry storms after partial outages  \n- Fraud model false positives  \n- BIN or region-specific collapse  \n- Dispute clustering  \n- Network program flagging  \n\nEach pattern produces a different timeline shape.\n\n---\n\n## How PayFlux would alert\n\nA detection system should not wait for the hold itself.  \nIt should alert on:\n\n- Acceleration of failure clusters  \n- Divergence from historical baselines  \n- Early payout behavior changes  \n- Risk score momentum, not thresholds  \n\nAlerts should describe the trajectory, not just the state.\n\n---\n\n## Why processor holds feel sudden\n\nMerchants experience holds as instantaneous because:\n\n- Most escalation happens internally  \n- Thresholds are opaque  \n- Communication is delayed  \n- Network actions are asynchronous  \n\nObservability reduces surprise by making escalation visible.\n\n---\n\n## FAQ\n\n**Why do processors freeze funds without warning?**  \nBecause risk signals usually form hours or days before visible action, and internal thresholds are not exposed to merchants.\n\n**Are holds always caused by fraud?**  \nNo. They can be triggered by operational instability, dispute acceleration, or network program rules.\n\n**Can holds be predicted?**  \nYes, by monitoring the rate of change of failure, disputes, and payout behavior rather than static averages.\n\n**Is a reserve the same as a hold?**  \nNo. A reserve is a risk mitigation mechanism; a hold is a restriction on settlement.\n\n---\n\n## Summary\n\nProcessor holds are the final step in a multi-stage risk response.  \nThey are rarely random and usually reflect an unseen progression of risk signals.\n\nUnderstanding the timeline allows operators to intervene before funds are frozen.\n",
    "risk/how-aml-screening-works.md": "# How AML Screening Works\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [KYC and Underwriting](./how-kyc-and-underwriting-reviews-work.md)\n\n## Definition\nAML (Anti-Money Laundering) Screening is the automated process of checking transactions and account holders against global sanctioned lists (OFAC, UN, SDNs) and Politically Exposed Persons (PEPs). It identifies \"Bad Actors\" before they can use the financial system to move illicit funds.\n\n## Why it matters\nLegal Survival. Violating AML laws is a criminal offense, not just a contractual one. If you process a transaction for a sanctioned entity, you are liable for massive fines and loss of your processing license. It is the \"Hard Gate\" of the financial world.\n\n## Signals to monitor\n- **Name Match Probability**: The % similarity between a user's name and a sanctioned entity.\n- **Geographic Proximity**: Transactions originating from or destined for high-risk/sanctioned regions.\n- **Velocity Spikes**: Sudden, unexplained jumps in transaction frequency or volume that mimic laundering patterns.\n- **Structural Anomaly**: Small, repetitive transactions designed to stay under reporting thresholds (Structuring).\n\n## Breakdown modes\n- **The False Match**: A legitimate user sharing a name with a criminal (e.g., \"John Smith\"), triggering a manual review.\n- **Outdated Lists**: Using a screening vendor that lags behind OFAC updates.\n- **Parsing Failures**: Automated systems missing a match due to special characters or transliteration errors (e.g., \"Cyrano\" vs \"Kyrano\").\n\n## Where observability fits\nObservability provides an audit trail of \"When\" and \"Why\" someone was screened, allowing you to prove compliance to regulators and track the \"Review Queue\" length to prevent operational bottlenecks.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is AML Screening?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"AML Screening is the process of checking users and transactions against global watchlists to prevent illicit money movement.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is screening mandatory?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. It is a legal requirement for any entity that moves or handles money.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What happens if there is a match?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The transaction is usually paused or frozen, and a manual review (SAR filing) may be required.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-bin-country-mismatch-affects-risk.md": "# BIN/Country Mismatch\n\nUp: [Payment Risk scoring](./how-payment-risk-scoring-works.md)\nSee also: [Geo Velocity](./how-geo-velocity-affects-risk.md)\n\n## Definition\nA BIN/Country Mismatch occurs when the country of the issuing bank (identified by the first 6-8 digits of the card, the BIN) does not match the country where the transaction is originating (identified by the user's IP address). It is one of the highest-confidence \"Weak Signals\" in fraud detection.\n\n## Why it matters\nFraud Correlation. Most people use cards issued in the country where they live. A \"UK Card\" being used on a \"Russian IP\" is statistically 10x more likely to be fraud than a local match. Blocking this intersection prevents massive losses while allowing local traffic to flow freely.\n\n## Signals to monitor\n- **IP Country**: The location associated with the user's internet connection.\n- **BIN Country**: The home country of the bank that issued the credit card.\n- **VPN/Proxy Bit**: Whether the user is attempting to hide their true IP location.\n\n## Breakdown modes\n- **The Expat/Traveler**: A legitimate user living abroad or on vacation being blocked because they are using their \"Home\" card on a \"Foreign\" IP.\n- **VPN Mis-Routing**: A user's work VPN or privacy tool making it appear as though they are in a high-risk country.\n- **Corporate Cards**: Employees of global companies using cards from a different regional headquarters than their physical location.\n\n## Where observability fits\nObservability allows you to visualize the \"Distance\" between BIN and IP. By mapping successful vs. fraudulent \"Mismatches,\" you can tune thresholds to allow low-risk mismatches (e.g., US/Canada) while hard-blocking high-risk ones.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a BIN/Country Mismatch?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is a discrepancy between the country where a card was issued and the country where the user is physical located during a purchase.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Should I block all mismatches?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This would block legitimate travelers. You should use it as a signal to trigger secondary verification (like 3DS).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How accurate is BIN data?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Very. BIN databases are maintained by the networks (Visa/MC) and are the source of truth for card origin.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-card-networks-handle-disputes.md": "# How Card Networks Handle Disputes\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also: [How Chargebacks Propagate](./how-chargebacks-propagate.md)\n\n## Definition\nCard Networks (Visa, Mastercard, Amex) act as the \"Supreme Court\" of payments. They do not hold money or talk to customers; instead, they define the rules (Reason Codes) and the legal process (Arbitration) that banks must follow when a cardholder disputes a charge. \n\n## Why it matters\nThe Network is the final authority. If a merchant and an issuer cannot agree on a dispute, the Network decides. Their rules are binding and often change twice a year in \"Mandate Updates.\" Successfully navigating a dispute requires speaking the specific \"Language\" of the Network's Reason Codes.\n\n## Signals to monitor\n- **Reason Code**: The specific 4-digit ID (e.g., Visa 10.4) that defines the accusation.\n- **Cycle Status**: Where the dispute is in the chain (Retrieval, Chargeback, Representment, Arbitration).\n- **Mandate Updates**: Biannual changes to trial rules and evidence requirements.\n\n## Breakdown modes\n- **Reason Code Mismatch**: Proving delivery to fight a \"Card Not Present Fraud\" dispute is valid. Proving delivery to fight a \"Credit Not Processed\" dispute is a waste of time.\n- **Arbitration Fees**: If you lose an appeal at the Network level, they charge a ~$500 \"Arbitration Fee\"—often more than the transaction itself.\n- **Mandate Lag**: Failing to update your evidence engine to match new Network rules for 3D Secure or recurring billing.\n\n## Where observability fits\nObservability tracks the source of the dispute rules. By monitoring Network \"Mandates\" and automated \"Reponse Engines,\" you can ensure that the evidence you submit always matches the absolute latest Network requirements.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I email Visa to fight a dispute?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. You talk to your Acquirer/Processor. They represent you to the Card Network.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Arbitration?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The final stage of a dispute where the Card Network acts as a judge. The loser pays a heavy fine (~$500).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is 3D Secure?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A network protocol that shifts liability for fraud disputes from the merchant to the issuing bank.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-chargebacks-propagate.md": "# Chargeback Propagation\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also:\n- [Dispute Evidence](./how-dispute-evidence-works.md)\n- [How Refunds and Reversals Propagate](./how-refunds-and-reversals-propagate.md)\n- [Handling Dispute Surges](../use-cases/handling-dispute-surges.md)\n\n## Definition\nChargeback Propagation is the multi-step journey of a dispute from the Cardholder's Bank (Issuer) -> Card Network -> Acquiring Bank -> Processor -> Merchant. It is a slow, asynchronous message chain that often takes weeks to complete.\n\n## Why it matters\nLatency and Forecasting. You might receive a chargeback notification 45 days after the sale. This \"Blind Spot\" means your current risk models are always fighting the war from last month. Understanding the lag is critical for accurate forecasting and modeling the exposure tail.\n\n## Signals to monitor\n- **TC40 / SAFE Reports**: Early fraud warnings sent by the network days before the actual chargeback lands.\n- **Retrieval Requests**: \"Soft inquiries\" from the bank asking for details, often a precursor to a chargeback.\n- **Dispute Webhooks**: Real-time pings from the processor when a dispute officially enters the system.\n- **Lag Metrics**: Measuring \"Days to Dispute\" (Sale Date vs Dispute Date) to calculate exposure probability.\n\n## Breakdown modes\n- **Evidence Timeout**: Failing to respond within strict timeframes (usually 14-20 days), leading to automatic loss.\n- **Double Refund**: Refunding a customer *after* a chargeback has already arrived, resulting in losing funds twice.\n- **Representment Failure**: Submitting illegible or irrelevant evidence that is auto-rejected by network systems.\n- **Financial Reconciliation Gaps**: Debited funds for disputes not being correctly credited back after a representment win.\n\n## Implementation notes\nObservability should track win rates by reason code and correlate representment efforts with financial outcomes to ensure the system reflects the true state of disputes.\n\n## Upstream Causes\nChargeback propagation is driven by:\n- clustered dispute events\n- delayed issuer responses\n- shared traffic patterns\n- model generalization\n- threshold-based enforcement\n\nPropagation begins when localized disputes are treated as global signals.\n\n\n## Downstream Effects\nPropagation leads to:\n- elevated fraud scores\n- reserve growth\n- account-level penalties\n- traffic suppression\n- portfolio-wide risk reclassification\n\nIt transforms individual disputes into systemic risk.\n\n\n## Common Failure Chains\n**Dispute Cluster → Model Shift → Threshold Trigger**\n\n**Issuer Spike → Portfolio Risk Increase**\n\n**Refund Delay → Chargeback Wave → Enforcement Escalation**\n\nThese chains explain how disputes scale beyond their original transactions.\n\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Chargeback Propagation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Chargeback Propagation is the multi-step journey of a dispute from the Cardholder's Bank to the Card Network, Acquiring Bank, Processor, and finally the Merchant.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Chargeback Propagation take so long?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because it involves multiple financial institutions and network layers, each with their own processing times and manual review requirements.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I stop a chargeback once it has propagated?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Once a chargeback is filed, it must play out through the representment process. You can only prevent them via refunds *before* the filing occurs.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Who decides the outcome of a chargeback?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The Issuing Bank (the customer's bank) acts as the judge in chargeback disputes, which is why the system often feels biased towards cardholders.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-compliance-timing-gaps-form.md": "# Compliance Timing Gaps\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also:\n- [Payout Delays](./how-payout-delays-work.md)\n- [Merchant Underwriting](./how-merchant-underwriting-works.md)\n\n## Definition\nA Compliance Timing Gap is the dangerous window between \"Money Moving\" and \"Risk Checking.\" It occurs when instant payments outpace asynchronous compliance checks (KYC/AML), leaving the platform exposed to regulatory violations.\n\n## Why it matters\nLiability. If a sanctioned entity moves money on your platform, you are liable even if you ban them shortly after. The violation occurred the moment the money moved. Regulators punish the *gap*.\n\n## Signals to monitor\n- **Time-to-Review**: Average minutes between User Signup and Compliance Decision.\n- **Gap Volume**: Total dollars processed by users in the \"Pending Review\" state.\n- **Enforcement Lag**: Time between clicking \"Ban\" and the user being blocked in the database.\n- **Vendor Latency**: Response times from IDV providers (e.g., Persona, Checkr).\n- **Exposure Meter**: Cumulative value flowing through unverified user paths.\n\n## Breakdown modes\n- **Instant Payouts**: Releasing funds before KYC signals are finalized.\n- **Queue Overload**: Manual review backlogs extending the gap from minutes to days.\n- **Fail-Open**: System defaulting to \"Allowed\" when compliance APIs are unreachable.\n- **State Integrity Failures**: Users reaching enabled payout states without verified signals.\n\n## Implementation notes\nObservability provides operational clarity to navigate these gaps, but it does not override processor or network controls. Synchronous blocking checks are required for high-velocity or high-value movement.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Compliance Timing Gap?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Compliance Timing Gap is the dangerous window between 'Money Moving' and 'Risk Checking.' It occurs when instant payments outpace asynchronous compliance checks.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Compliance Timing Gaps matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Liability. Regulators punish the gap because a violation occurs the moment money moves, regardless of later account actions.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I do checks later?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"For low amounts, sometimes. But for high velocity or payouts, checks must be blocking (synchronous).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is 'Fail-Open' vs 'Fail-Closed'?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Fail-Closed means the system denies transactions if verification is unavailable, while Fail-Open allows them, creating potential exposure.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-dispute-aging-curves-work.md": "# Dispute Aging Curves\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also: [Liability Horizons](./how-liability-horizons-affect-payouts.md)\n\n## Definition\nDispute Aging Curves (Vintage Analysis) visualize the arrival of disputes over time for a specific sales cohort. Instead of looking at disputes as they happen, it answers: \"For the sales we made in January, how many disputes have arrived by Day 30? Day 60? Day 120?\" \n\n## Why it matters\nForecasting. Disputes take up to 120 days to fully materialize. If you only look at \"Today's Disputes,\" you are missing 90% of the risk from recent sales. The Curve allows you to predict the \"Final Loss\" of a cohort based on its early trajectory, allowing you to stop a bad marketing campaign before the bills come due.\n\n## Signals to monitor\n- **Curve Velocity**: The slope of the line. Is it flattening (Safe) or going vertical (Danger)?\n- **Day 30% Projection**: \"Typically, 40% of disputes arrive by Day 30. If this month is 60%, the final rate will be 1.5x higher than normal.\"\n- **Cohort Delta**: Comparing the current cohort's curve against the 12-month historical average.\n\n## Breakdown modes\n- **The Long Tail**: A forgotten recurring billing charge generating a \"curve spike\" 11 months after the initial sale.\n- **The Delivery Spike**: A shipping failure that causes the curve to hit its maximum on Day 15 (when customers expect the goods).\n- **Cohort Rot**: A specific marketing campaign or affiliate partner bringing in users with permanently worse aging curves than organic users.\n\n## Where observability fits\nObservability provides predictive alerting. By modeling the \"Expected Shape\" of your curve, the system can alert you on Day 10 that a cohort is likely to breach network thresholds on Day 60, giving you 50 days to take corrective action.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How long is the tail of the curve?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Usually 120 days covers 98% of disputes, though some network rules allow for up to 540 days.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why calculate by vintage instead of activity?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Calculating by 'Activity Month' hides the delay. Vintage is the only 'True' view of the actual loss rate of a specific sale.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I influence the curve?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. Better shipping notifications and active customer communication flatten the 'late' part of the curve.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-dispute-evidence-works.md": "# Dispute Evidence\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also: [Chargeback Propagation](./how-chargebacks-propagate.md), [Dispute Win Rates](./why-dispute-win-rates-vary.md)\n\n## Definition\nDispute Evidence is the \"Legal Brief\" a merchant submits to fight a chargeback. It is a collection of data points—invoices, shipping proofs, logs—that must prove the transaction was valid relative to the *specific* Reason Code filed by the cardholder.\n\n## Why it matters\nSpecificity Wins. Sending a tracking number for a \"Fraud\" dispute is useful. Sending a tracking number for a \"Credit Not Processed\" dispute is useless. You must answer the *specific* accusation made by the cardholder. A \"Data Dump\" leads to an automatic loss.\n\n## Signals to monitor\n- **Representment Rate**: The % of disputes you choose to fight vs. accept.\n- **Win Rate by Code**: \"We win 40% of Fraud disputes but 0% of Service disputes.\"\n- **Auto-Win Potential**: Identifying cases with perfect evidence (AVS Match + 3DS Auth) that should be fought automatically.\n- **Cost/Benefit**: Tracking whether the cost of fighting a dispute ($15 processing fee) exceeds the transaction value.\n\n## Breakdown modes\n- **The Data Dump**: Uploading 50 pages of unorganized logs. The bank analyst has roughly 60 seconds to review; they will reject unorganized files.\n- **Illegible Docs**: Using blurry screenshots or tiny text that automated network scanners cannot parse.\n- **Wrong Evidence Type**: Proving delivery to \"Main St\" when the cardholder's billing address was \"Oak St\" (AVS Mismatch).\n\n## Where observability fits\nObservability automates \"Asset Retrieval.\" By linking a Dispute ID to its original Transaction ID, the system can instantly pull the relevant invoice, shipping proof, and IP logs into a standardized PDF format designed for bank approval.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is 'Compelling Evidence'?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A specific network term for data points (IP, Device ID, History) that link a dispute to previous undisputed transactions by the same user.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I submit video evidence?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Generally no. PDFs or JPEGs are the industry standard for network submissions.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does the customer see the evidence?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Often yes. The issuing bank shares it with the cardholder to confirm if they wish to proceed with the dispute.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-dispute-reserve-feedback-loops-work.md": "# Dispute-Reserve Feedback Loops\n\nUp: [Payment Reserves & Balances](mechanics-payment-reserves-and-balances.md)\nSee also:\n- [Chargeback Propagation](how-chargebacks-propagate.md)\n- [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\n- [How Negative Balance Cascades Form](./how-negative-balance-cascades-form.md)\n- [How Payout Delays Work](./how-payout-delays-work.md)\n\n## Definition\nA Feedback Loop is a dangerous \"Death Spiral\" where a risk action (like a Reserve) worsens the very metric it monitors (Disputes). The chain reaction typically follows: Reserve -> Cash Flow Crunch -> Service Failure -> Customer Anger -> More Disputes -> Higher Reserve.\n\n## Why it matters\nSurvival. A feedback loop can destroy a healthy business in as little as 60 days. Identifying the loop early allows for communication with the processor for a \"Release Valve\" before the operational collapse becomes irreversible.\n\n## Signals to monitor\n- **Lead Time Correlation**: Spikes in \"Item Not Received\" disputes lagging 2-3 weeks behind a Reserve increase.\n- **Vendor Payment Health**: Tracking unpaid invoices to suppliers as a leading indicator of fulfillment failure.\n- **Refund Failures**: Spikes in \"Insufficient Funds\" errors when attempting to refund customers (often because the reserve locked the available balance).\n- **Quality Divergence**: Degradation in shipping speed or app uptime specifically following a financial constraint.\n\n## Breakdown modes\n- **The Liquidity Trap**: Having capital in the reserve but not in the bank, leading to an inability to fulfill goods, which triggers more chargebacks.\n- **The Refund Block**: Attempting to resolve customer anger by refunding, only to have the processor block the refund because the available balance is zero.\n- **The Causality Spiral**: Visualizing how Event A (Reserve) directly leads to Event B (Dispute Spike) through operational constraint.\n- **Cash Flow Exhaustion**: \"Runway\" alerts indicating how many days of operations remain before current burn and reserve rates cease functionality.\n\n## Implementation notes\nBreaking the loop usually requires injecting external capital to fulfill existing orders while the processor holds revenue, or reducing sales volume to lower the absolute reserve amount.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Dispute-Reserve Feedback Loop?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Feedback Loop is a dangerous 'Death Spiral' where a risk action (like a Reserve increase) creates operational constraints that lead to more customer disputes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does a Dispute-Reserve Feedback Loop matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Survival. Without early identification and intervention, a feedback loop can lead to business insolvency in a very short window.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do I break the loop?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Breaking the loop requires injecting outside capital to fulfill orders while the processor holds funds, or pausing sales to reduce the absolute reserve liability.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Will the processor help?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Rarely. Processors often view the spiral as confirmation of insolvency rather than a structural side effect of their own risk controls.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-fraud-model-drift-occurs.md": "# How Fraud Model Drift Occurs\n\nUp: [Model Drift](mechanics-model-drift.md)\nSee also:\n- [What is Model Drift?](what-is-model-drift-in-fraud.md)\n\n## Definition\nFraud Model Drift is the subtle decay of a fraud model's accuracy over time. As fraud patterns evolve (e.g., from stolen cards to account takeovers), a static model catches less fraud (False Negatives) and blocks more good users (False Positives).\n\n## Why it matters\nDrift is a silent failure. Unlike a server crash, it does not trigger an immediate alert. It manifests as a slow increase in chargebacks or a gradual decline in conversion rates over months. Decisions become based on stale assumptions, making the system unreliable.\n\n## Signals to monitor\n- **Score Distribution Shift**: The average risk score shifting over time without changes in traffic quality.\n- **Approval Rate Erosion**: A steady drop in successful transactions without policy changes.\n- **Top Feature Shift**: Changes in which signals (e.g., location, device) are primary block drivers.\n- **Precision/Recall Decay**: The model becoming less accurate at predicting which transactions are actually fraud.\n\n## Breakdown modes\n- **Concept Drift**: The fundamental definition of what constitutes \"Fraud\" changes in the marketplace.\n- **Data Drift**: Baseline characteristics of incoming data change (e.g., a sudden shift from desktop to mobile users).\n- **Adversarial Adaptation**: Fraudsters identifying and intentionally bypassing static rules or model features.\n- **Seasonality**: Temporary drift during holidays where shopper behavior differs from the training baseline.\n\n## Where observability fits\nObservability involves baseline comparison—overlaying current vs. past score curves—and \"Shadow Modeling\" to run new models in listen mode before deployment. It ensures that model decay is detected before it leads to significant revenue loss or dispute spikes.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How often should models retrain?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Ideally continuously. Practically, most payment systems retrain weekly or bi-weekly to incorporate new fraud patterns.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I detect drift manually?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. If manual review queues fill with obvious approvals, the model has likely drifted and become too strict.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Seasonality in drift?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A form of temporary drift where holiday shoppers behave differently (faster, higher amounts) than normal shoppers, potentially triggering false positives.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-geo-velocity-affects-risk.md": "# How Geo-Velocity Affects Risk\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [BIN/Country Mismatch](./how-bin-country-mismatch-affects-risk.md), [Transaction Monitoring](./how-transaction-monitoring-works.md)\n\n## Definition\nGeo-Velocity (or \"Impossible Travel\") is a risk metric that calculates the physical distance between two consecutive transactions using a single card or account. If the distance divided by the time elapsed exceeds the speed of a commercial aircraft (roughly 500mph), the second transaction is flagged as high-risk.\n\n## Why it matters\nHigh-Confidence Signal. Unlike IP reputation, which can be manipulated, physical math is harder to fake. A card swipe in New York followed 10 minutes later by a card swipe in London is 100% indicative of card data theft or a shared account. It is the gold standard for \"Real-Time Block\" rules.\n\n## Signals to monitor\n- **Delta-T**: The time elapsed between transactions.\n- **Delta-D**: The Great Circle distance between the Two IP/Merchant locations.\n- **Velocity Ratio**: Miles per Hour (MPH) or Km per Hour (KPH) of the \"Traveler.\"\n\n## Breakdown modes\n- **The VPN Jump**: A legitimate user using a load-balanced VPN that switches from a US node to a European node in the middle of a session.\n- **Family Sharing**: A parent in California and a student in Boston both using a shared family account simultaneously.\n- **IP Inaccuracy**: Low-quality Geo-IP databases mislocating a user by hundreds of miles.\n\n## Where observability fits\nObservability visualizes the \"Impossible Travel\" trail. By mapping the velocity of your user base, you can set \"Safety Buffers\" (allowing for VPNs) while maintaining hard stops at the \"Supersonic\" threshold.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How accurate is Geo-IP?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Country-level is 99% accurate; City-level is roughly 80%. Street-level is unreliable for velocity math.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What about legitimate travel?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Legitimate travel takes hours. Fraud travel (Impossible Travel) happens in seconds or minutes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I block by country entirely?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes (Geo-Fencing). Many merchants block high-risk countries to reduce the noise on their velocity rules.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-kyc-and-underwriting-reviews-work.md": "# KYC and Underwriting Reviews\n\nUp: [Merchant Underwriting](./how-merchant-underwriting-works.md)\nSee also: [Document Requests](./why-processors-request-documents.md), [AML Screening](./how-aml-screening-works.md)\n\n## Definition\nKYC (Know Your Customer) and Underwriting Reviews are operational checkpoints where a human or automated system audits a merchant's identity and business model. Unlike the initial onboarding gate, these refer to the *ongoing* recertification or audits triggered by risk alerts, volume spikes, or routine compliance cycles.\n\n## Why it matters\nFriction and Stability. A review usually pauses payouts (and sometimes processing) immediately. This is the primary cause of \"Sudden\" account freezes. Understanding the triggers allows a merchant to prepare documentation in advance and minimize the \"Hold Time\" during a review.\n\n## Signals to monitor\n- **Document Request Tickets**: Inbound requests for ID, Bank Statements, or Invoices.\n- **Verification Status**: API flags like `verification.status: pending` or `due_by`.\n- **Payout State**: Funds moving to an `on_hold` or `pending_review` state despite successful processing.\n- **Ticket Aging**: Tracking how many days a review has been open relative to the processor's SLA.\n\n## Breakdown modes\n- **The Doc Loop**: Submitting a document, waiting days, and getting a rejection for \"blurriness\" or \"address mismatch,\" then repeating.\n- **The Silent Hold**: Payouts pausing without a clear dashboard notification or support ticket explaining the hold.\n- **False Positive Freezes**: Freezing a high-profile user or celebrity because their sudden volume spike \"tripped\" a generic fraud model intended for small merchants.\n\n## Where observability fits\nObservability creates an \"Audit Trail.\" By logging exactly when documents were uploaded and tracking \"Hold Volume\" (the total funds trapped), merchants can prove compliance and pressure processors to adhere to their review timelines.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do they need my ID again?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Expired documents, new beneficial owners, or changes in global regulatory requirements.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How long does a review take?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Standard reviews take 1-3 business days. Complex high-risk cases can take weeks.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can I speed up the process?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Provide clear, high-resolution PDFs where names match the account profile exactly.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-liability-horizons-affect-payouts.md": "# Liability Horizons and Payouts\n\nUp: [Liability Horizons](mechanics-liability-horizons.md)\nSee also:\n- [What Is a Liability Horizon?](what-is-a-liability-horizon.md)\n- [How Payout Delays Work](how-payout-delays-work.md)\n- [Settlement Timing Risk](what-is-settlement-timing-risk.md)\n\n## Definition\nThe Liability Horizon is the maximum time window during which a transaction can result in a chargeback or refund. While the standard is often 120 days, it can extend significantly for pre-orders or specific dispute types. It defines the \"Risk Tail\" of valid payments.\n\n## Why it matters\nCash Flow and Account Security. Processors often hold funds for the duration of the liability horizon (e.g., 120 days) after an account closure to ensure they have collateral for potential future disputes. Understanding this window is critical for accurate payout forecasting.\n\n## Signals to monitor\n- **Vintage Exposure**: Volume of sales still within the 120-day (or relevant) window.\n- **Tail Risk Projection**: Projected dispute rates for aging cohorts.\n- **Reserve Release Maturity**: Dates when specific bundles of held funds pass their liability threshold.\n- **Delivery date shifts**: Changes in fulfillment timing that push horizon clocks forward.\n\n## Breakdown modes\n- **The Delivery Gap**: For pre-orders, the 120-day clock only starts *on delivery*, not on sale, extending exposure.\n- **The Subscription Tail**: Disputes occurring at the end of a long-term service period (e.g., Month 11 of 12).\n- **The Liquidity Trap**: Having capital in reserves but being unable to use it for operations due to horizon duration.\n- **Inherited Liability**: Processors incurring 100% of horizon risk if a merchant becomes insolvent.\n\n## Implementation notes\nObservability should track the \"Liability Ledger\" to visualize open exposure against held reserves and forecast fund releases based on expiration dates.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Liability Horizon?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Liability Horizon is the time period during which a transaction can still be contested. It defines the 'Risk Tail' of valid payments.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Liability Horizons matter for payouts?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They determine how long the bank or processor may hold reserves. Shortening the perceived horizon (e.g., through fast delivery proof) can release cash faster.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I shorten the horizon?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No, it is set by Network Rules. However, fast shipping closes the delivery-related risk window earlier.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does it apply to refunds?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. Transactions can usually be refunded for 90-180 days, which must be accounted for in the liability window.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-mcc-drift-affects-underwriting.md": "# MCC Drift\n\nUp: [Merchant Underwriting](./how-merchant-underwriting-works.md)\nSee also: [Transaction Monitoring](./how-transaction-monitoring-works.md), [High-Risk Merchants](../verticals/payment-risk-observability-for-high-risk-merchants.md)\n\n## Definition\nMCC (Merchant Category Code) Drift occurs when a business evolves or pivots away from its original classification assigned at onboarding. For example, a bookstore (MCC 5942, Low Risk) that begins selling Crypto (MCC 6051, High Risk) has \"Drifted.\"\n\n## Why it matters\nCompliance and Contractual Risk. Processors underwrite for a specific risk profile. Changing your business model without notification is viewed as \"hiding\" risk, often leading to immediate termination for \"Breach of Contract\" or \"Merchant Category Code Misuse.\" It can also land a merchant on the MATCH list.\n\n## Signals to monitor\n- **Order Value Jump**: A sudden shift in Average Order Value (e.g., $20 -> $500).\n- **Dispute Reason Shifts**: A service business suddenly receiving \"Merchandise Not Received\" claims.\n- **Descriptor Match**: Verifying that the card statement descriptor still matches the actual website content.\n\n## Breakdown modes\n- **The Pivot**: A failing startup pivots to a high-risk model to survive but forgets to update their payment application.\n- **Scope Creep**: A marketplace adding a new category (like Tobacco or Pharmacy) that is highly regulated or prohibited by the network.\n- **Transaction Laundering**: Intentionally using a shell company's low-risk MCC to process payments for a banned or high-risk substance.\n\n## Where observability fits\nObservability uses anomaly detection to alert when traffic patterns deviate significantly from the \"Expected Profile.\" By triggering internal reviews every 6 months, a merchant can ensure their MCC always matches their current business reality.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I have multiple MCCs?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes, but you usually need separate Merchant Accounts (MIDs) for each distinct business line.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Who assigns the MCC?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The Processor/Acquirer assigns it based on your application and website content during onboarding.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is Drift always bad?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Growth is good. But unreported drift is a violation. Always notify your processor before a pivot.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-merchant-underwriting-works.md": "# Merchant Underwriting\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [KYC and Underwriting](./how-kyc-and-underwriting-reviews-work.md)\nUp: [Why Processors Request Documents](why-processors-request-documents.md)\nSee also:\n- [KYC and Underwriting Reviews](how-kyc-and-underwriting-reviews-work.md)\n- [MCC Drift](how-mcc-drift-affects-underwriting.md)\n- [Network Monitoring Programs](how-network-monitoring-programs-work.md)\nUp: [How AML Screening Works](how-aml-screening-works.md)\nSee also:\n- [KYC and Underwriting Reviews](how-kyc-and-underwriting-reviews-work.md)\n\n## Definition\nMerchant Underwriting is the risk assessment process performed by processors and acquiring banks to evaluate a business's eligibility for payment accounts. It analyzes creditworthiness, business model risk, and fraud exposure both at onboarding and continuously throughout the relationship.\n\n## Why it matters\nUnderwriting defines the \"terms of service\" for a merchant: how fast they get paid, how much they can process, and what fees they pay. It is not a one-time gate; \"Periodic Review\" means underwriting can intervene years into a relationship if risk factors change. Risk Prevention is the goal—stopping bad actors before the processor becomes liable for their losses.\n\n## Signals to monitor\n- **Account Status**: Flags like `pending_review`, `active`, or `rejected`.\n- **Information Requests**: Urgent demands for invoices, tracking numbers, or identity documents.\n- **Processing Limits**: Errors indicating \"Volume Limit Exceeded\" or \"Ticket Size Limit Exceeded.\"\n- **Category Codes**: The assigned MCC (Merchant Category Code) which dictates network rules.\n\n## Breakdown modes\n- **MCC Drift**: A merchant changing what they sell (e.g., T-shirts to Crypto) without notifying the processor, triggering a violation.\n- **Volume Shock**: Processing significantly more than the \"Estimated Monthly Volume\" declared at onboarding.\n- **Document Rejection**: Automated systems failing to parse a valid PDF invoice.\n\n## Where observability fits\nObservability provides status monitoring and limit tracking. By alerting when an account enters a review state or approaches approved underwriting caps, merchants can proactively manage their standing and document trails.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Merchant Underwriting?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Merchant Underwriting is the process of evaluating a business's creditworthiness and fraud risk *before* allowing them to process payments.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Merchant Underwriting matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Risk Prevention. The goal is to stop bad actors at the door. Once a merchant is live, the processor is liable for their losses.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are they reviewing me again?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Underwriting is continuous. Triggers include sudden growth, dispute spikes, or even routine annual compliance checks.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I speed up the review?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Only by providing exactly the documents requested as fast as possible. Support tickets rarely expedite the queue.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a 'Match' list?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The TMF (Terminated Merchant File) or MATCH list is a shared database of blacklisted high-risk merchants.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-multi-signal-correlation-affects-risk.md": "# Multi-Signal Correlation\n\nUp: [Payment Risk Scoring](./how-payment-risk-scoring-works.md)\nSee also: [Risk Detection Infrastructure](./mechanics-risk-detection-infrastructure.md), [Geo Velocity](./how-geo-velocity-affects-risk.md), [BIN/Country Mismatch](./how-bin-country-mismatch-affects-risk.md)\n\n## Definition\nMulti-Signal Correlation is the risk technique of combining multiple \"Weak Signals\" to form one \"Strong Conviction.\" For example: (Foreign IP) + (High Value) + (New Device) = 99% Fraud. Any one of these alone might be a valid transaction; together, they indicate highly probable malicious intent.\n\n## Why it matters\nFalse Positive Reduction. Blocking all \"Foreign IPs\" or all \"High Value\" transactions kills valid sales and alienates your best customers. Blocking only the *intersection* of these signals (e.g., Foreign + High Value) allows you to accept more revenue safely while accurately targeting fraud.\n\n## Signals to monitor\n- **Device + Velocity**: A new device combined with high transaction frequency.\n- **Bin + IP**: A UK-issued card being used from a Russian IP Address.\n- **Email + Name**: Discrepancies between user identity and email reputation (e.g., \"John Smith\" using a burner email).\n- **Correlation Matrix**: Frequency of specific signal combinations appearing in chargebacks.\n\n## Breakdown modes\n- **The Perfect Storm**: A legitimate user doing something unusual (e.g., buying a gift while traveling on a VPN) triggering all flags at once and resulting in an unfair block.\n- **Blind Spots**: Having incomplete data (e.g., missing Device ID) that breaks the correlation link and allows fraud to pass.\n- **Signal Decay**: Relying on outdated \"Bad IP\" or \"Bad Email\" lists that no longer reflect current fraud reality.\n\n## Where observability fits\nObservability provides rule tuning and explainability. By visualizing which signal combinations predict fraud most accurately, merchants can tune rules to maximize conversion and help support agents explain *why* a customer was blocked.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Multi-Signal Correlation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the technique of combining multiple 'weak' signals (like IP, location, and device) to create a high-confidence fraud conviction.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Multi-Signal Correlation matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It reduces false positives by only blocking transactions where multiple risk factors intersect, rather than blocking based on a single factor.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How many signals do I need?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Standard machine learning models use 100-200 features, while simple manual rules might use 3-5 key signals.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I verify suspicious signals?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. You can use 3D Secure or SMS verification to challenge the user. If they pass, the risk signals were likely a false positive.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-negative-balance-cascades-form.md": "# Negative Balance Cascades\n\nUp: [What Is a Payment Reserve](what-is-a-payment-reserve.md)\nSee also:\n- [Payment Reserves & Balances](mechanics-payment-reserves-and-balances.md)\n- [How Reserve Release Logic Works](how-reserve-release-logic-works.md)\n- [Why Payment Processors Freeze Funds](why-payment-processors-freeze-funds.md)\n- [Monitoring Negative Balances](../use-cases/monitoring-negative-balances.md)\n\n## Definition\nA Negative Balance Cascade is a financial chain reaction that occurs when returns, disputes, or fees exceed current sales. If a processor fails to debit a merchant's bank account to cover the hole, they often freeze processing entirely. The merchant is then trapped: they need new sales to clear the negative balance, but cannot process new sales *because* of the negative balance.\n\n## Why it matters\nExistential Survival. This state can kill a business in days. It converts a temporary operational issue (e.g., a batch of faulty goods) into a permanent infrastructure failure where the merchant loses the ability to transact globally.\n\n## Signals to monitor\n- **Daily Net Liquidity**: (Total Sales - Total Outflows). If this is consistently negative, a cascade is imminent.\n- **Settlement Availability**: Funds currently \"Waiting for Payout\" vs \"Needed for Refunds.\"\n- **Processor Debit Status**: Monitoring for `debit_failed` (NSF) events from the processor's bank calls.\n- **Float Depth**: The amount of collateral or \"Reserved\" funds held to buffer against sudden refund surges.\n\n## Breakdown modes\n- **The Weekend Gap**: Refunds process 24/7, but bank settlements only happen on business days. A merchant can go negative on Saturday and recover on Monday, but the \"Low Point\" may trigger an automated risk freeze.\n- **Fee Shock**: A processor debiting substantial monthly or annual fees from an account with low recent volume, pushing the balance into the red.\n- **Collection Trap**: A processor halting all new processing and demanding a wire transfer to clear a balance, while the merchant's only source of capital is new sales.\n\n## Where observability fits\nObservability provides \"Liquidity Prediction.\" By projecting refund volume against upcoming sales, the system can alert management to \"Top-up\" the processor account before the balance hits zero, avoiding an automated infrastructure freeze.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I wire money to fix a negative balance?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. Most processors provide a 'Wire Top-up' instruction to clear a balance and resume processing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is 'The Weekend Gap'?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The disparity between 24/7 refund activity and the Monday-Friday schedule of the banking system that moves settlement funds.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do I prevent a cascade?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By maintaining a 'Float' (a buffer of funds) in your processor account rather than paying out 100% of sales daily.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-network-monitoring-programs-work.md": "# Network Monitoring Programs\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also:\n- [Monitoring Dispute Ratios](../use-cases/monitoring-dispute-ratios.md)\n- [How Card Networks Handle Disputes](./how-card-networks-handle-disputes.md)\n\n## Definition\nNetwork Monitoring Programs (e.g., Visa VFMP, Mastercard ECP) are mandatory enforcement cycles triggered when a merchant's monthly dispute or fraud ratio exceeds network-defined thresholds (usually 0.9% and $75,000). Once \"qualified,\" a merchant enters a multi-month period of increased scrutiny, fines, and potential loss of processing privileges.\n\n## Why it matters\nFinancial and Operational Penalties. Entering a program is not just a warning; it often results in immediate \"Fine per Dispute\" (e.g., $50-$100 extra per chargeback) and a loss of the right to fight (represent) certain disputes. Failure to \"exit\" the program within a set timeframe (often 12 months) leads to permanent termination of the merchant account.\n\n## Signals to monitor\n- **Dispute Ratio (Count)**: Number of disputes divided by the number of transactions in the previous month.\n- **Fraud Ratio (Value)**: Total dollar volume of fraud-coded disputes divided by total processed volume.\n- **Threshold Proximity**: Warnings when metrics approach 0.6% (Visa's Warning level).\n- **Hysteresis Counters**: Tracking consecutive \"clean\" months required to exit the program.\n\n## Breakdown modes\n- **The \"Month 3\" Spike**: Having two clean months and then spiking in month 3, resetting the 12-month exit clock back to zero.\n- **Late reporting**: Discovering you were qualified for a program weeks after the fact because the processor's reporting lag.\n- **Threshold Crashing**: High volumes of small sales causing a count-based ratio to breach even when dollar volume remains low.\n\n## Where observability fits\nObservability provides early warning and recovery forecasting. By tracking your ratios in real-time, the system can predict program qualification before the networks send a notification, allowing you to dilute the ratio with \"clean\" sales or pause risky traffic immediately.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Visa VFMP and Mastercard VMP?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"These are monitoring programs that enforce strict limits on fraud and dispute ratios. Breach of these limits leads to fines and account termination.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How long does it take to exit a program?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Typically 3 to 12 consecutive months of performance below the limit, depending on the severity level (Standard vs. Excessive).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the penalty for being in a program?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Penalties include monthly fines (starting at $1k-$5k), per-dispute surcharges, and the potential loss of ability to process certain cards.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-network-vs-processor-authority-works.md": "# Network vs. Processor Authority\n\nUp: [Risk Thresholds](./how-risk-threshold-events-work.md)\nSee also:\n- [How Card Networks Handle Disputes](./how-card-networks-handle-disputes.md)\n- [How Network Monitoring Programs Work](./how-network-monitoring-programs-work.md)\n\n## Definition\nNetwork vs. Processor Authority refers to the hierarchy of rules and enforcement in the payment ecosystem. **Network Authority** (Visa/Mastercard) sets global mandates and liability rules, while **Processor Authority** (Stripe/Adyen) implements those rules and adds their own risk layers to protect their banking licenses.\n\n## Why it matters\nThe \"Silent Conflict.\" Sometimes a transaction is valid according to the Network but blocked by the Processor (or vice-versa). Understanding who made the \"Decline\" decision is critical for troubleshooting—you cannot fix a Network-level mandate issue by changing Processor-level settings.\n\n## Signals to monitor\n- **Response Source**: Identifying which layer generated an error code (Gateway, Processor, or Network).\n- **Mandate Drift**: Discrepancies between what the Network requires (e.g., 3DS) and what the Processor enforces.\n- **Decline Reason codes**: Mapping generic \"Declined\" messages to specific Network-level reason bits (e.g., \"NSF\" vs \"Do Not Honor\").\n\n## Breakdown modes\n- **Over-zealous Processors**: A processor blocking a valid sale because their internal model is more conservative than the card issuer's.\n- **Network Mandate Violations**: A processor failing to pass a required 3DS signal, leading to an automatic Network-level fine for the merchant.\n- **Lapsed Authority**: A processor's certificate or credential expiring, causing all Network requests to fail globally.\n\n## Where observability fits\nObservability provides \"Identity Attribution\" for declines. By decoding the response codes and tracing the request path, the system can tell you: \"This wasn't a bank decline; your processor's risk model blocked this before it ever reached the Network.\"\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Who has the final say on a payment?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The Issuing Bank (the user's bank) has the final 'Yes/No,' but the Network and Processor can both block it before it reaches the bank.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can my processor ignore network rules?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Processors must follow network mandates or face multi-million dollar fines and loss of license.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why did my processor block a sale the bank approved?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Processors often have 'Pre-processing' risk filters designed to prevent fraud from reaching the network, which helps maintain the processor's own standing with banks.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-payment-risk-scoring-works.md": "# How Payment Risk Scoring Works\n\nUp: [Risk Detection Infrastructure](./mechanics-risk-detection-infrastructure.md)\nSee also:\n- [Multi-Signal Correlation](./how-multi-signal-correlation-affects-risk.md)\n- [Transaction Monitoring](./how-transaction-monitoring-works.md)\n\n## Definition\nPayment Risk Scoring is the mathematical process of assigning a \"Probability of Fraud\" to every transaction. By analyzing hundreds of data points (IP, Device ID, Card History), risk engines produce a numerical score (e.g., 0-100) that dictates whether to Approve, Challenge (3DS), or Decline a payment in real-time.\n\n## Why it matters\nPrecision and Conversion. A crude \"Block all foreign IPs\" rule blocks good sales. A refined \"Risk Score\" allows a merchant to set specific thresholds for risk appetite—accepting a 10% risk on a $5 coffee, but requiring 100% certainty for a $5,000 laptop. It turns a binary \"Yes/No\" into a nuanced \"Maybe.\"\n\n## Signals to monitor\n- **Score Distribution**: Visualizing how many transactions fall into \"Low,\" \"Medium,\" and \"High\" risk buckets.\n- **Precision vs. Recall**: Measuring how many blocked transactions were actually fraud vs. how much fraud was missed.\n- **Feature Importance**: Identifying which signals (e.g., Email Age, AVS Match) are currently driving the highest scores.\n- **Latency**: The time taken (in milliseconds) for the score to be calculated.\n\n## Breakdown modes\n- **Model Drift**: A fraud model becoming less accurate over time as fraudster tactics evolve.\n- **Cold Start Problem**: Having zero historical data for a new user, leading to \"Average\" scores that might be too high or too low.\n- **Over-fitting**: A model becoming so specific to past attacks that it blocks legitimate new users with similar (but valid) profiles.\n\n## Where observability fits\nObservability provides \"Score Explainability.\" Instead of a generic \"Declined by Risk,\" the system can tell you: \"This transaction hit a score of 85 because of a 3-way mismatch between IP, BIN, and Shipping Address.\" This allows support teams to override false positives with confidence.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a good risk score?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It depends on the provider (e.g., Stripe Radar uses 0-100). Generally, lower is safer. Every merchant defines their own 'Cut-off' based on their margins.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I see the reason for a score?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes, high-end risk engines provide 'Reason Codes' (e.g., 'Velocity Violation') that explain the contributing factors.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does the score ever change?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The score is fixed at the moment of Transaction, but the *Model* that produces it is updated frequently based on new data.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-payout-delays-work.md": "# Payout Delays\n\nUp: [Payment Settlements](../how-it-works/how-payment-settlements-work.md)\nSee also:\n- [Monitoring Payout Delays](../use-cases/monitoring-payout-delays.md)\n- [Compliance Timing Gaps](./how-compliance-timing-gaps-form.md)\n- [Settlement Timing Risk](./what-is-settlement-timing-risk.md)\n\n## Definition\nPayout Delays occur when a processor pauses the settlement of funds for a specific batch or time period. Unlike a \"Freeze\" (which is indefinite), a Delay is usually temporary (24-72 hours) while a specific risk signal or batch anomaly is investigated.\n\n## Why it matters\nCash Flow. Most merchants operate on tight cycles where received funds pay for current inventory or operations. Even a 3-day delay can cause a merchant to miss payroll or default on vendor payments, potentially creating a cascade of failure across the business.\n\n## Signals to monitor\n- **Transit Time Variance**: \"Avg Time from Batch Close to Bank Deposit\" deviates from the standard T+2.\n- **Batch Status Transitions**: Batches moving from `paid` to `in_transit` or staying in `pending_review` longer than usual.\n- **Weekend and Holiday Effects**: Accounting for non-banking days in the settlement forecast to differentiate between bank closed delays and risk holds.\n- **Anomaly Detection**: Situations where newer batches are paid while older batches remain pending.\n\n## Breakdown modes\n- **The Weekend Trap**: A Friday batch delayed by 1 day settles on Tuesday instead of Monday due to bank closing times.\n- **The Holiday Cluster**: Significant banking holidays causing multiple days of sales to settle simultaneously, potentially triggering AML velocity alerts.\n- **The Silent Hold**: Processors pausing fund releases without sending automated email notifications to the merchant.\n- **SLA Violation**: Actual settlement time exceeding the processor's contractually promised duration (e.g., T+2 actual vs T+5 reality).\n\n## Implementation notes\nObservability allows for cash forecasting adjustments. By tracking \"Processor Promise\" vs \"Actual Performance,\" merchants can identify when a delay is occurring before it impacts payroll.\n\n## Upstream Causes\nPayout delays are caused by:\n- reserve growth\n- settlement batching failures\n- compliance reviews\n- negative balance protection\n- delayed issuer settlements\n- manual intervention queues\n\nThey occur when payout execution lags behind transaction authorization.\n\n\n## Downstream Effects\nPayout delays lead to:\n- cash flow disruption\n- reconciliation mismatches\n- merchant support escalations\n- increased refund pressure\n- higher dispute likelihood\n\nThey transform processing latency into business instability.\n\n\n## Common Failure Chains\n**Reserve Formation → Settlement Delay → Payout Hold**\n\n**Chargeback Spike → Balance Protection → Delayed Payout**\n\n**Compliance Review → Manual Queue → Settlement Lag**\n\nThese chains explain how technical delays become operational crises.\n\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is a payout delay a ban?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Usually no. It is typically a temporary investigation or a technical delay. If the risk signal is resolved, the funds are released.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I speed up a delayed payout?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Generally no. Wires move at banking system speeds. Instant Payout options (e.g., Push to Card) offer faster settlement but often have higher risk controls.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are payouts delayed on weekends?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because the Federal Reserve and the ACH system do not process transactions on weekends or most banking holidays.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-refund-abuse-patterns-work.md": "# Refund Abuse Patterns\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also:\n- [Monitoring Negative Balances](../use-cases/monitoring-negative-balances.md)\n- [How Multi-Signal Correlation Affects Risk](./how-multi-signal-correlation-affects-risk.md)\n\n## Definition\nRefund Abuse is a form of policy fraud where a customer exploits a merchant's return policies to obtain goods or services for free. Common patterns include \"Wardrobing\" (using an item and then returning it), \"Empty Box\" claims, and \"Item Not Received\" (INR) fraud for delivered goods.\n\n## Why it matters\nThe \"Silent Profit Killer.\" While chargebacks are visible and fined by banks, refund abuse often happens *within* the merchant's own dashboard, bypassing network monitoring. If left unchecked, it can lead to massive inventory loss and negative balance cascades.\n\n## Signals to monitor\n- **Refund-to-Sales Ratio**: Total refund value divided by total sales per customer or cohort.\n- **Serial Returners**: Customers with a high frequency of returns regardless of dollar value.\n- **Refund Latency**: The time elapsed between delivery and refund request.\n- **Mailing Address Clusters**: Multiple accounts requesting refunds for the same physical address.\n\n## Breakdown modes\n- **The \"Professional\" Abuser**: Organized groups sharing tips on which merchants have \"easy\" no-questions-asked refund policies.\n- **Account Takeover (ATO)**: Fraudsters hijacking legitimate accounts with good history to request refunds for new \"purchases.\"\n- **Policy Loophole Exploitation**: Using \"Free Returns\" to test stolen credit cards (Card Testing) or to launder small amounts of money.\n\n## Where observability fits\nObservability provides \"Identity Graphing\" to link disjointed refund requests. By visualizing the connections between Device IDs, Email patterns, and Shipping addresses, the system can flag a \"Refund Surge\" before it impacts your bank balance.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is refund abuse the same as a chargeback?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. A chargeback is filed through a bank. Refund abuse is requested directly from the merchant.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do I stop serial returners?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By implementing 'Risk-Based Return Policies'—offering instant refunds to good customers while requiring manual verification or return-shipping for 'Suspicious' ones.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can browsers block refund abusers?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No, but they can provide the 'Device Fingerprint' that allows merchants to identify if multiple accounts are the same person.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-refunds-and-reversals-propagate.md": "# How Refunds and Reversals Propagate\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also:\n- [How Chargebacks Propagate](./how-chargebacks-propagate.md)\n- [How Dispute Evidence Works](./how-dispute-evidence-works.md)\n\n## Definition\nRefund and Reversal Propagation is the asynchronous journey of a credit transaction from the Merchant -> Processor -> Card Network -> Issuing Bank -> Customer's Account. While a Sale is often authorized in seconds, a Refund can take 5–10 business days to fully settle and reflect on a cardholder's statement.\n\n## Why it matters\nThe \"Trust Gap.\" Customers often contact support because they don't see their refund immediately. If a merchant cannot \"prove\" the refund has propagated to the Network, the customer may file a \"Duplicate\" chargeback, leading to the merchant losing the funds twice.\n\n## Signals to monitor\n- **Refund Status**: API flags like `pending`, `succeeded`, or `failed`.\n- **ARN (Acquirer Reference Number)**: The unique ID generated once a refund hits the Card Network. This is the only \"Proof of Propagation.\"\n- **Settlement Lag**: The time between a refund being triggered and the funds being debited from the merchant's balance.\n\n## Breakdown modes\n- **The Double Refund**: Refunding a customer via the dashboard *after* they have already filed a chargeback for the same transaction.\n- **Insufficient Funds**: A refund failing because the merchant's available processor balance (or linked bank account) is empty.\n- **Card Expiry**: Attempting to refund a card that has been cancelled or expired, requiring a move to \"Alternative Refund\" methods (Check/ACH).\n\n## Where observability fits\nObservability provides \"Lifecycle Transparency.\" By fetching and surfacing the ARN (Acquirer Reference Number) for every refund, the system allows support agents to give customers deterministic proof that the money has left the merchant and is currently with the user's bank.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do refunds take 5-10 days?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because they involve batch processing across multiple legacy banking systems (ACH/Network clearing) that only move funds on business days.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I cancel a refund?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Usually no. Once a refund is 'Succeeded' in the API, it has been sent to the Network and cannot be clawed back.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is an ARN?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The Acquirer Reference Number is a unique tracking ID that allows a customer's bank to locate a specific refund within their system.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-reserve-release-logic-works.md": "# How Reserve Release Logic Works\n\nUp: [Payment Reserves & Balances](mechanics-payment-reserves-and-balances.md)\nSee also:\n- [What is a Payment Reserve?](what-is-a-payment-reserve.md)\n- [Why Payment Processors Freeze Funds](why-payment-processors-freeze-funds.md)\n- [How Negative Balance Cascades Form](./how-negative-balance-cascades-form.md)\n\n## Definition\nReserve Release Logic is the administrative and mathematical process by which a processor unlocks merchant funds that were held as collateral. It is typically time-bound (e.g., rolling 30-day releases) or event-bound (e.g., successful project delivery), ensuring funds are only released after the \"Risk Tail\" of a transaction has passed.\n\n## Why it matters\nFinancial Planning. Merchants often treat reserves as \"lost money,\" but they are actually a form of forced savings. Knowing exactly when capital unlocks allows for strategic reinvestment, debt repayment, or precise cash flow forecasting.\n\n## Signals to monitor\n- **Vintage Buckets**: Volume of funds categorized by their original processing date and scheduled release date.\n- **Net Release Flow**: The ratio of released funds vs. new withholding in the same period.\n- **Release Failures**: Funds that remain held despite passing their scheduled maturity date.\n- **Release Projections**: Mathematical forecasts of when specific reserve \"tranches\" will become available.\n\n## Breakdown modes\n- **The Extension**: Processors holding funds longer than originally promised due to sudden upticks in refunds or disputes.\n- **The Offset**: The processor using released reserves to cover current negative balances instead of paying them out.\n- **The Forever Hold**: Indefinite fund withholding often triggered by a failed KYB/Compliance check during account closure.\n- **Calculation Errors**: Glitches in the processor's rolling window math that result in misallocated or missing release tranches.\n\n## Where observability fits\nObservability should track a \"Release Calendar\" and audit that actual payouts match expected release amounts. By modeling future releases as an asset class, merchants can gain better leverage for operational financing.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is the release date guaranteed?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. If your account risk increases, the processor typically has the contractual right to extend the hold duration.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Do I earn interest on reserves?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Almost never. The processor typically retains any interest earned on the floating collateral.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I request early release?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Rarely. It is usually only possible if you can prove the underlying risk has been eliminated (e.g., 100% successful delivery proof).\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-retry-amplification-increases-exposure.md": "# How Retry Amplification Increases Exposure\n\nUp: [Retry Amplification](mechanics-retry-amplification.md)\nSee also:\n- [What is Retry Amplification?](what-is-retry-amplification.md)\n- [How Retry Logic Affects Risk](./how-retry-logic-affects-risk.md)\n\n## Definition\nRetry Amplification increases exposure through a multiplier effect where a single failed transaction spawns multiple additional attempts. It is the transition from a single failure to a \"flood\" of transaction volume that increases the surface area for disputes and network penalties.\n\n## Why it matters\nReputation and Fines. Card networks equate high retry rates with bot attacks or card testing. A merchant with a buggy retry loop looks exactly like a brute-force attacker to an upstream algorithm, leading to blocked Merchant IDs (MIDs), heavy fines, and permanent reputation damage with issuing banks.\n\n## Signals to monitor\n- **Amplification Factor**: The ratio of total transaction attempts divided by the number of unique orders.\n- **Retry Compliance**: The percentage of retries performed on \"Soft\" vs. \"Hard\" declines.\n- **Error Cascades**: Gateway or processor outages triggering automated retry spikes across a user base.\n- **PSP Specificity**: Tracking whether specific processors are more prone to amplifying failures.\n\n## Breakdown modes\n- **The Hammer**: Rapid-fire retries occurring within seconds of each other, triggering anti-DDOS and velocity blocks.\n- **The Zombie**: An automated system retrying stale or already-cancelled transactions from days or weeks ago.\n- **Cross-PSP Leaks**: Retrying a blocked or fraudulent card across multiple different payment providers, broadcasting risk to the entire ecosystem.\n- **Infinite Loops**: Code failures that cause a system to retry indefinitely due to unhandled or misinterpreted error codes.\n\n## Where observability fits\nObservability acts as a \"Circuit Breaker.\" By monitoring the Amplification Factor in real-time, the system can automatically kill retry workers if a spike is detected, preventing a localized error from becoming a network-level reputation disaster.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do networks care about retries?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Useless retries clog global banking capacity and are a primary indicator of card testing and automated fraud attacks.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is there a safe retry limit?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The general network guideline is max 4 retries over 15 days. You should never retry a permanent 'Hard Decline'.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Hard Decline?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A permanent rejection (e.g., Account Closed or Stolen Card) that can never result in a successful authorization via retry.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-retry-logic-affects-risk.md": "# How Retry Logic Affects Risk\n\nUp: [Retry Amplification](mechanics-retry-amplification.md)\nSee also:\n- [How Retry Amplification Increases Exposure](./how-retry-amplification-increases-exposure.md)\n- [What is a Retry Storm?](./what-is-a-retry-storm.md)\n\n## Definition\nRetry Logic Risk is the danger inherent in automated payment recovery systems. While retrying failed payments is a standard revenue recovery tactic (Smart Dunning), doing it incorrectly violates network rules regarding \"Excessive Retries\" and provides valuable data to sophisticated card testers.\n\n## Why it matters\nCompliance vs. Revenue. Merchants must recover the small percentage of failed payments that are salvageable (e.g., Insufficient Funds) without triggering the security alarms designed to catch the majority that are fraud or hard declines. It is a game of precision balancing.\n\n## Signals to monitor\n- **Recovery Rate**: The percentage of retry attempts that actually result in a successful authorization.\n- **Retry Interval**: The specific time wait between consecutive attempts (e.g., 1 day vs. 3 days).\n- **Decline Code Mix**: Monitoring whether retries are occurring on \"Soft\" codes (allowable) vs. \"Hard\" codes (prohibited).\n- **Issuer Reputation**: Tracking changes in approval rates for new customers that might be linked to noisy retry traffic.\n\n## Breakdown modes\n- **Network Rule Violation**: Retrying a single card more than 15 times in a 30-day window (exceeding standard Visa/MC limits).\n- **Information Leakage**: Allowing fraudsters to \"ping\" cards repeatedly to determine if they are active, effectively turning the retry engine into a testing tool.\n- **Reputation Damage**: Issuers lowering a merchant's overall approval rate because their total traffic is dominated by failing retry attempts.\n\n## Where observability fits\nObservability provides safety audits and schedule optimization. By scanning logs for illegal retry patterns and identifying the optimal \"Payday\" timing for retries, merchants can maximize recovered revenue while staying within strict network compliance boundaries.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"When should I retry a failed payment?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Only on 'Soft Declines' such as Insufficient Funds or temporary Network Errors. Never retry a 'Stolen Card' or 'Closed Account' signal.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a standard retry schedule?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A typical 'Smart Dunning' schedule involves attempts on Day 1, Day 3, Day 7, and Day 14.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does Stripe handle this automatically?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Stripe 'Smart Retries' uses machine learning to optimize timing, but merchants are still liable for compliance if they implement their own custom logic on top.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-risk-model-retraining-lag-works.md": "# Risk Model Retraining Lag\n\nUp: [Risk Detection Infrastructure](./mechanics-risk-detection-infrastructure.md)\nSee also:\n- [What is Model Drift in Fraud?](./what-is-model-drift-in-fraud.md)\n- [How Fraud Model Drift Occurs](./how-fraud-model-drift-occurs.md)\n\n## Definition\nRisk Model Retraining Lag is the \"Window of Vulnerability\" between when a new fraud pattern appears and when the machine learning model is updated to block it. Fraudsters evolve in minutes; models often retrain in days or weeks. During this lag, the system remains \"Blind\" to the new attack vector.\n\n## Why it matters\nLarge-Scale Losses. In a bot attack, a fraudster can process thousands of transactions before a \"Weekly Retrain\" cycle completes. Understanding this lag allows merchants to implement \"Emergency Manual Rules\" to bridge the gap while the model is still learning.\n\n## Signals to monitor\n- **Model Age**: Number of days since the last successful training completion.\n- **Decline Rate Divergence**: A sudden drop in automated declines during a known attack.\n- **Verification Pass Rate**: High numbers of \"Suspicious\" transactions passing with \"Low\" risk scores.\n- **Feedback Loop Latency**: The time between a \"Chargeback Received\" event and that data point being available for training.\n\n## Breakdown modes\n- **The Weekend Attack**: Fraudsters attacking on Friday night, knowing the data scientists (and training pipelines) might be offline until Monday.\n- **Data Poisoning**: Fraudsters intentionally \"Training\" the model with valid transactions from stolen cards to lower the risk scores of those cards.\n- **Training Pipeline Failure**: A silent error in the data pipeline that causes the model to \"Retry\" with old data instead of new attack patterns.\n\n## Where observability fits\nObservability provides \"Shadow Scoring.\" By comparing current transaction patterns against a \"Challenger\" model (one trained more frequently), the system can alert you when your primary model is consistently missing known bad traffic, indicating a retraining lag.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How often should models retrain?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Enterprise systems typically retrain daily. Smaller providers may retrain weekly or monthly.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I speed up retraining?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Only if you have an 'Online Learning' architecture. Otherwise, you must rely on manual 'Override Rules' to block new patterns instantly.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does more data fix the lag?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Quality and 'Freshness' of data matter more than total volume when fighting evolving fraud patterns.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-risk-threshold-events-work.md": "# Risk Threshold Events\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also:\n- [What is Threshold Hysteresis?](./what-is-threshold-hysteresis.md)\n- [How Network Monitoring Programs Work](./how-network-monitoring-programs-work.md)\n\n## Definition\nA Risk Threshold Event is the moment a specific metric (e.g., Dispute Ratio, Refund Velocity) crosses a pre-defined limit, triggering an automated enforcement action. These events convert \"Gradual Risk\" into \"Binary Punishment,\" such as a reserve increase, a payout freeze, or account termination.\n\n## Why it matters\nFinancial Cliff-Edges. Risk is often linear until a threshold is reached; then it becomes catastrophic. A merchant with a 0.89% dispute ratio is \"Safe\"; at 0.91%, they may be fined $10,000. Understanding these \"Hard Lines\" allows merchants to manage their traffic density to avoid the cliff.\n\n## Signals to monitor\n- **Distance-to-Threshold**: The buffer remaining before an enforcement action triggers.\n- **Velocity toward Threshold**: How fast the metric is approaching the limit (e.g., \"Gaining 0.1% per day\").\n- **Activation Status**: Dashboard flags like `At Risk`, `Warning`, or `Restricted`.\n- **Lookback Windows**: The time period (e.g., 30 days rolling) used to calculate the threshold.\n\n## Breakdown modes\n- **The \"Cliff\" Effect**: A small fraud attack ($5,000) pushing a large account over the dollar-volume threshold ($75,000), triggering network monitoring.\n- **Feedback Loop Triggering**: A threshold event causing a Payout Freeze, which leads to shipping delays and *more* disputes, making it impossible to get back below the threshold.\n- **Measurement Lag**: Discovering you breached a threshold weeks ago because the processor's calculation only happens on the 1st of the month.\n\n## Where observability fits\nObservability provides \"Threshold Guardrails.\" By setting internal \"Pre-Alerts\" at 80% of the network threshold, the system can warn management to \"Dilute the Ratio\" or \"Stop New Sales\" before the automated enforcement rules can fire.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are thresholds global?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Card Networks have global thresholds (e.g., 0.9%), but individual Processors may have stricter 'Internal' thresholds based on their own risk appetite.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I negotiate a threshold?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Rarely. Network thresholds are mandatory. Processor thresholds may be adjustable for 'Institutional' scale merchants with high collateral.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the difference between Warning and Enforcement?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Warning (e.g., Visa 0.6%) is a notice to improve. Enforcement (e.g., Visa 0.9%) carries immediate financial fines and legal consequences.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-rolling-risk-windows-work.md": "# How Rolling Risk Windows Work\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also:\n- [Monitoring Dispute Ratios](../use-cases/monitoring-dispute-ratios.md)\n- [Risk Threshold Events](./how-risk-threshold-events-work.md)\n- [How Risk Threshold Hysteresis Works](../how-it-works/how-risk-threshold-hysteresis-works.md)\n\n## Definition\nRolling Risk Windows are the periodic timeframes (usually 30, 60, or 90 days) used to calculate dispute ratios and fraud velocity. Unlike \"Calendar Months,\" a rolling window moves daily, dropping the oldest day of data and adding today's results. This creates a continuous, real-time view of account health.\n\n## Why it matters\nVolatility Management. One \"Bad Day\" doesn't necessarily trigger enforcement, but a \"Bad Week\" within a 30-day window will. Understanding the \"Exit Date\" (when a high-fraud day will drop off the back of the window) allows a merchant to precisely predict when they will return to \"Safe\" standing.\n\n## Signals to monitor\n- **Window Entry**: New disputes or sales entering the count today.\n- **Window Exit**: Old high-risk events \"Falling off\" the back of the window.\n- **Net Ratio Change**: The daily shift in standing caused by the difference between entries and exits.\n- **Safe Date**: The specific calendar date when a past fraud spike will no longer impact the rolling ratio.\n\n## Breakdown modes\n- **The \"Hump\" Effect**: A massive attack that stays in your metrics for the full duration of the window (e.g., 30 days), pinning your ratio in the \"Dangerous\" zone even if you fix the problem instantly.\n- **Received-Date Bias**: Networks often count disputes in the window they were *Received*, not the window of the original sale, making ratios unpredictable.\n- **Volume Dilution Lag**: Increasing sales today to fix a 30-day ratio won't fully \"Dilute\" the score until tomorrow, creating a lag in recovery.\n\n## Where observability fits\nObservability provides \"Recovery Forecasting.\" By calculating the \"Drop-off Dates\" for every past dispute, the system can tell you: \"You will be back below the 1.0% threshold on Nov 15th, provided you process at least $50k in clean volume this week.\"\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why use rolling windows instead of months?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"To prevent 'Hiding' risk by only looking at monthly snapshots. Rolling windows provide a continuous, accurate view of current exposure.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I reset a window?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. You must wait for the old data to age out. Time is the only cure for a high rolling ratio.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does adding more volume help?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. Adding clean sales increases the denominator of the ratio, effectively diluting the impact of past disputes within the same window.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-shadow-risk-accumulates.md": "# How Shadow Risk Accumulates\n\nUp: [Shadow Risk](mechanics-shadow-risk.md)\nSee also:\n- [What is Shadow Risk?](what-is-shadow-risk.md)\n- [How Dispute Reserve Feedback Loops Work](./how-dispute-reserve-feedback-loops-work.md)\n\n## Definition\nShadow Risk accumulation is the process by which \"Authorized but not Settled\" transactions, \"In-Transit\" refunds, and \"Pre-Dispute\" inquiries build up invisible liability. It represents future losses that have been \"Locked In\" but have not yet appeared on a merchant's primary risk dashboard.\n\n## Why it matters\nThe Lag Blindspot. Standard dashboards show satisfied sales from the past, while Shadow Risk identifies the pending chargebacks of the future. Monitoring this accumulation is the only way to predict and prepare for account freezes before they are officially triggered.\n\n## Signals to monitor\n- **Open Authorizations**: The volume of funds held on cardholder accounts but not yet captured.\n- **Retrieval Request Volume**: \"Soft inquiries\" from banks that often serve as a 2-week early warning for formal disputes.\n- **Pending Refund Liability**: Initiated refunds that have not yet been debited from the merchant's available balance.\n- **Settlement Gap**: The chronological difference between when revenue is settled and when corresponding refunds/disputes typically hit.\n\n## Breakdown modes\n- **Auth Bombs**: A high volume of low-value authorizations used for card testing that can trigger velocity blocks without a single capture.\n- **Retrieval Spikes**: A sudden influx of bank inquiries that signal a coordinated fraud attack or a systemic product quality failure.\n- **Settlement Caps**: Revenue being trapped by payout timing while high-velocity refunds continue to drain the available balance.\n- **Deferred Capture exposure**: Risk accumulating during the window between authorization and the final capture of high-value goods.\n\n## Where observability fits\nObservability assigns a \"Shadow Score\" to a merchant account based on pending activity, rather than just settled history. By tracking transactions \"Between Statuses,\" the system provides a more accurate view of true portfolio exposure at any given moment.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is 'Shadow Risk' a standard industry term?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes, it is commonly used to describe 'Unrealized Liability' or 'Pending Exposure' that isn't yet reflected in settled P&L.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How is a Retrieval different from a Dispute?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Retrieval is a request for information from the bank. It doesn't involve a fund reversal yet, but it is the precursor to a formal Dispute.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Do Authorizations count toward risk limits?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. While they cannot be disputed until captured, they count toward velocity limits and 'Card Testing' security checks.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/how-transaction-monitoring-works.md": "# Transaction Monitoring\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also:\n- [Payment Risk Scoring](./how-payment-risk-scoring-works.md)\n- [How Geo-Velocity Affects Risk](./how-geo-velocity-affects-risk.md)\n- [BIN-Country Mismatch](./how-bin-country-mismatch-affects-risk.md)\n- [Retry Logic](./how-retry-logic-affects-risk.md)\n\n## Definition\nTransaction Monitoring is the real-time surveillance of individual payment flows to detect fraud, money laundering, or policy violations. Unlike underwriting (which assesses the merchant's business), transaction monitoring focuses on the *behavior* of the payments themselves as they pass through the system.\n\n## Why it matters\nThe First Line of Defense. Effective monitoring blocks bad transactions before they can settle or become chargebacks. However, it is a balancing act: aggressive monitoring reduces fraud but increases \"False Declines\" (insult rates), which alienates good customers and costs the merchant revenue.\n\n## Signals to monitor\n- **Review Queue Depth**: The number of transactions held for manual inspection.\n- **Decline Reason Distribution**: Spikes in codes like `fraud_suspected`, `high_risk`, or `velocity_limit_exceeded`.\n- **Rule Trigger Frequency**: Tracking which specific logic (e.g., \"Amount > $500\") is firing most often.\n- **Approval Rate Stability**: Monitoring for sudden drops in acceptance across specific Card BINs or Geographies.\n\n## Breakdown modes\n- **Velocity Storms**: Automated bot attacks triggering hundreds of velocity-based rules simultaneously and flooding review queues.\n- **Rule Decay**: Legacy blocklists (e.g., \"Block IP 1.2.3.4\") remaining active long after the original threat has passed, impacting new, legitimate users.\n- **Latency Spikes**: Real-time monitoring checks taking too long (>2 seconds), causing the payment gateway to time out and fail the transaction.\n\n## Where observability fits\nObservability provides \"Rule Performance Tracking.\" By centralizing alerts and measuring the financial impact of specific blocks, merchants can identify \"Toxic Rules\" that block zero fraud but many good customers, allowing for precision tuning of the monitoring engine.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the difference between a Rule and a Model?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Rule is simple logic (IF amount > $500 THEN block). A Model is a probability assessment (IF likelihood_of_fraud > 0.9 THEN block) based on many features.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Should I manually review every transaction?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Manual review adds friction and shipping delays. It should only be used for 'High-Value' or 'Borderline' cases where the machine is truly uncertain.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why was a valid transaction blocked?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Likely 'Link Analysis'—the transaction shared a hidden feature (IP, Device ID, or Email pattern) with a previously identified fraudster.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/mechanics-account-freezes-and-holds.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Account Freezes, Holds, and Delays\",\n  \"description\": \"The spectrum of operational restrictions a processor can apply to a merchant's funds. Payout Delay (temporary pause), Account Hold (partial restriction), and Freeze/Termination (indefinite suspension).\",\n  \"about\": \"Account Freezes, Holds, and Delays\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Account Freezes and Holds?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The spectrum of operational restrictions a processor can apply to a merchant's funds.\\n- **Payout Delay**: A temporary (24-72h) pause in settlement to investigate a specific batch or risk signal. Funds are still strictly \\\"yours,\\\" just late.\\n- **Account Hold**: A partial restriction (e.g., stopping payouts but allowing processing) often tied to a Reserve or Document Request.\\n- **Freeze/Termination**: The \\\"Nuclear Option.\\\" An indefinite suspension of all processing and payouts due to suspected fraud, insolvency, or policy violation.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Account Freezes and Holds matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Business Continuity and Cash Flow.\\n- **Cash Flow Shock**: A 3-day data delay can cause a missed payroll.\\n- **Single Point of Failure**: Relying on one processor (e.g., Stripe) means a single ML score change can kill 100% of your revenue instantly.\\n- **Liability Horizon**: In a termination event, funds are held for 120-180 days. This liquidity often kills the business before the fraud investigation finishes.\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Payment Reserves and Balances](./mechanics-payment-reserves-and-balances.md), [Document Requests](./why-processors-request-documents.md)\n\n# Account Freezes, Holds, and Delays\n\n## Definition\nThe spectrum of operational restrictions a processor can apply to a merchant's funds.\n- **Payout Delay**: A temporary (24-72h) pause in settlement to investigate a specific batch or risk signal. Funds are still strictly \"yours,\" just late.\n- **Account Hold**: A partial restriction (e.g., stopping payouts but allowing processing) often tied to a Reserve or Document Request.\n- **Freeze/Termination**: The \"Nuclear Option.\" An indefinite suspension of all processing and payouts due to suspected fraud, insolvency, or policy violation.\n\n## Why It Matters\nBusiness Continuity and Cash Flow.\n- **Cash Flow Shock**: A 3-day data delay can cause a missed payroll.\n- **Single Point of Failure**: Relying on one processor (e.g., Stripe) means a single ML score change can kill 100% of your revenue instantly.\n- **Liability Horizon**: In a termination event, funds are held for 120-180 days. This liquidity often kills the business before the fraud investigation finishes.\n\n## Signals to Monitor\n- **Account Status**: Polling API endpoints for status transitions (e.g., `active` -> `restricted`).\n- **Payout Failures**: `payout_failed` webhooks usually precede a formal visibility freeze.\n- **Velocity Spikes**: Exceeding the \"Soft Cap\" monthly volume (e.g., processing $110k on a $100k limit).\n- **Batch Status**: Settlements moving from `paid` to `pending_review` or `in_transit` for >48 hours.\n- **Support Sentiment**: Automated/Aggressive replies from support are a strong proxy for an internal risk flag.\n\n## How It Breaks Down\n- **The \"Bust-Out\"**: A new account processing high velocity immediately, mimicking a fraudster maxing out a stolen identity.\n- **The Weekend Trap**: A Friday batch delayed by 1 day settles on Tuesday instead of Monday context.\n- **The \"Pivot\"**: A merchant changing from \"Books\" to \"Crypto\" without updating their MCC, triggering a \"Business Model Mismatch\" freeze.\n- **Stripe/PayPal Triggers**: Specific triggers like \"High Deviation from Baseline\" (Stripe) or \"21-Day Holds\" (PayPal) typical for those ecosystems.\n\n## How Risk Infrastructure Surfaces This\nAn observability system would surface these mechanics by:\n- **Multi-PSP Routing**: \"Stripe is frozen (Status: Restricted). Route all traffic to Adyen immediately.\"\n- **Capacity Planning**: \"We are at 92% of our monthly volume cap. Request an increase NOW.\"\n- **SLA Tracking**: \"Processor promised T+2 settlement; actual is T+4. Flagging as `DELAY`.\"\n- **Drift Alerts**: \"Warning: Average Ticket size jumped 500% (Flash Sale). This looks like a Bust-Out to the processor.\"\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## Upstream Causes\nAccount freezes and holds are triggered by:\n- threshold breaches\n- reserve formation\n- dispute spikes\n- compliance review backlogs\n- sudden traffic pattern changes\n- model reclassification events\n\nThey represent the convergence of multiple upstream risk signals into a single enforcement action.\n\n\n## Downstream Effects\nFreezes and holds result in:\n- blocked payouts\n- rejected transactions\n- delayed settlements\n- merchant liquidity constraints\n- escalated compliance scrutiny\n\nThey convert risk detection into immediate financial restriction.\n\n\n## Common Failure Chains\n**Dispute Surge → Threshold Trigger → Account Freeze**\n\n**Model Drift → Risk Reclassification → Hold Applied**\n\n**Compliance Gap → Review Queue → Funds Frozen**\n\nThese chains explain why freezes appear suddenly after silent risk accumulation.\n\n\n## FAQ\n\n### Is a delay a ban?\nUsually no. It is an investigation. If you pass, funds release.\n\n### Can they keep my money?\nYes, but only for the duration of the liability term (120-180 days) or to cover actual fines. They cannot \"seize\" it as profit.\n\n### Why no warning?\nSurprise is a security feature. If they warned you, a real fraudster would \"run off\" with the money before the freeze.\n\n### How do I appeal?\nSubmit requested documents (Invoices, IDs) calmly and clearly. Do not spam support.\n",
    "risk/mechanics-card-network-rules.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Card Network Rules\",\n  \"description\": \"Card Network Rules are the operating regulations published by Visa, Mastercard, AMEX, and Discover. They dictate liabilities, acceptable use policies (AUP), technical standards, and dispute parameters.\",\n  \"about\": \"Card Network Rules\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Card Network Rules?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Card Network Rules are the operating regulations published by Visa, Mastercard, AMEX, and Discover. They dictate liabilities, acceptable use policies (AUP), technical standards, and dispute parameters. Updates occur semi-annually (typically April and October).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Card Network Rules matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Compliance \\\"Force Majeure\\\".\\n- **Binary Compliance**: A rule change can turn a compliant business into a prohibited one overnight.\\n- **Fines**: Violations trigger assessments (e.g., $25,000 per month) or direct termination.\\n- **Technical Debt**: New mandates (like 8-digit BINs or 3DS 2.0) break legacy integration code if ignored.\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Network Monitoring Programs](./how-network-monitoring-programs-work.md), [Decline Reason Codes](./understanding-decline-reason-codes.md)\n\n# Card Network Rules\n\n## Definition\nCard Network Rules are the operating regulations published by Visa, Mastercard, AMEX, and Discover. They dictate liabilities, acceptable use policies (AUP), technical standards, and dispute parameters. Updates occur semi-annually (typically April and October).\n\n## Why It Matters\nCompliance \"Force Majeure\".\n- **Binary Compliance**: A rule change can turn a compliant business into a prohibited one overnight.\n- **Fines**: Violations trigger assessments (e.g., $25,000 per month) or direct termination.\n- **Technical Debt**: New mandates (like 8-digit BINs or 3DS 2.0) break legacy integration code if ignored.\n\n## Signals to Monitor\n- **Bulletin Alerts**: Monthly/Quarterly publications from the processor announcing upcoming mandates.\n- **Decline Code Shifts**: New error variance (e.g., sudden spikes in `59 Suspected Fraud` due to new AVS rules).\n- **Fee Line Items**: New \"Integrity Fees\" or assessments appearing on the settlement statement.\n- **Compliance Emails**: Inbound notices citing specific regulation numbers (e.g., \"Visa Core Rules 5.4.1\").\n\n## How It Breaks Down\n- **Sudden Incompatibility**: Legacy code failing because a new optional field became mandatory.\n- **Threshold Compression**: The allowable dispute rate dropping (e.g., from 1.0% to 0.9%), trapping previously safe merchants in a monitoring program.\n- **Micro-Bans**: A specific MCC (e.g., Adult, Crypto, Nutra) being reclassified as \"High Risk,\" triggering immediate account closure.\n\n## How Risk Infrastructure Surfaces This\nAn observability system would surface these mechanics by:\n- **Impact Analysis**: Correlating a drop in conversion with a declared \"Network Update Date.\"\n- **Payload Scanning**: Detecting missing data fields required by new mandates (e.g., \"Missing `cardholder_ip`\").\n- **Fee Verification**: Audit-checking that new pass-through fees match the official published rates.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### How do I know about changes?\nYour processor is contractually obligated to notify you. However, subscribing to network technical bulletins is the only way to get \"Engineering Lead Time.\"\n\n### Do rules apply to everyone?\nYes. From the smallest coffee shop to Amazon, network rules are the supreme law of the payment rails.\n\n### Can I get an exception?\nExtremely rare. Waivers are temporary and reserved for massive enterprise merchants with direct network relationships.\n",
    "risk/mechanics-compliance-gaps.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are compliance gaps?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Compliance gaps are mismatches between regulatory obligations and actual system behavior.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)  \nSee also: [Liability Horizons](./mechanics-liability-horizons.md)\n\n# What are Compliance Gaps?\n\n## Definition\nCompliance gaps occur when operational systems violate regulatory expectations unintentionally.\n\n## Why it matters\nThey create:\n- enforcement risk\n- processor penalties\n- retroactive liability\n- audit failures\n\n## Causes\n- incomplete logging\n- partial KYC\n- inconsistent enforcement\n- data retention failures\n\n## Breakdown modes\n- delayed detection\n- regulatory escalation\n- forced shutdowns\n\n## Where observability fits\n- maps control coverage\n- surfaces missing enforcement\n- tracks obligation fulfillment\n\n## Upstream Causes\nCompliance gaps arise from:\n- delayed verification updates\n- jurisdictional policy mismatches\n- document review backlogs\n- inconsistent merchant classification\n- model retraining lag\n- rule change propagation delays\n\nThese gaps form when operational timing diverges from regulatory expectations.\n\n\n## Downstream Effects\nCompliance gaps result in:\n- account restrictions\n- document re-requests\n- payout suspension\n- escalated manual review\n- reserve imposition\n\nThey convert administrative lag into financial enforcement.\n\n\n## Common Failure Chains\n**Policy Change → Review Lag → Compliance Gap → Account Freeze**\n\n**Growth Spike → Classification Drift → Compliance Trigger**\n\n**Document Delay → Threshold Breach → Enforcement Action**\n\nThese chains explain why compliance failures appear suddenly after long quiet periods.\n\n\n## FAQ\n### Are gaps intentional?\nRarely. They usually emerge from system growth.\n\n### Do gaps always cause fines?\nNo. But they always create exposure.\n",
    "risk/mechanics-liability-horizons.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a liability horizon?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A liability horizon is the time window during which a transaction can create financial or legal exposure.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)  \nSee also: [Compliance Gaps](./mechanics-compliance-gaps.md)\n\n# What is a Liability Horizon?\n\n## Definition\nA liability horizon is the period after a transaction during which reversal or dispute remains possible.\n\n## Why it matters\nIt determines:\n- reserve requirements\n- payout delays\n- accounting treatment\n- capital exposure\n\n## Examples\n- Card disputes: 120–540 days\n- ACH returns: up to 60 days\n- BNPL defaults: months\n- Fraud claims: variable\n\n## Breakdown modes\n- underfunded reserves\n- premature payouts\n- unexpected clawbacks\n\n## Where observability fits\n- maps exposure windows\n- aligns funds to risk\n- forecasts release timing\n\n## FAQ\n### Does settlement end liability?\nNo. Settlement only moves funds, not responsibility.\n\n### Are horizons fixed?\nNo. They vary by network and product.\n",
    "risk/mechanics-model-drift.md": "# Model Drift\n\n## Definition\nModel drift is the degradation of predictive accuracy due to changing input distributions or feedback loops.\n\n## Why it matters\nDrift causes false positives, missed fraud, and unstable enforcement.\n\n## Signals to monitor\n- Feature distribution shifts  \n- Label delay growth  \n- Precision/recall decay  \n- Population stability index  \n- Correlation breakdowns  \n\n## Breakdown modes\n- Overblocking  \n- Fraud leakage  \n- Sudden rule overrides  \n- Policy misalignment  \n- Enforcement cascades  \n\n## Implementation notes\nDrift must be monitored continuously, not during retraining only.\n\n## Upstream Causes\nModel drift is usually triggered by:\n- Adversarial adaptation (fraudsters evolving patterns)\n- Shifts in customer behavior due to seasonality or growth\n- Changes in merchant mix or traffic composition\n- Use of obsolete training data or stale fraud labels\n- Network protocol updates (e.g., widespread 3DS adoption)\n\n## Downstream Effects\nModel drift results in detection accuracy decay which leads to:\n- False Positive inflation (blocking legitimate revenue)\n- False Negative spikes (missed fraud losses)\n- Erosion of approval rates for good customers\n- Trust threshold misalignment across the payment stack\n- Increased operational load for manual review teams\n\n## Common Failure Chains\nExample chains include:\n\n**Model Drift → False Positive Spike → Conversion Drop → Revenue Suppression**\n\n**Model Drift → Missed Fraud Spikes → Dispute Threshold Breach → Reserve Formation**\n\n**Model Drift → Score Distribution Shift → Policy Instability → Enforcement Volatility**\n\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is model drift?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Model drift is loss of predictive accuracy as real-world behavior changes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does drift happen?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because training data no longer matches live transaction patterns.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can drift cause freezes?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. Drift can inflate risk scores and trigger enforcement.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How is drift detected?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By measuring distribution shifts and performance decay over time.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/mechanics-payment-reserves-and-balances.md": "# Payment Reserves & Balances\n\n## Definition\nPayment reserves are funds withheld from merchant balances to offset projected future liability.  \nReserves transform probabilistic risk into immediate liquidity restriction.\n\n## Why it matters\nReserves cause delayed business failure by limiting access to earned revenue after exposure has already occurred.\n\n## Signals to monitor\n- Reserve percentage applied to balance  \n- Dispute ratio over rolling 30-day windows  \n- Fraud score distribution shift  \n- Refund velocity change  \n- Negative balance frequency  \n\n## Breakdown modes\n- Step-function reserve increases  \n- Portfolio-wide reserve application  \n- Delayed reserve trigger after incident  \n- Reserve stacking with payout holds  \n- Indefinite reserve extensions  \n\n## Implementation notes\nReserves must be modeled as balance transformations, not transaction flags.  \nExposure windows determine reserve size and duration.\n\n## Upstream Causes\nReserve formation is driven by:\n- threshold breaches\n- dispute accumulation\n- fraud probability growth\n- negative balance projections\n- settlement delays\n- portfolio risk reclassification\n\nReserves are calculated from:\n- rolling exposure windows\n- projected loss curves\n- delayed chargeback timing\n- payout instability\n\nThese inputs convert probabilistic loss into balance restriction.\n\n\n## Downstream Effects\nReserve imposition causes:\n- liquidity compression\n- payout suppression\n- merchant cash-flow disruption\n- delayed vendor payments\n- forced volume reduction\n\nReserves also:\n- mask true balance state\n- delay loss realization\n- amplify downstream enforcement triggers\n\nThis shifts risk from the processor to the merchant balance layer.\n\n\n## Common Failure Chains\n**Threshold Breach → Reserve Formation → Liquidity Freeze**\n\n**Dispute Propagation → Reserve Growth → Payout Delay**\n\n**Settlement Lag → Negative Balance → Reserve Lock**\n\n**Model Drift → Reserve Trigger → Volume Contraction**\n\nThese chains explain why reserves appear suddenly after earlier invisible failures.\n\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a payment reserve?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A payment reserve is money withheld by a processor to cover expected future losses.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What triggers reserve formation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Rising disputes, fraud risk, refund velocity, and payout instability.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are reserves tied to individual transactions?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. They are calculated at account or portfolio level.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do reserves appear after revenue is earned?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because liability is assessed on historical activity using rolling exposure windows.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/mechanics-payment-settlements.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Payment Settlements\",\n  \"description\": \"Settlement is the process of moving actual funds from the Cardholder's Issuing Bank -> Card Network -> Acquiring Bank -> Merchant. It is the final state of money movement.\",\n  \"about\": \"Payment Settlements\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Payment Settlement?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Settlement is the process of moving actual funds from the Cardholder's Issuing Bank -> Card Network -> Acquiring Bank -> Merchant. It is the final state of money movement, distinct from **Authorization** (Holding funds) and **Capture** (Requesting funds).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Payment Settlement matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Cash is Reality. A transaction can be \\\"Approved\\\" but never settle. Liquidity management depends on the settlement timeline (T+2, T+3), and settlement is the choke-point where processors apply Reserves, Fees, and Holds.\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Settlement Batching](./mechanics-settlement-batching.md), [Payment Reserves and Balances](./mechanics-payment-reserves-and-balances.md)\n\n# Payment Settlements\n\n## Definition\nSettlement is the process of moving actual funds from the Cardholder's Issuing Bank -> Card Network -> Acquiring Bank -> Merchant. It is the final state of money movement, distinct from **Authorization** (Holding funds) and **Capture** (Requesting funds).\n\n## Why It Matters\nCash is Reality.\n- **Vanity vs Sanity**: A transaction can be \"Approved\" but never settle (if voided or batched incorrectly).\n- **Liquidity**: Understanding the timeline (T+2, T+3) is critical for payroll and inventory management.\n- **Risk Control**: Settlement is the choke-point where processors apply Reserves, Fees, and Holds.\n\n## Signals to Monitor\n- **Net Deposit**: The actual amount hitting the bank account `(Sales - Refunds - Fees - Reserves)`.\n- **Deposit Latency**: The time gap between \"Batch Close\" and \"Cash in Bank\" (Tracking the T+N SLA).\n- **Match Rate**: The % of Captured transactions that successfully appear in a Settlement file.\n- **Fedwire/ACH Alerts**: Inbound bank notifications.\n\n## How It Breaks Down\n- **Missed Cutoff**: Capturing a transaction at 5:01 PM means it waits 24 hours for the next batch.\n- **The Holiday Gap**: Weekends and bank holidays stop the ACH rails, creating liquidity droughts.\n- **Risk Holds**: Valid transactions being Captured, but the *Settlement* being paused by risk logic.\n\n## How Risk Infrastructure Surfaces This\nAn observability system would surface these mechanics by:\n- **Reconciliation**: Matching every \"Captured\" order ID to a \"Settled\" line item to detect \"Missing Money.\"\n- **Fee Verification**: Calculating the effective take rate by comparing Gross Sales vs Net Deposit.\n- **Gap Detection**: Alerting when the processor claims to have paid, but the bank account shows $0.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## Upstream Causes\nSettlement behavior is influenced by:\n- batch processing schedules\n- issuer clearing timelines\n- reserve and hold logic\n- reconciliation systems\n- dispute offsets\n- compliance interventions\n\nIt governs how authorized funds become available balances.\n\n\n## Downstream Effects\nSettlement failures result in:\n- payout delays\n- negative balances\n- merchant cash flow volatility\n- reconciliation errors\n- increased reserve requirements\n\nThey convert timing mismatches into financial stress.\n\n\n## Common Failure Chains\n**Reserve Increase → Settlement Offset → Delayed Availability**\n\n**Dispute Adjustment → Net Settlement Drop → Balance Deficit**\n\n**Batch Failure → Clearing Delay → Payout Lag**\n\nThese chains explain how settlement mechanics produce liquidity risk.\n\n\n## FAQ\n\n### Why does it take 2 days (T+2)?\nLegacy banking rails (ACH/Fedwire) and the need for the Card Network to calculate the \"Net Settlement Position\" between thousands of banks globally.\n\n### What is \"Instant Payout\"?\nPush-to-Card (Debit) technology that bypasses ACH to fund in minutes, usually for a 1-1.5% fee.\n\n### Where is my money?\nIf it's not in the bank, it's either: 1. In Transit (ACH System), 2. In Reserve (Processor), or 3. Failed (Batch Error).\n",
    "risk/mechanics-retry-amplification.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is retry amplification?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Retry amplification occurs when automated retries increase risk instead of reducing failure.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do retries increase risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because networks interpret repeated failures as abuse or fraud.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)  \nSee also: [Shadow Risk](./mechanics-shadow-risk.md)\n\n# What is Retry Amplification?\n\n## Definition\nRetry amplification is when recovery logic (retries) increases failure rates instead of decreasing them.\n\n## Why it matters\nRetries affect:\n- network velocity scores\n- fraud classifiers\n- issuer trust\n- dispute ratios\n\nBeyond a point, retries worsen outcomes.\n\n## Mechanism\n1. Transaction fails\n2. System retries\n3. Issuer flags velocity\n4. More declines occur\n5. System retries again\n\nThis forms a positive feedback loop.\n\n## Breakdown modes\n- Retry storms\n- Issuer blacklisting\n- Processor throttling\n- Elevated dispute rates\n\n## Where observability fits\n- Shows retry clusters\n- Detects compounding loops\n- Maps decline reason shifts\n\n## FAQ\n### Are retries always bad?\nNo. They are harmful only when unconstrained.\n\n### What triggers amplification?\nHigh-frequency retries on soft declines.\n",
    "risk/mechanics-retry-logic-and-storms.md": "# Retry Logic & Storms\n\n## Definition\nRetry logic is the automated process by which failed payment attempts are re-submitted.  \nA retry storm occurs when retry logic amplifies failure by rapidly increasing transaction volume after an initial decline event.\n\n## Why it matters\nRetry storms convert localized failures into systemic load and risk events. They increase issuer declines, elevate fraud scores, and raise dispute exposure through repeated authorization attempts.\n\n## Signals to monitor\n- Retry rate per transaction over rolling 5–10 minute windows  \n- Authorization attempt count per card or account  \n- Decline reason concentration (e.g., insufficient funds, issuer unavailable)  \n- Latency growth correlated with retry volume  \n- Retry success rate delta over time  \n\n## Breakdown modes\n- Exponential retry loops without backoff  \n- Synchronized retries across merchants or platforms  \n- Retry logic reacting to transient processor outages  \n- Model-triggered retries based on false negatives  \n- Issuer throttling due to rapid resubmission  \n\n## Implementation notes\nRetry behavior should be observable as a flow graph, not isolated events.  \nPropagation paths and amplification ratios are required to distinguish noise from storms.\n\n## Upstream Causes\nRetry storms are usually triggered by:\n- issuer timeout responses\n- processor network latency\n- misconfigured retry policies\n- partial outages in authorization services\n- gateway fallback loops\n- idempotency failures\n\nRetry storms originate from:\n- localized infrastructure faults\n- inconsistent error classification\n- client libraries retrying independently of server retry logic\n- webhook replays combined with payment retries\n\n\n## Downstream Effects\nRetry storms amplify risk signals and can lead to:\n- artificial transaction volume spikes\n- threshold breaches in fraud and risk systems\n- elevated dispute probability\n- reserve formation\n- account-level enforcement actions\n- settlement batching distortion\n\nBecause retries multiply transaction attempts without multiplying real demand, they distort:\n- risk models\n- dispute ratios\n- traffic velocity metrics\n- balance projections\n\n\n## Common Failure Chains\nExample chains include:\n\n**Retry Storm → Threshold Breach → Reserve Formation → Liquidity Freeze**\n\n**Retry Storm → Model Drift → Higher Declines → Revenue Suppression**\n\n**Retry Storm → Dispute Propagation → Portfolio Enforcement**\n\n**Retry Storm → Settlement Delay → Negative Balance Cascades**\n\nThese chains explain why retry storms produce delayed business failures rather than immediate technical outages.\n\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a retry storm?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A retry storm is a surge in transaction volume caused by automated retry logic repeatedly resubmitting failed payments.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do retry storms increase risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They amplify declines, stress issuer systems, and create correlated fraud and dispute signals.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are retry storms caused by attackers?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. They are most often caused by system design interacting with transient failures.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can retry storms be detected?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By observing retry volume, retry success rate decay, and synchronized failure patterns.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/mechanics-risk-detection-infrastructure.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Risk Detection Infrastructure\",\n  \"description\": \"Risk Detection Infrastructure is the automated \\\"Immune System\\\" of the payment processor. It monitors objective metrics to identify accounts that pose financial capability or fraud risk.\",\n  \"about\": \"Risk Detection Infrastructure\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Risk Detection Infrastructure?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Risk Detection Infrastructure is the automated \\\"Immune System\\\" of the payment processor. It monitors objective metrics (Velocity, Authorization Rate, Chargeback Rate) to identify accounts that pose financial capability or fraud risk, triggering state transitions from \\\"Active\\\" to \\\"Restricted.\\\"\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Risk Detection Infrastructure matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Operational Continuity. These systems can maintain or destroy a business's ability to transact. Risk signals accumulate silently until the bucket overflows (suspension). Its primary goal is to protect the Processor and Banking Partner.\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Transaction Monitoring](./how-transaction-monitoring-works.md), [Risk Growth Correlation](./mechanics-risk-growth-correlation.md)\n\n# Risk Detection Infrastructure\n\n## Definition\nRisk Detection Infrastructure is the automated \"Immune System\" of the payment processor. It monitors objective metrics (Velocity, Authorization Rate, Chargeback Rate) to identify accounts that pose financial capability or fraud risk, triggering state transitions from \"Active\" to \"Restricted.\"\n\n## Why It Matters\nOperational Continuity.\n- **The \"Kill Switch\"**: These systems can maintain or destroy a business's ability to transact.\n- **Silent Accumulation**: Risk signals accumulate silently like filling a bucket. You only notice the system when the bucket overflows (suspension), creating a feeling of \"Sudden\" checking.\n- **Asset Protection**: Its primary goal is to protect the Processor and Banking Partner from insolvency, not to help the merchant sell more.\n\n## Signals to Monitor\n- **Velocity vs Cap**: Volume per hour/day relative to historical baselines.\n- **Auth Rate Drops**: A sudden decline in approval rates (often indicating a specific BIN attack).\n- **TC-40 / SAFE Reports**: The \"Early Warning\" fraud notices sent by issuers before chargebacks are filed.\n- **Refund Ratio**: High refund-to-sales ratios indicating fulfillment failure or \"Refund Fraud.\"\n\n## How It Breaks Down\n- **Immediate Suspension**: A \"Kill Switch\" triggered by extreme signals (e.g., 90% decline rate on 1,000 txns).\n- **Latent Queue**: An account flagged for \"Manual Review\" without immediate suspension (The \"Shadow Ban\").\n- **Reserve Trigger**: Automatically applying a 25% hold once a dispute threshold (0.6%) is crossed.\n\n## How Risk Infrastructure Surfaces This\nAn observability system would surface these mechanics by:\n- **Signal Attribution**: Exposing the specific metric that triggered the event (e.g., \"Velocity Limit Exceeded: 105%\").\n- **Timeline Tracking**: Logging exactly when the state transition occurred to correlate with code deploys or marketing launches.\n- **False Positive Defense**: Providing the data to prove a volume spike was a legitimate \"Flash Sale,\" not a \"Bust-Out.\"\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## Upstream Causes\nRisk detection infrastructure is driven by:\n- transaction monitoring systems\n- fraud scoring pipelines\n- compliance screening engines\n- network rule enforcement\n- webhook and event ingestion\n- retry and reconciliation logic\n\nIt reflects how raw payment signals are converted into risk classifications.\n\n\n## Downstream Effects\nFailures in detection infrastructure lead to:\n- delayed enforcement actions\n- misclassified risk events\n- blind spots in exposure tracking\n- incorrect threshold evaluations\n- inconsistent reserve formation\n\nThey determine whether upstream risk becomes visible or remains latent.\n\n\n## Common Failure Chains\n**Retry Storm → Event Flood → Missed Risk Signal**\n\n**Model Drift → Misclassification → Threshold Blind Spot**\n\n**Webhook Lag → Enforcement Delay → Exposure Growth**\n\nThese chains explain how infrastructure limits amplify systemic risk.\n\n\n## FAQ\n\n### Is detecting manual or automated?\n90% automated. Human analysts usually only get involved *after* the system has already flagged or restricted the account.\n\n### Can I prevent detection?\nNo. But you can avoid *triggering* penalties by keeping metrics healthy and notifying processors of legitimate spikes in advance.\n\n### Why does it happen on Fridays?\nRisk teams often batch-review flagged accounts at the end of the week to \"Clear the Queue\" before the weekend.\n",
    "risk/mechanics-risk-growth-correlation.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Risk Growth Correlation\",\n  \"description\": \"The \\\"Growth Risk Paradox\\\" is the strong causal link between rapid revenue scaling and payment risk incidents. To an algorithmic risk model, a sudden spike in sales looks identical to fraud.\",\n  \"about\": \"Risk Growth Correlation\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Risk Growth Correlation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The \\\"Growth Risk Paradox\\\" is the strong causal link between rapid revenue scaling and payment risk incidents. To an algorithmic risk model, a sudden spike in sales (Success) looks identical to a \\\"Bust-Out\\\" fraud attack (Crime).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Risk Growth Correlation matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Success is dangerous. Merchants are often shocked to find their funds frozen *because* they had their best sales month ever. The processor sees new volume as \\\"Untested Risk\\\" or uncollateralized exposure.\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Risk Detection Infrastructure](./mechanics-risk-detection-infrastructure.md), [Merchant Underwriting](./how-merchant-underwriting-works.md)\n\n# Risk Growth Correlation\n\n## Definition\nThe \"Growth Risk Paradox\" is the strong causal link between rapid revenue scaling and payment risk incidents. To an algorithmic risk model, a sudden spike in sales (Success) looks identical to a \"Bust-Out\" fraud attack (Crime).\n\n## Why It Matters\nSuccess is dangerous.\n- **Punishment for Growth**: Merchants are often shocked to find their funds frozen *because* they had their best sales month ever.\n- **Uncollateralized Exposure**: The processor sees the new volume as \"Untested Risk.\" They do not know if you are shipping the product or running a Ponzi scheme.\n- **Velocity Traps**: Scaling from $10k/mo to $100k/mo triggers hard velocity limits set during onboarding.\n\n## Signals to Monitor\n- **Velocity Limit Usage**: \"Percent of Monthly Cap Used.\" (Danger zone: >80%).\n- **Average Ticket Drift**: Sudden changes in AOV (e.g., selling $500 items when history shows $50).\n- **Geo Expansion**: New volume coming from a \"High Risk\" country unexpected by the underwriter.\n- **Acceleration**: The derivative of growth (how *fast* the curve is rising).\n\n## How It Breaks Down\n- **Velocity Freeze**: Hitting the hard processing cap, causing all subsequent transactions to fail (Technical Downtime).\n- **Protective Reserve**: Processor imposing a 25% hold to cover the \"New, Risky\" volume.\n- **Verification Loop**: Processing paused while the risk team requests invoices to prove the sales are legitimate.\n\n## How Risk Infrastructure Surfaces This\nAn observability system would surface these mechanics by:\n- **Capacity Planning**: Predicting when the velocity cap will be hit to request increases *in advance*.\n- **Cohort Analysis**: Proving that the \"New Traffic\" performs just as well (low disputes) as the \"Old Traffic.\"\n- **Exposure Modeling**: Calculating the processor's \"Funds at Risk\" perspective to anticipate their anxiety.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why do they freeze my money just because I sold more?\nBecause if those new sales turn out to be fraud/non-delivery, the processor is liable for the refunds. They hold the collateral until the operational risk is proven low.\n\n### How do I prevent this?\nCommunication. Tell your account manager *before* you launch a viral campaign or big promo.\n\n### Is it personal?\nNo. It is a math equation calculating \"Potential Loss.\"\n",
    "risk/mechanics-risk-thresholds-and-hysteresis.md": "# Risk Thresholds & Hysteresis\n\n**Definition:**  \nRisk thresholds are numerical limits (e.g., 1% dispute rate) that trigger enforcement actions. Hysteresis is the lag between crossing a threshold and reversing its effect—meaning it takes less risk to enter a penalty box than to exit it.\n\n**Impact:**  \nThreshold systems create discontinuous behavior: small metric changes can cause large operational shifts. Once crossed, thresholds can cause delayed payouts, reserve requirements, or account restrictions that persist even after metrics improve.\n\n**What an observability system should surface:**  \nAn observability system should show when thresholds are crossed, how long systems remain in restricted states, and whether recovery is actually occurring—not just point-in-time metrics.\n\n---\n\n## Up\nPayment Risk Mechanics\n\n## See also\n- [The Hidden Timeline of a Processor Hold](hidden-timeline-of-a-processor-hold.md)\n- [Risk Debt and Compounding Anomalies](risk-debt-and-compounding-anomalies.md)\n- [Payment Incident Detection](payment-incident-detection.md)\n\n---\n\n## What is hysteresis?\n\nHysteresis means a system responds differently to increasing risk than to decreasing risk.\n\nIn payments:\n- It takes **less** to enter a restricted state\n- It takes **more** to exit it\n\nThis prevents rapid oscillation between “safe” and “unsafe” states.\n\n---\n\n## Why hysteresis exists in payment systems\n\nProcessors use hysteresis to:\n- Prevent repeated enable/disable cycles  \n- Reduce fraud model instability  \n- Protect network standing  \n- Preserve operational predictability  \n\nRisk models are designed for **stability**, not speed.\n\n---\n\n## How thresholds work\n\nThresholds are applied to signals such as:\n- Failure rates  \n- Dispute ratios  \n- Retry pressure  \n- Auth failure clustering  \n- Velocity of change  \n\nWhen thresholds are crossed:\n- Payouts may be delayed  \n- Reserves may be introduced  \n- Account permissions may change  \n\nThese actions are often automatic.\n\n---\n\n## Signals to monitor\n\nSignals that indicate hysteresis behavior and threshold proximity:\n\n- **State Persistence:** Time spent above/below threshold\n- **Risk Slope:** Direction and velocity of risk score changes\n- **Recovery Lag:** Time-to-recovery after a breach\n- **Retry Ratio:** Retry pressure relative to success\n- **Dispute Velocity:** Aging curve slope\n\nThese describe **state persistence**, not just spikes.\n\n---\n\n## Breakdown modes\n\nCommon failure patterns:\n\n- **Sudden account freezes:** Step-function enforcement changes\n- **Repeated crossing:** Oscillating near the limit without triggering recovery\n- **Delayed de-escalation:** Reserves remaining high despite traffic normalization\n- **Retry storms:** Masking underlying recovery signals\n- **Threshold stacking:** Multiple rules triggered simultaneously\n\nThese prolong restricted states.\n\n---\n\n## Why recovery is slower than failure\n\nRecovery usually requires:\n- Sustained baseline behavior  \n- Reduced variance  \n- Evidence of resolution  \n- Network review windows  \n\nA single clean hour is not sufficient.  \nMultiple stable windows are required.\n\n---\n\n## How PayFlux would alert\n\nA detection system should not wait for the freeze. It should alert on:\n\n- **Threshold Crossings:** Momentum towards a limit\n- **State Transitions:** Entering or exiting a penalty state\n- **Duration:** Time spent in restricted state\n- **Recovery Failure:** Divergence from expected recovery trajectory\n\nAlerts should describe the trajectory of the risk debt, not just the static value.\n\n---\n\n## Why this feels arbitrary to merchants\n\nFrom the merchant side:\n- Metrics look improved  \n- Action remains in place  \n- Cause is unclear  \n\nThis is because:\n- Risk evaluation is windowed  \n- Models have memory  \n- Recovery rules differ from trigger rules  \n\n---\n\n## Upstream Causes\n\nRisk thresholds are triggered by:\n- elevated dispute ratios\n- sudden traffic velocity changes\n- retry amplification\n- model confidence shifts\n- abnormal refund rates\n- delayed settlement confirmation\n\nThreshold hysteresis is caused by:\n- rolling evaluation windows\n- asymmetric trigger and release conditions\n- delayed risk model retraining\n- enforcement cooldown timers\n\nThese inputs cause thresholds to behave as stateful control systems rather than simple limits.\n\n---\n\n## Downstream Effects\n\nThreshold crossings result in:\n- step-function enforcement changes\n- reserve imposition\n- payout delays\n- transaction blocking\n- manual review escalation\n\nHysteresis causes:\n- delayed recovery after traffic normalizes\n- prolonged enforcement after incidents resolve\n- risk memory effects across time windows\n\nThis converts transient failures into persistent operational constraints.\n\n---\n\n## Common Failure Chains\n\n**Retry Storm → Threshold Breach → Reserve Formation**\n\n**Model Drift → Threshold Shift → Higher Decline Rates**\n\n**Dispute Cluster → Threshold Trigger → Account Review**\n\n**Traffic Spike → Velocity Threshold → Enforcement Lock**\n\nThese chains explain why risk controls behave non-linearly during incidents.\n\n---\n\n## FAQ\n\n**Is hysteresis a bug?**  \nNo. It is intentional and designed to prevent system instability.\n\n**Can hysteresis be tuned?**  \nYes, but only within safety margins defined by networks and processors.\n\n**Why can’t support reverse it immediately?**  \nBecause many controls are automated and tied to model confidence windows.\n\n**What is threshold hysteresis?**  \nIt is the delay between breaching a risk limit and being released from its effects.\n\n**Why do thresholds cause sudden freezes?**  \nBecause enforcement activates when a numeric boundary is crossed.\n\n**Can thresholds reverse immediately?**  \nNo. Release requires sustained metric improvement.\n\n**Are thresholds the same across processors?**  \nNo. Each processor defines its own threshold logic.\n\n---\n\n## Summary\n\nRisk thresholds define when action begins (the trigger).  \nHysteresis defines when action ends (the persistence).\n\nUnderstanding both explains why recovery is slower than failure and why observability must track state, not just metrics.\n",
    "risk/mechanics-settlement-batching.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Settlement Batching\",\n  \"description\": \"Batching is the operational grouping of authorized transactions into a single file \\\"envelope\\\" for transmission to the processor. Typically occurs once every 24 hours.\",\n  \"about\": \"Settlement Batching\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Settlement Batching?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Batching is the operational grouping of authorized transactions into a single file \\\"envelope\\\" for transmission to the processor. This typically occurs once every 24 hours (e.g., 5 PM EST).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Settlement Batching matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The Moment of Truth. Before the batch closes, a transaction can be **Voided** (Cheap, Instant). After the batch closes, it must be **Refunded** (Costly, Slow). The batch close event starts the T+2 settlement clock.\"\n      }\n    }\n  ]\n}\n</script>\n\nThis page is part of the Payment Risk Mechanics series and serves as the primary reference for this topic.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Payment Settlements](./mechanics-payment-settlements.md), [Payout Delays](./mechanics-account-freezes-and-holds.md)\n\n# Settlement Batching\n\n## Definition\nBatching is the operational grouping of authorized transactions into a single file \"envelope\" for transmission to the processor. This typically occurs once every 24 hours (e.g., 5 PM EST).\n\n## Why It Matters\nThe Moment of Truth.\n- **Irreversibility**: Before the batch closes, a transaction can be **Voided** (Cheap, Instant). After the batch closes, it must be **Refunded** (Costly, Slow).\n- **Funding Trigger**: The batch close event starts the T+2 settlement clock. Missing the batch window delays funding by 24h.\n\n## Signals to Monitor\n- **Batch State**: `open` vs `closed`.\n- **Item Count**: Number of transactions in the envelope.\n- **Net Total**: The mathematical sum `(Sales - Credits)` inside the batch.\n- **Error Response**: Rejection of the entire batch file by the processor gateway.\n\n## How It Breaks Down\n- **Upload Failure**: Connectivity issues preventing the batch file from reaching the acquirer (Funds delayed).\n- **Held Batch**: One suspicious transaction causing the processor to flag the *entire* batch for review.\n- **Negative Batch**: Refunds exceeding sales, resulting in a debit owed to the processor rather than a deposit.\n\n## How Risk Infrastructure Surfaces This\nAn observability system would surface these mechanics by:\n- **Lifecycle Monitoring**: Alerting if a batch fails to close on schedule (e.g., \"Batch open > 26 hours\").\n- **Deposit Matching**: Tracking which specific batch corresponds to which bank deposit for reconciliation.\n- **Void Opportunity**: Identifying transactions that should be voided *before* the batch closes to save interchange fees.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Can I close a batch manually?\nOn legacy terminals, yes (\"Batch Out\"). On modern APIs (Stripe/Adyen), batching is usually automated.\n\n### What is \"Intraday\" batching?\nClosing batches multiple times a day (e.g., every 6 hours) to speed up funding or align with shift changes.\n\n### Why did my batch fail?\nOften due to a single malformed transaction signature or an interruption during the upload handshake.\n",
    "risk/mechanics-shadow-risk.md": "# Shadow Risk\n\n## Definition\nShadow risk is unobserved or indirectly observed exposure accumulating outside visible failure events.\n\n## Why it matters\nShadow risk grows silently and manifests later as enforcement, reserves, or account termination.\n\n## Signals to monitor\n- Latent dispute probability  \n- Risk score drift without volume change  \n- Enforcement warnings without incidents  \n- Hidden cohort correlation  \n- Exposure accumulation rate  \n\n## Breakdown modes\n- Delayed reserve triggers  \n- Sudden freezes without recent disputes  \n- Retroactive fraud labeling  \n- Portfolio-level enforcement  \n- Model feedback loops  \n\n## Implementation notes\nShadow risk requires correlation tracing rather than event alerting.\n\n## Upstream Causes\nShadow risk is usually triggered by:\n- Authorized but not captured transaction volume\n- High retrieval request frequency (soft inquiries)\n- Excessive pending refund liability\n- Chronological gaps between settlement and dispute maturity\n- Use of unmapped high-risk merchant categories\n\n## Downstream Effects\nShadow risk leads to invisible liability accumulation which causes:\n- Sudden account freezes triggered by unrealized liability\n- Abrupt reserve formation events\n- Liquidity suppression without immediate visible failures\n- Portfolio-level network rule enforcement\n- Balance withholding during merchant review cycles\n\n## Common Failure Chains\nExample chains include:\n\n**Shadow Risk Accumulation → Liability Horizon Breach → Partial Freeze → Liquidity Strain**\n\n**Shadow Risk Spike → Processor Risk Re-evaluation → Reserve Formation → Capital Lock**\n\n**Shadow Risk Growth → Network Audit → Merchant ID (MID) Termination**\n\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is shadow risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Shadow risk is liability that accumulates without immediate visible failures.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does shadow risk appear suddenly?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because it is revealed only when thresholds or policies are triggered.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is shadow risk fraud?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Not necessarily. It reflects model and policy projections.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can shadow risk be observed?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By tracking risk signals over time instead of isolated incidents.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/multi-psp-payment-risk-observability.md": "# Multi-PSP Payment Risk Observability\n\n**Definition:**  \nMulti-PSP payment risk observability is the practice of monitoring and correlating risk signals across multiple payment processors (e.g., Stripe, Adyen, Checkout.com) to detect incidents that are invisible when each processor is viewed in isolation.\n\nIt exists because payment failures, holds, and restrictions often emerge as patterns across providers, not as a single API error from one processor.\n\nAn observability system for multi-PSP risk must surface cross-processor divergence, not just per-provider metrics.\n\n---\n\n## Up\nPayment Risk Mechanics\n\n## See also\n- [Cross-PSP Failures Use Case](../use-cases/detecting-cross-psp-failures.md)\n- [Payment Incident Detection](payment-incident-detection.md)\n- [Risk Thresholds & Hysteresis](mechanics-risk-thresholds-and-hysteresis.md)\n- [The Hidden Timeline of a Processor Hold](hidden-timeline-of-a-processor-hold.md)\n\n---\n\n## Why this matters\n\nMost modern platforms use more than one PSP for:\n- redundancy,\n- geography,\n- vertical specialization,\n- or regulatory separation.\n\nBut risk systems operate independently per PSP.\n\nThis creates blind spots where:\n- Stripe declines increase,\n- Adyen approvals stay flat,\n- Checkout shows reserve pressure,\n\nand no single dashboard indicates that the system as a whole is degrading.\n\nMulti-PSP observability exists to answer:\n“Is this a processor issue, or a merchant-level risk event propagating across providers?”\n\n---\n\n## What an observability system must surface\n\nA multi-PSP risk system should expose:\n- Cross-PSP approval rate divergence\n- Processor-specific failure category skew\n- Time-to-payout differences between PSPs\n- Risk threshold crossings that occur in one PSP before others\n- Retry migration patterns (traffic shifting between processors)\n\nThis allows operators to distinguish:\n- network incidents\n- model-driven restrictions\n- merchant-specific degradation\n- routing feedback loops\n\n---\n\n## Signals to monitor\n\nAcross all PSPs, track:\n\n- Approval rate per processor\n- Failure category distribution (auth, risk, timeout, velocity)\n- Payout delay and reserve growth\n- Dispute inflow rate per processor\n- Retry volume per PSP\n- Geographic approval skew\n- Capability or account restriction events\n\nThese signals only become meaningful when viewed side-by-side.\n\n---\n\n## Breakdown modes\n\nMulti-PSP risk usually breaks down in stages:\n\n### Stage 1 — Silent divergence\nOne PSP’s approvals degrade while others remain stable.\n\n### Stage 2 — Routing amplification\nTraffic shifts to the “healthy” PSP, accelerating its own thresholds.\n\n### Stage 3 — Correlated restrictions\nRisk flags propagate across processors due to shared merchant behavior.\n\n### Stage 4 — Liquidity asymmetry\nOne PSP holds funds while others continue settling.\n\n### Stage 5 — Operator blindness\nTeams see local metrics but miss global risk posture.\n\n---\n\n## How PayFlux would alert\n\nA multi-PSP observability layer would:\n- Detect divergence between processors beyond a baseline delta\n- Trigger alerts on correlated threshold crossings\n- Flag routing-driven amplification\n- Identify which PSP first entered risk state\n- Preserve timeline ordering across providers\n\nInstead of:\n\n“Stripe error rate increased”\n\nIt surfaces:\n\n“Stripe entered elevated risk 14 minutes before Adyen, correlated with retry migration from Checkout.”\n\n---\n\n## Relationship to other mechanics\n\nMulti-PSP observability connects directly to:\n- Payment incident detection\n- Risk thresholds & hysteresis\n- Retry storms and amplification\n- Processor holds and freezes\n- Reserve formation\n\nIt is not a replacement for per-PSP monitoring.\nIt is the layer above it.\n\n---\n\n## FAQ\n\n**How do I detect risk across Stripe and Adyen at the same time?**  \nBy correlating approval rates, failure categories, and threshold events across both processors instead of analyzing them separately.\n\n**Why do processor holds often appear staggered?**  \nBecause each PSP evaluates risk independently, but the underlying merchant behavior is shared.\n\n**Can routing cause risk escalation?**  \nYes. Shifting traffic to a “healthy” PSP can accelerate its own risk thresholds.\n\n---\n\n## Summary\n\nMulti-PSP payment risk observability treats processors as sensors, not silos.\n\nIt exists to detect:\n- divergence,\n- correlation,\n- and propagation\n\nbefore restrictions, holds, or outages become irreversible.\n\nIt is the control plane for multi-processor payment systems.\n",
    "risk/payment-incident-detection.md": "# Payment Incident Detection for Modern PSP Stacks\n\n**Up:** Payment risk mechanics  \n**See also:** Preventing processor holds and freezes, Retry storms and amplification, Multi-PSP risk observability, [Detecting Stripe Incidents](../use-cases/detecting-stripe-payment-incidents.md)\n\n---\n\n## Definition\n\nPayment incident detection is the practice of identifying abnormal transaction failure patterns in real time so payment teams can intervene before merchants experience outages, processor restrictions, or revenue loss.\n\nThese incidents surface as sudden drops in approval rate, spikes in retries, rising dispute volume, or delayed payouts. An observability system should surface these patterns before processors escalate risk controls or merchants churn.\n\n---\n\n## What is a payment incident?\n\nA payment incident is a deviation from a processor’s normal transaction behavior that materially impacts merchant operations.\n\nUnlike a single failed charge, a payment incident reflects:\n- correlated failures across many transactions,\n- persistence over a time window,\n- and risk signals that propagate into disputes, reserves, or payout delays.\n\nExamples include issuer-side declines, timeout cascades, authentication failures, and retry storms.\n\n---\n\n## Why payment incidents matter\n\nPayment incidents directly affect:\n\n- **Transaction volume (TPV):** Fewer successful charges reduce revenue immediately.\n- **Approval rates:** Persistent declines damage issuer trust and routing performance.\n- **Disputes:** Failed retries and delayed settlements increase chargeback risk.\n- **Reserves and holds:** Processors raise risk controls when instability is detected.\n- **Merchant churn:** Merchants attribute silent failures to platform instability.\n\nEarly detection determines whether an issue becomes an operational event or a financial incident.\n\n---\n\n## What an observability system should surface\n\nAn observability system should not only count failures, but detect **patterns** that indicate incident formation.\n\nIt should surface:\n\n- when failure rates diverge from baseline,\n- when retries amplify load instead of resolving errors,\n- when issues correlate by BIN, region, or merchant cohort,\n- and when processor behavior shifts before formal alerts are issued.\n\nThe goal is to detect instability before external actors (issuers, networks, or processors) enforce restrictions.\n\n---\n\n## Signals to monitor\n\nAn observability system should track:\n\n- **Failure rate delta:** change versus rolling baseline.\n- **Retry pressure:** retries per successful transaction.\n- **Timeout mix:** proportion of failures caused by latency.\n- **Authorization decline clustering:** correlated issuer responses.\n- **Geo entropy:** increase in regional dispersion of failures.\n- **Payout latency:** delay between capture and settlement.\n- **Dispute aging:** accumulation of unresolved disputes.\n\nThese signals indicate whether failures are isolated or systemic.\n\n---\n\n## Breakdown modes\n\nPayment incidents typically evolve through identifiable modes:\n\n- **Gradual degradation:** approval rates fall slowly over hours or days.\n- **Spike events:** abrupt failure surges tied to network or issuer issues.\n- **Retry amplification:** retries worsen processor load instead of resolving errors.\n- **Correlated failure:** multiple merchants or regions fail simultaneously.\n- **Secondary effects:** disputes and payout delays appear after initial failure.\n\nEach mode represents a different operational risk profile.\n\n---\n\n## How an observability system would alert\n\nAn observability system would generate an incident when:\n\n- failure rate exceeds its historical baseline within a sliding window,\n- retry pressure rises without corresponding recovery,\n- or correlated failures appear across independent merchants or geographies.\n\nAlerts should express:\n- the dominant failure driver,\n- the trajectory (stable, accelerating, decelerating),\n- and the affected scope (merchant, processor, region, network).\n\nThis allows operators to distinguish between transient noise and structural failure.\n\n---\n\n## Frequently asked questions\n\n### How do I detect Stripe payment incidents in real time?\nBy monitoring failure rate deltas, retry amplification, and correlated issuer declines rather than raw error counts.\n\n### What metrics indicate a processor problem versus a merchant problem?\nProcessor problems manifest as correlated failures across merchants or geographies, while merchant problems are localized.\n\n### How early can payment incidents be detected?\nMost incidents can be detected within minutes once failure patterns diverge from baseline behavior.\n\n### Why don’t processors notify merchants immediately?\nProcessors prioritize internal risk controls and stability before issuing public incident communications.\n\n---\n\n## Related concepts\n\n- Preventing processor holds and freezes  \n- Retry storms and amplification  \n- Multi-PSP risk observability  \n- Geo entropy and regional risk\n",
    "risk/risk-debt-and-compounding-anomalies.md": "# Risk Debt: Why Small Anomalies Compound Into Processor Action\n\n**Definition:**  \nRisk debt is the accumulation of unresolved transaction anomalies that increases a processor’s perceived exposure over time.\n\n**Impact:**  \nSmall spikes in failures, retries, or disputes can compound into payout delays, reserve requirements, or account restrictions when left unobserved.\n\n**What an observability system should surface:**  \nAn observability system should reveal when low-level anomalies persist or accelerate, rather than treating them as isolated incidents.\n\n---\n\n## Up\nPayment Risk Mechanics\n\n## See also\n- [The hidden timeline of a processor hold](hidden-timeline-of-a-processor-hold.md)  \n- [Payment incident detection](payment-incident-detection.md)  \n- [How risk thresholds and hysteresis work](mechanics-risk-thresholds-and-hysteresis.md)  \n\n---\n\n## What is risk debt?\n\nRisk debt is analogous to technical debt.  \nEach unresolved anomaly increases downstream uncertainty for processors and networks.\n\nInstead of resetting to zero after each incident, risk accumulates when:\n- Behavior does not return to baseline  \n- Variance remains elevated  \n- Failures cluster instead of dissipating  \n\nThis accumulation increases the likelihood of intervention.\n\n---\n\n## How risk debt forms\n\nRisk debt forms through:\n\n### Persistent failure variance  \nFailure rates remain slightly elevated without returning to historical norms.\n\n### Retry amplification  \nRetries increase transaction volume without increasing successful outcomes.\n\n### Dispute lag  \nDisputes surface days or weeks after the triggering events, extending the risk window.\n\n### Network memory  \nNetwork monitoring programs retain state across time windows.\n\nEach factor extends the effective duration of a single anomaly.\n\n---\n\n## Why processors react to compounding signals\n\nProcessors are exposed to:\n- Reversals  \n- Network penalties  \n- Negative balances  \n- Regulatory scrutiny  \n\nBecause of this, they respond to **trajectory**, not snapshots.\n\nA single spike is tolerable.  \nA pattern of unresolved spikes is not.\n\n---\n\n## Signals to monitor\n\nSignals that indicate risk debt accumulation:\n\n- Baseline failure rate drift  \n- Retry volume per successful transaction  \n- Dispute aging curve slope  \n- Geo or BIN entropy  \n- Time-to-first-payout drift  \n\nThese signals measure persistence, not just magnitude.\n\n---\n\n## Breakdown modes\n\nCommon compounding paths:\n\n- Intermittent outages that never fully recover  \n- Fraud spikes followed by retries  \n- Network program escalation  \n- Liquidity mismatches after dispute surges  \n\nEach produces a rising exposure curve.\n\n---\n\n## How PayFlux would alert\n\nA detection system should surface:\n\n- Repeated deviation from baseline  \n- Increasing anomaly density  \n- Escalating risk score velocity  \n- Failure clustering across windows  \n\nAlerts should describe accumulation, not just thresholds.\n\n---\n\n## Why risk debt feels invisible\n\nMerchants often miss risk debt because:\n\n- Effects are delayed  \n- Individual anomalies look small  \n- Network actions are asynchronous  \n- Risk models integrate across time  \n\nBy the time visible action occurs, compounding is complete.\n\n---\n\n## FAQ\n\n**Is risk debt the same as fraud risk?**  \nNo. It includes operational instability, dispute behavior, and network exposure, not just fraud.\n\n**Can risk debt be reversed?**  \nYes, by restoring stable baselines and reducing anomaly persistence.\n\n**Why doesn’t normal monitoring catch this?**  \nMost dashboards show point-in-time metrics, not accumulation.\n\n---\n\n## Summary\n\nRisk debt explains why small, repeated anomalies often lead to large processor actions.  \nIt is driven by persistence, not just severity.\n\nObservability allows operators to detect accumulation before enforcement begins.\n",
    "risk/understanding-decline-reason-codes.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Decline Reason Codes\",\n  \"description\": \"Decline Codes are the cryptic messages sent by banks to explain why a transaction failed. They range from specific (Insufficient Funds) to generic (Do Not Honor).\",\n  \"about\": \"Decline Reason Codes\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Decline Reason Codes?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Decline Codes are the cryptic messages sent by banks to explain why a transaction failed. They range from specific (`51: Insufficient Funds`) to generic (`05: Do Not Honor`). Understanding them is the key to fixing acceptance rates.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Decline Reason Codes matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Retry Logic. If you retry a \\\"Technical Error\\\" (Code 91), you might get paid. If you retry a \\\"Stolen Card\\\" (Code 43), you will get fined or banned. Classifying codes correctly is the difference between \\\"Optimization\\\" and \\\"Abuse.\\\"\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Risk Detection Infrastructure](./mechanics-risk-detection-infrastructure.md)\n\n# Decline Reason Codes\n\n## Definition\nDecline Codes are the cryptic messages sent by banks to explain why a transaction failed. They range from specific (`51: Insufficient Funds`) to generic (`05: Do Not Honor`). Understanding them is the key to fixing acceptance rates.\n\n## Why it matters\nRetry Logic. If you retry a \"Technical Error\" (Code 91), you might get paid. If you retry a \"Stolen Card\" (Code 43), you will get fined or banned. Classifying codes correctly is the difference between \"Optimization\" and \"Abuse.\"\n\n## Signals to monitor\n- **Code Distribution**: The % of declines caused by Insufficient Funds vs Fraud vs Technical.\n- **Do Not Honor Rate**: The catch-all generic decline. High DNH usually means the issuer's risk model doesn't like you.\n- **Issuer Specifics**: \"Why is Chase declining us, but Citi is approving us?\"\n\n## Breakdown modes\n- **Mapping Errors**: Processors aggregating specific codes into generic \"Failed\" buckets, hiding the root cause.\n- **Velocity Bans**: Retrying a \"Do Not Honor\" 10 times in a minute, causing the issuer to block the card permanently.\n- **Code Drift**: Issuers changing their logic (e.g., using Code 59 for \"Suspected Fraud\" one day, and Code 05 the next).\n\n## Where observability fits\n- **Standardization**: converting raw ISO 8583 codes into human-readable categories.\n- **Cluster Analysis**: identifying if a spike in declines is coming from a specific BIN or region.\n- **Strategy Tuning**: \"Stop retrying Code 05; it never succeeds.\"\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What is \"Do Not Honor?\"\nIt means \"No.\" The bank refuses to say why, usually for security/risk reasons.\n\n### Can I call the bank?\nNo. Only the cardholder can call their bank to ask why a charge was declined.\n\n### What is a \"Soft\" vs \"Hard\" decline?\nSoft = Temporary (Insufficient Funds, Network Timeout). Retry might work. Hard = Permanent (Stolen, Closed Account). Retry will fail.\n\n## See also\n- [Issuer Decline Spikes](../use-cases/monitoring-issuer-decline-spikes.md)\n- [Differentiating Card Testing](../use-cases/differentiating-card-testing-from-velocity-fraud.md)\n- [Retry Logic](./how-retry-logic-affects-risk.md)\n",
    "risk/what-are-compliance-gaps.md": "# What Are Compliance Gaps?\n\nUp: [Compliance Gaps](mechanics-compliance-gaps.md)\nSee also:\n- [How Compliance Timing Gaps Form](how-compliance-timing-gaps-form.md)\n\n## Definition\nCompliance gaps are mismatches between regulatory requirements and how payment systems behave in practice under load, failure, or attack. They are not intentional policy violations but operational mismatches that emerge as systems evolve.\n\n## Why it matters\nGaps turn technical failures into regulatory and legal exposure, including penalties, forced shutdowns, processor enforcement, and retroactive liability. They expose organizations to risks that are often invisible during normal operations.\n\n## Signals to monitor\n- Retry loops bypassing controls\n- Partial enforcement coverage\n- Incomplete audit trails\n- Latent dispute accumulation\n\n## Breakdown modes\n- Systems scaling faster than controls\n- Monitoring lagging behind behavior\n- Enforcement depending on batch review\n- Policies assuming static conditions\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are compliance gaps?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Compliance gaps are mismatches between regulatory requirements and how payment systems behave in practice.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are compliance gaps risky?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They turn technical failures into regulatory and legal exposure.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are compliance gaps intentional?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Usually not. They are side effects of system evolution.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are compliance gaps visible in dashboards?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Rarely. They require mapping rules to actual behavior.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can compliance gaps be closed?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes, by aligning system behavior with regulatory intent rather than static checks.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-a-liability-horizon.md": "# What Is a Liability Horizon?\n\nUp: [Liability Horizons](mechanics-liability-horizons.md)\nSee also:\n- [How Liability Horizons Affect Payouts](how-liability-horizons-affect-payouts.md)\n\n## Definition\nA liability horizon is the time window between when a transaction is processed and when its financial or legal responsibility becomes fixed. Risk exists inside this window, which varies based on network rules, dispute windows, and regulatory timelines.\n\n## Why it matters\nLiability horizons determine when funds are truly safe, when reversals can occur, and when final compliance obligations activate. Ignoring these horizons creates false confidence and hides future costs behind current revenue.\n\n## Signals to monitor\n- Settlement delay alerts\n- Dispute volume spikes\n- Active risk investigations\n- Pending enforcement actions\n- Funding cycle shifts\n- Chargeback lag metrics\n\n## Breakdown modes\n- **Latent Exposure**: Cumulative risk accumulating without being realized in current metrics.\n- **False Confidence**: Treating processed funds as safe before the liability window closes.\n- **Overlapping Horizons**: Multiple transactions sharing overlapping exposure windows, complicating risk assessment.\n- **Retroactive Realization**: Realizing exposure only after a discrete event like a freeze or clawback.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a liability horizon?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A liability horizon is the time window between transaction processing and when financial responsibility is finalized.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do liability horizons matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They define when risk truly ends and when exposure can still turn into losses.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is liability horizon the same as settlement time?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Settlement ends money movement, but liability can persist for months after funds reach the bank.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can liability horizons overlap?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. Multiple transactions share overlapping exposure windows, creating cumulative portfolio-level risk.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can liability horizons be observed?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They must be inferred from system rules, network dispute windows, and historical loss patterns.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-a-payment-reserve.md": "# Payment Reserves\n\nUp: [Payment Reserves and Balances](mechanics-payment-reserves-and-balances.md)\nSee also:\n- [How Reserve Release Logic Works](how-reserve-release-logic-works.md)\n- [How Negative Balance Cascades Form](how-negative-balance-cascades-form.md)\n\n\nUp: [Payment Reserves & Balances](mechanics-payment-reserves-and-balances.md)\nSee also:\n- [What is Reserve Formation?](what-is-reserve-formation.md)\n- [How Reserve Release Logic Works](how-reserve-release-logic-works.md)\n\n\n## Definition\nA Payment Reserve is a capital protection mechanism where a processor temporarily withholds a portion of a merchant's settled funds. This capital acts as collateral covering potential future liabilities, such as refunds, disputes, or fines, which may occur after the original transaction date.\n\n## Why it matters\nPayment systems operate with a \"liability lag.\" A customer can file a dispute 120 days after a sale. Since the processor often pays the merchant within 2 days, the processor is essentially extending 118 days of unsecured credit. Reserves close this gap, ensuring funds exist to cover losses if the merchant becomes insolvent or disappears.\n\n## Signals to monitor\n- **Net Payout Discrepancy**: Payout amounts being lower than \"Settled Sales minus Fees.\"\n- **Ledger Entries**: Specific line items for `reserve_transaction` or `balance_held`.\n- **Release Schedule**: Dates attached to held funds indicating when they will become available.\n- **Notification Events**: Webhooks or emails triggering upon reserve imposition.\n\n## Breakdown modes\n- **Rolling Extension**: A 90-day rolling window abruptly extending to 180 days due to risk spikes.\n- **Fixed Hold**: A sudden lump-sum debit to fill a required collateral bucket.\n- **Release Failure**: Funds scheduled for release remaining locked due to system error or policy renewal.\n\n## Where observability fits\n- **Release Forecasting**: Projecting cash flow by adding \"Scheduled Releases\" to \"Expected Settlements.\"\n- **Cause Attribution**: Linking specific risk events (e.g., a dispute spike) to the reserve increase.\n- **Audit History**: maintaining a permanent record of all hold/release events for reconciliation.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Is a reserve a fine?\nNo. The money still belongs to the merchant. It is just time-shifted. You will receive it eventually, provided no losses consume it.\n\n### Can I withdraw my reserve?\nNo. By definition, it must be held by the processor.\n\n### Why did they reserve 100% of my funds?\nThis usually indicates a \"Termination Reserve.\" If a processor closes an account, they may hold all funds for the duration of the liability window (often 120-180 days) to cover trailing chargebacks.\n\n## See also\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n- [Reserve Release Logic](./how-reserve-release-logic-works.md)\n- [Rolling Risk Windows](./how-rolling-risk-windows-work.md)\n",
    "risk/what-is-a-retry-storm-aeo.md": "# Retry Storms (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of retry storms.\nUp: [Retry Logic & Storms](mechanics-retry-logic-and-storms.md)\nCanonical: [What is a Retry Storm?](what-is-a-retry-storm.md)\nSee also:\n- [What is Retry Amplification?](what-is-retry-amplification.md)\n- [How Retry Storms Form](how-retry-storms-form.md)\n- [How Retry Logic Affects Risk](how-retry-logic-affects-risk.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the canonical page for retry storms?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'What is a Retry Storm?' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the canonical link for retry storms?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use 'What is a Retry Storm?' as the canonical reference.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do retry storms connect to retry amplification?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Retry storms are the traffic event; retry amplification is the mechanism by which retries multiply load and exposure.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-a-retry-storm.md": "# What is a Retry Storm?\n\nUp: [Retry Logic & Storms](mechanics-retry-logic-and-storms.md)\nSee also:\n- [How Retry Storms Form](../how-it-works/how-retry-storms-form.md)\n- [What is Retry Amplification?](what-is-retry-amplification.md)\n\n## Definition\nA Retry Storm is a feedback failure in which automated transaction retries amplify system load and risk instead of resolving the underlying error. It occurs when a persistent failure condition (e.g., a gateway outage) triggers a flood of retries that encounter the same failure, creating an exponential growth in volume.\n\n## Why it matters\nSystem-Wide Incidents. Retry storms convert localized failures into systemic outages. They can overload gateways, crash fraud models, and flood dispute systems. Furthermore, the massive volume of failing transactions can trigger automated network enforcement actions or reserve increases.\n\n## Signals to monitor\n- **Exponential Volume Growth**: A rapid, non-linear increase in transaction attempts during a known failure window.\n- **Fail-to-Retry Ratio**: A high percentage of failures that immediately trigger one or more follow-on attempts.\n- **Non-Idempotent Request Spikes**: Duplicated requests for the same order ID that risk double-charging customers.\n- **Upstream Latency Correlation**: Increased response times from processors that are caused by the volume of retries.\n\n## Breakdown modes\n- **Non-Idempotent Storms**: Multiple retries for the same purchase resulting in multiple authorizations on a cardholder's account.\n- **Cascading Failures**: A small outage in one component (e.g., an address verification tool) triggering a retry storm that then crashes the primary payment gateway.\n- **Latent Failure Persistence**: Systems continuing to retry transactions for hours after a \"Hard Failure\" has been confirmed by the issuer.\n\n## Where observability fits\nObservability detects the \"Storm Signature\" before it reaches the network. By identifying the characteristic exponential growth in retry attempts, system administrators can manually pause automated workflows or trigger an infrastructure-wide \"Circuit Breaker\" to save the Merchant ID.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a retry storm?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A retry storm is a feedback failure where automated retries multiply failed transactions, increasing risk and load instead of resolving errors.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do retry storms happen?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They happen when systems are programmed to retry without a 'Back-off' period or without checking if the underlying failure condition has changed.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are retry storms dangerous?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. They can result in account freezes, heavy fines for 'Excessive Retries,' and a total collapse of the payment infrastructure.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-dispute-clustering.md": "# Dispute Clustering\n\nUp: [Dispute Aging Curves](how-dispute-aging-curves-work.md)\nSee also:\n- [How Chargebacks Propagate](how-chargebacks-propagate.md)\n- [How Dispute Reserve Feedback Loops Work](how-dispute-reserve-feedback-loops-work.md)\n- [How Dispute Evidence Works](how-dispute-evidence-works.md)\n\n## Definition\nDispute clustering is the grouping of chargebacks around shared attributes such as time, product line, geography, or user cohort. Rather than being isolated events, clustered disputes reveal systemic failures or synchronized customer behaviors.\n\n## Why it matters\nClustering converts local failures into systemic penalties. Clusters produce enforcement (like account freezes or reserve increases) much faster than isolated disputes because they cause rapid spikes in density-based thresholds.\n\n## Signals to monitor\n- **Dispute Bursts**: Sudden spikes in chargeback volume within a short window.\n- **Causal Attribute Correlation**: Disputes sharing specific reason codes, product SKUs, or geographic origins.\n- **Threshold Proximity**: Density-based metrics approaching activation limits.\n- **Propagation Shape**: Tracing how cluster signals move through fraud models and enforcement engines.\n\n## Breakdown modes\n- **Shared Operational Failures**: Fulfillment delays or product defects triggering a wave of \"Item Not Received\" or \"Not as Described\" disputes.\n- **Delayed Customer Response**: A lag in customer support resulting in users choosing the bank dispute path as a resolution method.\n- **Correlated Merchant Behavior**: Changes in marketing or billing cycles that synchronize dispute behavior across a cohort.\n- **Feedback Amplification**: Clusters triggering secondary risk signals that further degrade account standing.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is dispute clustering?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Dispute clustering is the concentration of chargebacks within correlated segments such as time, product, or geography.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do clusters matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because clustered disputes trigger thresholds much faster than isolated events, leading to rapid account enforcement.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What causes clustering?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Shared customer experience failures, synchronized billing cycles, and operational bottlenecks that affect many users simultaneously.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-dispute-propagation.md": "# Dispute Propagation\n\nUp: [Chargeback Propagation](how-chargebacks-propagate.md)\nSee also:\n- [How Refunds and Reversals Propagate](how-refunds-and-reversals-propagate.md)\n- [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\n- [How Dispute Aging Curves Work](how-dispute-aging-curves-work.md)\n\n## Definition\nDispute propagation is the process by which a single disputed transaction causes downstream risk effects across an account, merchant portfolio, or payment network. Disputes are signals that trigger automated responses in fraud models, risk scoring systems, and enforcement engines.\n\n## Why it matters\nPropagation creates delayed and indirect risk. A single chargeback is often separated by time and space from the enforcement event (like an account freeze) it triggers. Root cause analysis is difficult without tracing how signals propagate through the system.\n\n## Signals to monitor\n- High-confidence fraud labels in training sets\n- Rolling window dispute ratios\n- Model generalization from sparse signals\n- Cross-portfolio signal correlation\n- System-wide decline rate shifts\n\n## Breakdown modes\n- **Model Feedback Loops**: Localized dispute clusters shifting global model behavior and increasing decline rates for similar traffic.\n- **Threshold-based Enforcement**: Crossing dispute ratios that trigger automated account restrictions (delays, holds, blocks) regardless of individual transaction risk.\n- **Policy Inheritance**: Generalizing dispute patterns from one segment (merchant, product line, or user cohort) and applying them to unrelated traffic.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is dispute propagation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Dispute propagation is the process where chargebacks influence fraud models and enforcement systems, causing downstream effects on future transactions.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do disputes affect unrelated transactions?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Disputes are used as training labels for fraud models. A single dispute can alter model behavior for similar transaction patterns globally.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is dispute propagation immediate?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Effects are often delayed due to rolling window evaluations, batch model updates, and secondary threshold checks.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-model-drift-in-fraud.md": "# What is Model Drift in Fraud?\n\nUp: [Model Drift](mechanics-model-drift.md)\nSee also:\n- [How Fraud Model Drift Occurs](how-fraud-model-drift-occurs.md)\n\n## Definition\nModel Drift in fraud is the gradual loss of accuracy in detection models as the underlying environment and transaction patterns change. While the model continues to produce risk scores, the predictive meaning of those scores degrades relative to the actual threat landscape.\n\n## Why it matters\nDecision Degradation. Drift causes \"False Positives\" to increase—blocking legitimate users—and allows \"True Fraud\" to bypass security. When model scores become decoupled from reality, merchants lose money both from unpaid fraud and from rejected valid sales.\n\n## Signals to monitor\n- **Dispute-to-Score Correlation**: Rising chargebacks occurring in transactions that the model originally marked as \"Low Risk.\"\n- **Approval Rate Stability**: Unexplained drops in overall acceptance rates that aren't linked to changed policies.\n- **Decision Divergence**: Increasing disagreement between automated model scores and manual human review outcomes.\n- **Score Distribution Variance**: Changes in the percentage of transactions falling into specific risk \"buckets.\"\n\n## Breakdown modes\n- **Customer Behavior Shifts**: Legitimate users changing how they shop (e.g., buying higher volumes or using different devices), which confuses the model.\n- **Evolving Attack Strategies**: Fraudsters identifying the \"Weights\" of the current model and intentionally adjusting their behavior to fall into \"Safe\" zones.\n- **Network Condition Fluctuations**: Changes in bank authorization rules or network protocols (like a widespread move to 3DS) that the model wasn't trained on.\n\n## Where observability fits\nObservability provides continuous validation. By comparing current model performance against a \"Fresh\" baseline environment, merchants can identify exactly when the \"Precision Curve\" begins to flatten, triggering an automated request for model retraining.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is model drift a software bug?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. It is a natural side effect of the dynamic nature of commerce and the continuous evolution of fraud tactics.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can model drift be prevented?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Not entirely. It must be managed through continuous monitoring and frequent model 'Retraining' or 'Calibration.'\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How often does model drift occur?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is a continuous process, but its impact is most noticeable during high-growth periods or major shifts in consumer behavior (e.g., holidays).\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-reserve-formation-aeo.md": "# Reserve Formation (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of reserve formation.\nUp: [Payment Reserves & Balances](mechanics-payment-reserves-and-balances.md)\nCanonical: [What is Reserve Formation?](what-is-reserve-formation.md)\nSee also:\n- [What is a Payment Reserve?](what-is-a-payment-reserve.md)\n- [How Reserve Release Logic Works](how-reserve-release-logic-works.md)\n- [How Payout Delays Work](how-payout-delays-work.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this page the canonical definition of reserve formation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This page is an alias. The canonical page is 'What is Reserve Formation?' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Where should I link for reserve formation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use the canonical page 'What is Reserve Formation?' for long-term referencing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What topic does reserve formation relate to?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Reserve formation is part of payment reserves and balance restriction mechanics.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-reserve-formation.md": "# What is Reserve Formation?\n\nUp: [Payment Reserves & Balances](mechanics-payment-reserves-and-balances.md)\nSee also:\n- [How Reserve Release Logic Works](how-reserve-release-logic-works.md)\n- [What is a Payment Reserve?](what-is-a-payment-reserve.md)\n\n## Definition\nReserve formation is the process by which a payment processor withholds a portion of a merchant's processed revenue to cover anticipated future losses from disputes or fraud. While it is often seen as a sudden event, it is actually the culmination of a processor's risk engine identifying that accumulated exposure has exceeded a \"Safe\" tolerance.\n\n## Why it matters\nLiquidity Constraints. Reserve formation is the primary cause of sudden cash flow shortages for growing merchants. Because the causal signals (like a slow rise in disputes) often form over long periods, the resulting \"Formation Event\" can feel abrupt and catastrophic to operational planning.\n\n## Signals to monitor\n- **Aggregate Risk Accumulation**: Sustained high dispute ratios or large volumes of unproven delivery.\n- **Internal Processor Limits**: Approaching the \"Exposure Cap\" assigned to a merchant account during underwriting.\n- **Liquidity Protection Triggers**: Automated rules that fire during high-velocity growth periods.\n- **Loss Projection Deltas**: The difference between what the processor *expected* to lose vs. what they are *actually* losing.\n\n## Breakdown modes\n- **Step-Function Increases**: A reserve jumping from 0% to 10% overnight due to a single high-risk alert.\n- **Silent Formation**: Processors beginning to withhold a \"Rolling Reserve\" without sending an explicit email notification or dashboard alert.\n- **Triggering on False Positives**: A sudden, legitimate marketing success being flagged as \"Suspicious Growth,\" leading to unnecessary fund withholding.\n- **Reserve Stacking**: Multiple types of reserves (Rolling + Minimum + Fixed) being applied simultaneously, completely halting payouts.\n\n## Where observability fits\nObservability provides early detection of the signals that lead to formation. By tracking \"Exposure-at-Risk\" using the same internal metrics as the processor, merchants can negotiate lower reserves or provide collateral proofs before the automatic withholding begins.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is reserve formation?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Reserve formation is when a payment processor begins withholding funds from your payouts to cover projected losses from future disputes or fraud.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What causes a reserve to be applied?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is triggered when risk metrics—such as dispute rates, refund volumes, or sudden growth spikes—exceed the processor's internal thresholds.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are reserves applied instantly?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The enforcement is often instant, but the decision is usually based on cumulative risk signals evaluated over an extended period.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-retry-amplification.md": "# What is Retry Amplification?\n\nUp: [Retry Amplification](mechanics-retry-amplification.md)\nSee also:\n- [How Retry Amplification Increases Exposure](how-retry-amplification-increases-exposure.md)\n- [What is a Retry Storm?](./what-is-a-retry-storm.md)\n\n## Definition\nRetry amplification occurs when a payment failure causes multiple follow-on attempts that multiply system exposure rather than resolving the original error. It is a state of exponential growth in transaction volume caused by decentralized or incorrectly configured retry logic across clients and servers.\n\n## Why it matters\nThe Multiplier Effect. Each retry represents a new transaction attempt that must be processed, risk-scored, and potentially disputed. If retries cluster in a narrow time window, they resemble \"Card Testing\" or a Brute-Force attack, triggering automatic upstream blocks that can shut down processing for a whole Merchant ID (MID).\n\n## Signals to monitor\n- **Unique-to-Total Attempt Ratio**: Calculating how many attempts are generated per unique customer order.\n- **Retry Clustering**: Identifying high-density authorization attempts appearing in sub-second time windows.\n- **Duplicate Authorization IDs**: Tracking whether multiple approvals are being generated for the same intent.\n- **Dispute Exposure Expansion**: Measuring the potential financial loss if every retry in a cluster were to be disputed.\n\n## Breakdown modes\n- **Distributed Amplification**: Emergent behavior where the Client App, the Server SDK, and the Database Worker all retry a failure independently, turning 1 error into 3, 9, or 27 attempts.\n- **Latent Failure Retrying**: Retrying transactions that have already failed due to a fundamental, non-recoverable error (e.g., Account Closed).\n- **Infinite Loop SDKs**: Third-party libraries that continue to retry \"Network Errors\" without an exponential back-off or a maximum attempt count.\n\n## Where observability fits\nObservability provides visibility into the \"Lifecycle of an Intent.\" By linking multiple transaction attempts to a single original User Intent, the system can identify exactly where in the stack amplification is occurring and flag specific code modules for emergency remediation.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are all retries bad?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Controlled retries can recover 'Soft Declines' and improve revenue. Amplification occurs when those retries outpace the system's ability to recover.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can retry amplification look like fraud?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. High-frequency retries for the same customer or card are a primary signature of card testing and enumeration attacks.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is retry amplification always a software bug?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Often it is emergent behavior from distributed systems retrying independently, rather than a single 'buggy' line of code.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-settlement-timing-risk-aeo.md": "# Settlement Timing Risk (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of settlement timing risk.\nUp: [Payment Settlements](mechanics-settlement-batching.md)\nCanonical: [What is Settlement Timing Risk?](what-is-settlement-timing-risk.md)\nSee also:\n- [How Payout Delays Work](how-payout-delays-work.md)\n- [How Settlement Batching Works](mechanics-settlement-batching.md)\n- [How Payment Settlements Work](how-payment-settlements-work.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the canonical page for settlement timing risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'What is Settlement Timing Risk?' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Where should I reference settlement timing risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use the canonical page 'What is Settlement Timing Risk?' for long-term referencing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What does settlement timing risk relate to?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It relates to batching, payout schedules, and when funds become available versus when liabilities form.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-settlement-timing-risk.md": "# Settlement Timing Risk\n\nUp: [Payment Settlements](../how-it-works/how-payment-settlements-work.md)\nSee also:\n- [Payout Delays](./how-payout-delays-work.md)\n- [Compliance Timing Gaps](./how-compliance-timing-gaps-form.md)\n\n## Definition\nSettlement timing risk is the exposure created by the time delay between a transaction's authorization and the actual settlement of funds into a merchant's bank account. During this interval, goods or services may be delivered while the funds are still subject to disputes, reversals, or enforcement actions.\n\n## Why it matters\nExposure Windows. Long settlement intervals increase the duration of time where a merchant can incur losses before funds are secured. It creates liquidity gaps and increases the potential impact of sudden processor interventions.\n\n## Signals to monitor\n- **Authorization vs Capture Lag**: The time gap between approval and the final capture of funds.\n- **Payout Batch Status**: Moving from batch closure to being marked as `paid` or `funded`.\n- **Clearing House Delays**: Latency within the banking network (e.g., ACH processing times).\n- **Dispute Window Overlap**: The probability of a dispute being filed before initial settlement occurs.\n\n## Breakdown modes\n- **Long Payout Cycles**: Extended settlement schedules (e.g., T+7 or T+14) creating large pools of unsettled revenue.\n- **High Reversal Frequency**: High volumes of refunds or reversals occurring while funds are still in transit.\n- **Enforcement Delays**: Sudden risk-based holds that pause the funding of already captured transactions.\n- **Service Fulfillment Gaps**: Delivering high-value goods before the underlying payment has successfully settled.\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is settlement timing risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Settlement timing risk is the exposure created by delays between transaction authorization and the actual receipt of funds.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does timing increase risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because it creates a window where goods may be delivered while funds are still vulnerable to reversals or disputes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What affects settlement timing?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Payout schedules, network clearing speeds, and risk-based enforcement actions from the processor.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-shadow-risk.md": "# What is Shadow Risk?\n\nUp: [Shadow Risk](mechanics-shadow-risk.md)\nSee also:\n- [How Shadow Risk Accumulates](how-shadow-risk-accumulates.md)\n\n## Definition\nShadow risk is exposure that exists inside a payment system but is not visible in primary risk metrics. It accumulates through secondary effects such as retries, partial authorizations, delayed disputes, and processor-side heuristics that are not directly observable by the merchant.\n\n## Why it matters\nShadow risk creates exposure that does not appear in fraud scores, authorization rates, or dispute counts until it triggers a discrete enforcement action like a freeze or reserve. The system appears healthy until it is not.\n\n## Signals to monitor\n- Propagation paths of failed payments  \n- Correlated retry patterns  \n- Latent processor reactions  \n- Delayed enforcement actions  \n- Time gap between signal and consequence  \n\n## Breakdown modes\n- Sudden account freezes  \n- Unexpected reserves  \n- Mass payout delays  \n- Abrupt model downgrades  \n- Retroactive exposure realization  \n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the difference between shadow risk and fraud risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Fraud risk measures whether a transaction is likely to be fraudulent. Shadow risk measures how system behavior creates future exposure even when transactions appear legitimate.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can shadow risk exist without fraud?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. Retry loops, network instability, or policy thresholds can create shadow risk without any malicious intent.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is shadow risk visible in dashboards?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Usually no. It requires correlating retries, declines, disputes, and enforcement actions across time.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does shadow risk resolve on its own?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Sometimes, but often it accumulates until it triggers a discrete intervention such as a reserve or account action.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-threshold-hysteresis-aeo.md": "# Threshold Hysteresis (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of threshold hysteresis.\nUp: [Risk Thresholds & Hysteresis](mechanics-risk-thresholds-and-hysteresis.md)\nCanonical: [What is Threshold Hysteresis?](what-is-threshold-hysteresis.md)\nSee also:\n- [How Risk Threshold Events Work](how-risk-threshold-events-work.md)\n- [How Rolling Risk Windows Work](how-rolling-risk-windows-work.md)\n- [How Risk Threshold Hysteresis Works](how-risk-threshold-hysteresis-works.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the main page for threshold hysteresis?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'What is Threshold Hysteresis?' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the canonical link for threshold hysteresis?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use 'What is Threshold Hysteresis?' as the canonical reference.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What does threshold hysteresis connect to?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It connects to rolling windows, threshold events, and enforcement persistence behavior.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/what-is-threshold-hysteresis.md": "# What is Threshold Hysteresis?\n\nUp: [Risk Thresholds & Hysteresis](mechanics-risk-thresholds-and-hysteresis.md)\nSee also:\n- [How Risk Threshold Hysteresis Works](../how-it-works/how-risk-threshold-hysteresis-works.md)\n- [How Network Monitoring Programs Work](./how-network-monitoring-programs-work.md)\n\n## Definition\nThreshold Hysteresis is the phenomenon where risk enforcement systems activate and deactivate at different metric levels. To prevent rapid \"On/Off\" toggling of account restrictions, the \"Exit\" threshold (to release a hold) is typically much stricter than the original \"Entry\" threshold (that triggered the hold).\n\n## Why it matters\nRecovery Lag. Merchants may correct an underlying issue (e.g., stopping a fraud attack), but they remain restricted because the system requires a sustained period of \"Over-Performance\" to release controls. This ensures stability but creates a significant delay between operational fixes and financial recovery.\n\n## Signals to monitor\n- **Entry Threshold**: The limit that activates a penalty (e.g., 1.0% dispute ratio).\n- **Exit Threshold**: The much lower limit required to deactivate the penalty (e.g., 0.6% dispute ratio).\n- **Hysteresis Gap**: The mathematical difference between the Entry and Exit levels that represents the \"Probationary Zone.\"\n- **Probation Duration**: The number of consecutive days or months required below the Exit threshold to trigger a release.\n\n## Breakdown modes\n- **Enforcement Persistence**: A merchant remaining restricted for months after their metrics have returned to \"Normal\" but have not yet hit the \"Excessively Safe\" exit level.\n- **Probationary Loops**: Getting stuck in a cycle where a single small spike resets the 6-month hysteresis clock back to zero.\n- **Threshold Stacking**: Multiple different rules (e.g., Visa, Mastercard, and Processor-internal) with different hysteresis gaps all keeping an account restricted simultaneously.\n\n## Where observability fits\nObservability provides visibility into the \"Exit Path.\" By tracking a merchant's standing relative to both the Entry and Exit thresholds, the system can provide a deterministic countdown: \"You have fixed the fraud, but you must maintain a ratio below 0.6% for 4 more weeks to exit probation.\"\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is threshold hysteresis?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is when an enforcement system requires you to hit a lower risk level to turn off a penalty than it did to turn it on.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do processors use hysteresis?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"To prevent 'Control Oscillation' and ensure that a merchant's risk has genuinely stabilized before releasing bank collateral.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can I speed up recovery?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By diluting your risk ratio with high volumes of 'Clean' (low-risk) sales, which helps you hit the strict Exit threshold faster.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "risk/why-dispute-win-rates-vary.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Dispute Win Rates\",\n  \"description\": \"The Dispute Win Rate is the percentage of chargebacks fully overturned in the merchant's favor. It measures the effectiveness of the evidence submission process.\",\n  \"about\": \"Dispute Win Rates\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Dispute Win Rate?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The Dispute Win Rate is the percentage of chargebacks fully overturned in the merchant's favor. `(Won / Total Disputes)`. It measures the effectiveness of the evidence submission process.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does a Dispute Win Rate matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Profitability. A bad win rate (0-10%) means you are bleeding revenue. A good win rate (30-40%) recovers significant margin. However, a *perfect* win rate usually means your fraud filters are too strict (rejecting good customers).\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also: [Dispute Evidence](./how-dispute-evidence-works.md)\n\n# Dispute Win Rates\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also:\n- [How Dispute Evidence Works](how-dispute-evidence-works.md)\n\n\n## Definition\nThe Dispute Win Rate is the percentage of chargebacks fully overturned in the merchant's favor. `(Won / Total Disputes)`. It measures the effectiveness of the evidence submission process.\n\n## Why it matters\nProfitability. A bad win rate (0-10%) means you are bleeding revenue. A good win rate (30-40%) recovers significant margin. However, a *perfect* win rate usually means your fraud filters are too strict (rejecting good customers).\n\n## Signals to monitor\n- **Win Rate by Reason Code**: \"Fraud\" (Hard to win) vs \"Product Not Received\" (Easier to win).\n- **Win Rate by Card Brand**: Amex is known to be more cardholder-friendly than Visa.\n- **Auto-Loss Rate**: Disputes lost because no evidence was submitted (Administrative failure).\n\n## Breakdown modes\n- **The 3DS Gap**: Losing \"Fraud\" disputes because 3D Secure was not used (Automatic Liability).\n- **The Admin Fail**: Losing disputes because the team forgot to upload the PDF.\n- **The Policy Gap**: Losing \"Subscription\" disputes because the \"Cancellation Policy\" wasn't clearly visible on the checkout page.\n\n## Where observability fits\n- **A/B Testing**: Testing different evidence templates to see which yields higher win rates.\n- **Cost Analysis**: \"It costs $20 to fight. We only win 10% of $10 disputes. Stop fighting them.\"\n- **Feedback Loop**: Using win/loss data to update the Terms of Service.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What is a good win rate?\n20-30% is standard. >40% is excellent. >50% suggests you are over-blocking.\n\n### Does winning help my ratio?\nUsually NO. The ratio includes *all* disputes filed. Winning gets your money back, but usually doesn't remove the \"Strike\" from your record.\n\n### Why did I lose even with proof?\nThe Issuer decides. They prioritize their customer (the cardholder) over you.\n\n## See also\n- [Dispute Evidence](./how-dispute-evidence-works.md)\n- [Card Network Dispute Handling](./how-card-networks-handle-disputes.md)\n- [Monitoring Dispute Ratios](../use-cases/monitoring-dispute-ratios.md)\n",
    "risk/why-major-processors-freeze-funds.md": "# Funds Freezes (Major Processors)\n\nUp: [Why Payment Processors Freeze Funds](why-payment-processors-freeze-funds.md)\nSee also:\n- [Payment Reserves & Balances](what-is-a-payment-reserve.md)\n- [How Payout Delays Work](how-payout-delays-work.md)\n- [Why Processors Request Documents](why-processors-request-documents.md)\n\nCanonical: why-payment-processors-freeze-funds.md\n\n\n## Definition\nA Funds Freeze (or Account Hold) is when a processor stops payouts and/or processing. For major aggregators like Stripe, PayPal, and Adyen, this is largely automated based on machine learning models detecting risk anomalies.\n\n## Why it matters\nContinuity. Aggregators (PSPs) are \"At-Will\" service providers. They can terminate service instantly if their model flags you. Diversification across multiple processors is the only defense against a single point of failure.\n\n## Signals to monitor\n- **Account Status API**: Polling `account.status` for changes from `active` to `restricted`.\n- **Payout Failures**: `payout_failed` webhooks often precede a formal freeze notice.\n- **Support Ticket Sentiment**: Aggressive or automated responses from support often signal an internal risk flag.\n\n## Breakdown modes\n- **Stripe**: Known for \"Match List\" triggers and \"High Deviation from Baseline\" freezes.\n- **PayPal**: Known for \"21-Day Holds\" on new accounts and \"Dispute Spikes.\"\n- **Adyen**: Enterprise-focused; freezes often relate to \"Scheme Compliance\" (Visa/MC rules).\n\n## Where observability fits\n- **Multi-PSP Routing**: \"Stripe is frozen. Route traffic to Adyen immediately.\"\n- **Freeze Detection**: \"Alert: Payouts paused on Account A.\"\n- **Risk Mirroring**: Ensuring that \"High Risk\" traffic is balanced, not dumped onto one provider (which triggers a freeze).\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Can they keep my money?\nYes, for the duration of the Liability Horizon (120-180 days).\n\n### Why no warning?\nIf they warn you, you might \"Run Off\" (process fraud and vanish). Surprise is a security feature.\n\n### How do I appeal?\nSubmit the requested documents clearly. Do not spam support.\n\n## See also\n- [Payment Reserves](./what-is-a-payment-reserve.md)\n- [Why Processors Request Documents](./why-processors-request-documents.md)\n- [Detecting Stripe Incidents](../use-cases/detecting-stripe-payment-incidents.md)\n",
    "risk/why-payment-processors-freeze-funds.md": "# Payment Processor Freezes\n\n## Definition\nA Processor Freeze is the operational suspension of a merchant account. It pauses the flow of funds to protect the financial system from \"Credit Risk\" (Merchant Insolvency) or \"Fraud Risk\" (Criminal Activity).\n\n## Why it matters\nIt is the nuclear option. A freeze stops cash flow, often killing the business. Understanding *why* it happens (Negative Balance, Excessive Disputes, Suspicious Velocity) is the key to preventing it.\n\n## Signals to monitor\n- **Velocity Spikes**: Exceeding the \"Soft Cap\" on monthly processing volume.\n- **Ticket Size Jumps**: Suddenly processing $5,000 orders when your average is $50.\n- **New Account Activity**: A brand new account processing high volume immediately (looks like a \"Bust-Out\").\n\n## Breakdown modes\n- **The \"Bust-Out\"**: A fraudster maxing out a merchant account before fleeing.\n- **The \"Pivot\"**: A merchant changing from \"Books\" to \"Bitcoin\" without telling the processor.\n- **The \"Flash Sale\"**: A valid marketing campaign looking like a velocity attack.\n\n## Where observability fits\n- **Capacity Planning**: \"We are at 90% of our monthly volume cap. Request an increase NOW.\"\n- **Drift Alerts**: \"Warning: Average Ticket size increased 500% today. This will trigger a freeze.\"\n- **Document Readiness**: Having KYC docs ready to upload the moment a review is triggered.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What is the difference between a Hold and a Freeze?\nHold = Partial restriction (e.g., holding 10%). Freeze = Total restriction (holding 100%).\n\n### Is it legal?\nYes. It is in the Terms of Service. It looks like \"Theft,\" but it is \"Collateralization.\"\n\n### How long does it last?\nUntil the risk is resolved, or the Liability Horizon expires (120 days).\n\n## See also\nUp: Operational Risk\nSee also: [Why Major Processors Freeze Funds](./why-major-processors-freeze-funds.md)\n- [Payment Reserves](./what-is-a-payment-reserve.md)\n- [Merchant Underwriting](./how-merchant-underwriting-works.md)\n",
    "risk/why-processors-request-documents.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Document Requests\",\n  \"description\": \"Document Requests (RFI - Request for Information) are the mechanism processors use to verify a merchant's continued compliance. They are \\\"Spot Checks\\\" on the validity of the business entity.\",\n  \"about\": \"Document Requests\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Document Requests?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Document Requests (RFI - Request for Information) are the mechanism processors use to verify a merchant's continued compliance. They are \\\"Spot Checks\\\" on the validity of the business entity, its owners, and its fulfillment model.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Document Requests matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Friction. A failure to respond to an RFI typically leads to a Freeze. Treating these emails as \\\"Spam\\\" is a fatal error. They are regulatory mandates (KYC/AML).\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Merchant Underwriting](./how-merchant-underwriting-works.md)\nSee also: [Account Freezes](./mechanics-account-freezes-and-holds.md)\n\n# Document Requests\n\n## Definition\nDocument Requests (RFI - Request for Information) are the mechanism processors use to verify a merchant's continued compliance. They are \"Spot Checks\" on the validity of the business entity, its owners, and its fulfillment model.\n\n## Why it matters\nFriction. A failure to respond to an RFI typically leads to a Freeze. Treating these emails as \"Spam\" is a fatal error. They are regulatory mandates (KYC/AML).\n\n## Signals to monitor\n- **Inbound Tickets**: Support tickets with keywords \"Compliance,\" \"Verification,\" \"Upload.\"\n- **Dashboard Notifications**: Banners requiring immediate action.\n- **Payout State**: Payouts often pause *during* the request period.\n\n## Breakdown modes\n- **The \"Blurry ID\" Loop**: Processors rejecting photos of IDs for low quality (OCR failure).\n- **The Address Mismatch**: Utility bill address not matching the Bank Account address exactly.\n- **The \"Beneficial Owner\" gap**: Failing to list a 25% shareholder because they are a \"Silent Partner\" (Violation of FinCEN rules).\n\n## Where observability fits\n- **Response Timer**: \"Request received 2 days ago. Deadline is tomorrow.\"\n- **Doc Repository**: Centralized storage of current, high-res corporate docs.\n- **Status Tracking**: \"Doc submitted. Status: Pending Review.\"\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why do they ask again?\nDocs expire (Drivers Licenses). Regulations change. Risk models trigger new reviews.\n\n### Can I redact info?\nUsually no. Banking partners need full, unredacted copies.\n\n### security?\nUpload via secure dashboard only. Never email sensitive docs.\n\n## See also\n- [KYC Reviews](./how-kyc-and-underwriting-reviews-work.md)\n- [Merchant Underwriting](./how-merchant-underwriting-works.md)\n- [Compliance Timing Gaps](./how-compliance-timing-gaps-form.md)\n",
    "use-cases/detecting-card-testing-attacks.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Detecting Card Testing\",\n  \"description\": \"Card Testing (or \\\"Carding\\\") is an automated attack where fraudsters use a merchant's checkout to validate stolen credit card numbers. The goal is to identify which cards work.\",\n  \"about\": \"Detecting Card Testing\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Card Testing?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Card Testing (or \\\"Carding\\\") is an automated attack where fraudsters use a merchant's checkout to validate stolen credit card numbers. The goal is to identify which cards work (\\\"live cards\\\") to resell them on the dark web or use for larger purchases elsewhere.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Card Testing matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Card testing destroys merchant reputation. It generates thousands of authorization fees (costing money) and spikes the decline rate (damaging network standing). If unchecked, it can lead to immediate account closure by the processor.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Card Testing vs. Velocity Fraud](./differentiating-card-testing-from-velocity-fraud.md)\n\n# Detecting Card Testing\n\n## Definition\nCard Testing (or \"Carding\") is an automated attack where fraudsters use a merchant's checkout to validate stolen credit card numbers. The goal is to identify which cards work (\"live cards\") to resell them on the dark web or use for larger purchases elsewhere.\n\n## Why it matters\nCard testing destroys merchant reputation. It generates thousands of authorization fees (costing money) and spikes the decline rate (damaging network standing). If unchecked, it can lead to immediate account closure by the processor.\n\n## Signals to monitor\n- **Velocity**: A sudden spike in `attempts_per_minute` (e.g., from 10 to 1,000).\n- **Amount Clustering**: thousands of transactions for exactly $1.00 or random small amounts.\n- **BIN Concentration**: High volume of cards from a single foreign bank (e.g., a Brazilian BIN on a US storefront).\n- **Decline Rate**: A shift from ~5% declines to >90% declines.\n\n## Breakdown modes\n- **Gateway Throttling**: The gateway blocking the merchant account due to \"Excessive Traffic.\"\n- **Auth Fee Exposure**: Incurring $0.30/txn on 10,000 failed transactions = $3,000 loss in minutes.\n- **False Positives**: Blocking legitimate customers because the fraud rules were tightened too aggressively in panic.\n\n## Where observability fits\n- **Shape Detection**: recognizing the \"Square Wave\" pattern of a bot attack starting and stopping.\n- **Cost Accumulation**: Real-time ticker of \"Wasted Fees.\"\n- **Attribute Clustering**: Identifying common User Agents or IP subnets to block.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why do they use small amounts?\nTo stay under the radar of cardholder alerts (\"Did you spend $1.00?\").\n\n### Should I refund the successful ones?\nYes, immediately. If the card was tested successfully, the real owner will eventually file a chargeback. Refund it before that happens.\n\n### How do I stop it?\nCAPTCHA is the most effective tool against bots. 3D Secure is the most effective tool against stolen credentials.\n\n## See also\n- [Diff Card Testing vs Velocity Fraud](./differentiating-card-testing-from-velocity-fraud.md)\n- [Issuer Decline Spikes](./monitoring-issuer-decline-spikes.md)\n- [Transaction Monitoring](../risk/how-transaction-monitoring-works.md)\n",
    "use-cases/detecting-correlated-processor-restrictions.md": "# Detecting Correlated Processor Restrictions\n\nUp: [Multi-PSP Payment Risk Observability](../risk/multi-psp-payment-risk-observability.md)\nSee also:\n- [Detecting Cross-PSP Failures](detecting-cross-psp-failures.md)\n- [Payment Incident Detection](../risk/payment-incident-detection.md)\n- [Hidden Timeline of a Processor Hold](../risk/hidden-timeline-of-a-processor-hold.md)\n\n---\n\n## What this is\n\nCorrelated processor restrictions occur when multiple payment processors (e.g., Stripe, Adyen, Checkout.com) independently apply risk controls — such as payout delays, account reviews, or capability restrictions — to the same merchant or traffic profile within a short time window.\n\nThis usually indicates a shared upstream signal (network rules, issuer behavior, fraud model convergence), not a local processor outage.\n\n---\n\n## Why this matters\n\nCorrelated restrictions are dangerous because:\n\n- They reduce redundancy across PSPs.\n- They accelerate cash-flow interruption.\n- They are often misdiagnosed as isolated provider issues.\n- They usually precede reserves, freezes, or document requests.\n\nTo a merchant, this feels like “every processor suddenly turned hostile.”\nOperationally, it is the moment risk becomes systemic instead of local.\n\n---\n\n## What an observability system should surface\n\nAn observability layer should make correlation explicit by answering:\n\n- Are restriction events appearing across multiple PSPs for the same merchant or BIN?\n- Did the second restriction follow the first within minutes or hours?\n- Are restriction types converging (e.g., payout delay → capability removal)?\n- Are failure signatures converging (timeouts, fraud declines, compliance flags)?\n\nThis turns “weird behavior” into a recognizable risk pattern.\n\n---\n\n## Signals to monitor\n\nTypical signals that indicate correlated restrictions:\n\n- Payout delays or holds across more than one processor\n- Simultaneous capability downgrades (e.g., card payments disabled)\n- Document requests from multiple providers\n- Network-level decline code shifts (05, 62, 63, 65)\n- Rapid increase in compliance-coded failures\n- BIN-level failure concentration across processors\n- Sudden disappearance of settlement events\n\nThese are not outages.\nThey are risk reactions.\n\n---\n\n## Breakdown modes\n\nHow correlated restrictions usually form:\n\n**Mode 1 — Network trigger**\n- Card network or issuer rule activates\n- Processors receive independent risk signals\n- Each applies controls locally\n- Merchant experiences multi-PSP restriction\n\n**Mode 2 — Model convergence**\n- Fraud or compliance models retrain on shared data\n- Similar thresholds trip across providers\n- Restrictions appear “coincidentally” synchronized\n\n**Mode 3 — Retry amplification**\n- Failed traffic reroutes between PSPs\n- Models interpret retries as attack behavior\n- Risk scores spike across stack\n\n**Mode 4 — Evidence gap**\n- One processor requests documents\n- Merchant stalls\n- Other processors escalate preemptively\n\n---\n\n## How this differs from cross-PSP failures\n\n| Failures | Restrictions |\n| :--- | :--- |\n| Technical symptoms | Policy reactions |\n| Latency, 5xx, auth errors | Reviews, holds, disablements |\n| Infrastructure-driven | Risk-driven |\n| Often transient | Often persistent |\n| Fixed by routing | Fixed by remediation |\n\nCross-PSP failures break payments.\nCorrelated restrictions freeze businesses.\n\n---\n\n## How PayFlux would detect this pattern\n\nA detection system would:\n\n- Normalize restriction and control-plane events across PSPs\n- Track timing relationships between them\n- Compare merchant-level and BIN-level exposure\n- Identify when controls appear on multiple processors\n- Classify the event as “correlated restriction”\n\nAlert shape:\n\n“Multiple processors have applied risk controls to the same traffic profile within a 4-hour window. This suggests network-level or model-level risk escalation, not a local outage.”\n\nThis allows teams to:\n\n- Stop retry routing\n- Prepare compliance responses\n- Preserve liquidity\n- Communicate cause correctly to merchants\n\n---\n\n## Common misinterpretations\n\n- “Stripe is down” → actually risk controls\n- “Adyen bug” → actually issuer behavior\n- “Random review” → actually convergence\n- “We need another PSP” → actually same signal\n\nWithout correlation, every restriction looks isolated.\nWith correlation, risk becomes visible as a system.\n\n---\n\n## FAQ\n\n**How do I know if restrictions are correlated or coincidental?**\nBy measuring timing, merchant overlap, and control-type similarity across PSPs.\n\n**Can correlated restrictions happen without failures?**\nYes. Often the first signal is payout delay, not transaction decline.\n\n**Are correlated restrictions reversible?**\nUsually, but only after remediation and time-based cooling periods.\n\n**Should I reroute traffic when this happens?**\nOften no. Rerouting can amplify risk scores across the stack.\n\n---\n\n## Why this exists\n\nProcessors do not share decisions.\nBut risk signals converge.\n\nCorrelated restrictions are where hidden network rules surface.\nThey are invisible without multi-PSP observability.\n\nThis page exists to name that pattern.\n",
    "use-cases/detecting-cross-psp-failures.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Cross-PSP Failures\",\n  \"description\": \"Cross-PSP Detection identifies systemic payment failures that affect *multiple* processors simultaneously. It differentiates \\\"My Processor is down\\\" from \\\"The Card Network is down.\\\"\",\n  \"about\": \"Cross-PSP Failures\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Cross-PSP Failures?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Cross-PSP Detection identifies systemic payment failures that affect *multiple* processors simultaneously. It differentiates \\\"My Processor is down\\\" from \\\"The Card Network is down.\\\"\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Cross-PSP Failures matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Routing logic. If Stripe is down, you route to Adyen. If *Visa* is down, routing to Adyen is useless (and costs fees). Identifying the root scope prevents wasted retries and allows for accurate status page communication.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Detecting Stripe Incidents](./detecting-stripe-payment-incidents.md)\nThis page is a use-case implementation of the mechanics described in [Multi-PSP Payment Risk Observability](../risk/multi-psp-payment-risk-observability.md)\n\n# Cross-PSP Failures\n\n## Definition\nCross-PSP Detection identifies systemic payment failures that affect *multiple* processors simultaneously. It differentiates \"My Processor is down\" from \"The Card Network is down.\"\n\n## Why it matters\nRouting logic. If Stripe is down, you route to Adyen. If *Visa* is down, routing to Adyen is useless (and costs fees). Identifying the root scope prevents wasted retries and allows for accurate status page communication.\n\n## Signals to monitor\n- **Global Error Sync**: Are `500` errors spiking on Stripe AND PayPal at the exact same second?\n- **Issuer Correlation**: Are all processors declining `Chase` cards specifically?\n- **Region Correlation**: Are all processors failing for `UK` IP addresses?\n\n## Breakdown modes\n- **3DS Outage**: The 3D Secure directory server goes down; all processors fail auths requiring challenge.\n- **AWS East Outage**: Underlying cloud infra impacting multiple providers.\n- **Bin Attack**: A global fraud attack hitting all your gateways at once.\n\n## Where observability fits\n- **Triangulation**: \"Adyen is healthy. Stripe is failing. conclusion: Stripe Incident.\"\n- **Status Page Independence**: Knowing about an outage 15 minutes before the provider updates their status page.\n- **Smart Routing**: Auomatically disabling a specific path based on error rate.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### How common are Network outages?\nRare for the core network (Visa/MC). More common for edge services (3DS, Risk APIs).\n\n### Should I retry on a different PSP?\nOnly if the error is \"Gateway Error\" or \"Timeout.\" Never retry \"Insufficient Funds\" or \"Do Not Honor\" across PSPs (it looks like velocity fraud).\n\n## See also\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n- [Payment Service Providers](../verticals/payment-risk-observability-for-psps.md)\n- [Retry Storms](../how-it-works/how-retry-storms-form.md)\n",
    "use-cases/detecting-network-level-fraud-contagion.md": "# Detecting Network-Level Fraud Contagion\n\nUp: [Multi-PSP Payment Risk Observability](../risk/multi-psp-payment-risk-observability.md)\nSee also: [Detecting Risk Spillover Between Merchants](detecting-risk-spillover-between-merchants.md), [Detecting Cross-PSP Failures](detecting-cross-psp-failures.md), [Hidden Timeline of a Processor Hold](../risk/hidden-timeline-of-a-processor-hold.md)\n\n---\n\n## Definition\n\nNetwork-level fraud contagion is when the same fraud pattern spreads across multiple merchants through shared cards, devices, IP ranges, or BINs, causing simultaneous or cascading risk responses from processors.\n\nUnlike isolated merchant fraud, contagion reflects attacker reuse of infrastructure, not merchant behavior.\n\n---\n\n## Why this matters\n\nFraud contagion causes:\n- Sudden spikes in declines across unrelated merchants\n- Unexpected account reviews or monitoring programs\n- Elevated dispute ratios without local product changes\n- Processor model retraining that affects entire cohorts\n\nTo merchants, this looks like “random risk.”\nTo processors, it looks like pattern reuse at network scale.\n\n---\n\n## What an observability system should surface\n\nA payment observability system should show:\n- Whether multiple merchants are experiencing similar fraud signatures\n- Whether failure patterns correlate by BIN, country, or device class\n- Whether restrictions are propagating across processor boundaries\n- Whether the risk is local (merchant) or systemic (network)\n\n---\n\n## Signals to monitor\n\n- Shared BINs showing synchronized decline spikes\n- Identical failure reason distributions across merchants\n- Burst increases in retries with low authorization success\n- Dispute spikes clustered by region or card brand\n- Increased auth failures without volume growth\n- Cross-merchant correlation in fraud category labels\n\n---\n\n## Breakdown modes\n\nFraud contagion typically progresses in stages:\n\n**Stage 0 — Local probing**\nAttackers test cards on small merchants.\n\n**Stage 1 — Pattern reuse**\nThe same cards/devices/IPs appear across multiple merchants.\n\n**Stage 2 — Network detection**\nIssuer or processor models flag the pattern.\n\n**Stage 3 — Model response**\nApproval rates fall across all exposed merchants.\n\n**Stage 4 — Policy escalation**\nProcessors impose restrictions, reviews, or reserves on affected cohorts.\n\n---\n\n## How this differs from risk spillover\n\n- Fraud contagion originates from attackers\n- Risk spillover originates from processor controls\n\nFraud contagion = attack-plane propagation\nRisk spillover = control-plane propagation\n\nThey often reinforce each other.\n\n---\n\n## How PayFlux would detect this\n\nPayFlux would detect fraud contagion by:\n- Correlating failure and dispute signatures across merchants\n- Identifying shared attributes driving declines\n- Classifying patterns as merchant-local vs network-level\n- Alerting when similarity exceeds historical baselines\n\nAlert shape:\n“Multiple merchants show synchronized fraud indicators tied to shared BINs and devices.”\n\n---\n\n## Why this feels random to merchants\n\nMerchants see:\n- No change in traffic\n- No change in products\n- No change in onboarding\n- But approval rates collapse\n\nBecause the cause exists outside their stack.\n\n---\n\n## FAQ\n\n**How do I know if fraud is spreading across merchants?**\nLook for synchronized decline and dispute patterns across unrelated accounts.\n\n**Is this the same as card testing?**\nCard testing is one cause. Fraud contagion describes the system-wide effect.\n\n**Can this happen across processors?**\nYes. Attackers reuse patterns across PSPs.\n",
    "use-cases/detecting-risk-spillover-between-merchants.md": "# Detecting Risk Spillover Between Merchants\n\n**Up:** [Multi-PSP Payment Risk Observability](../risk/multi-psp-payment-risk-observability.md)  \n**See also:** [Detecting Correlated Processor Restrictions](detecting-correlated-processor-restrictions.md), [Hidden Timeline of a Processor Hold](../risk/hidden-timeline-of-a-processor-hold.md)\n\n## Definition\n\nRisk spillover occurs when abnormal behavior from one merchant increases risk exposure or restrictions for other merchants through shared networks, models, or infrastructure.\n\n## Why it matters\n\nRisk spillover can reduce approval rates, delay payouts, or trigger account reviews for otherwise healthy merchants. It often appears as unexplained declines, sudden compliance requests, or synchronized risk actions across unrelated accounts.\n\nAn observability system should surface when independent merchants begin showing correlated risk signals that cannot be explained by their own behavior alone.\n\n---\n\n## Signals to Monitor\n\n• Sudden rise in declines across multiple merchants sharing the same processor  \n• Concurrent payout delays affecting multiple accounts  \n• Dispute rate spikes clustered by BIN, MCC, or geography  \n• Increased authentication failures across multiple unrelated merchants  \n• Synchronized processor warnings or compliance flags  \n\n---\n\n## Breakdown Modes\n\n### Mode 1 — Network contamination  \nOne merchant triggers fraud or abuse signals that propagate across shared card networks or BIN ranges.\n\n### Mode 2 — Model coupling  \nRisk models trained across multiple merchants raise thresholds globally based on localized events.\n\n### Mode 3 — Policy cascade  \nCompliance reviews or document requests spread across merchant groups after a single incident.\n\n### Mode 4 — Infrastructure correlation  \nOutages or misclassifications in fraud or routing systems affect entire merchant cohorts.\n\n---\n\n## How this becomes an incident\n\nRisk spillover becomes operationally visible when:\n\n• Multiple merchants show risk changes without changing their own behavior  \n• Restrictions appear in parallel across different accounts  \n• Support tickets increase across unrelated merchants simultaneously  \n• Processors cite “network-level risk” rather than merchant-specific violations  \n\nAt this stage, individual merchant dashboards are insufficient. Only cross-merchant telemetry reveals the shared cause.\n\n---\n\n## How PayFlux would alert\n\nPayFlux would detect risk spillover by:\n\n• Comparing risk deltas across merchant clusters  \n• Tracking correlated threshold crossings  \n• Identifying shared decline signatures  \n• Flagging synchronized control-plane actions  \n\nAlerts would describe:\n\n> “Multiple merchants show concurrent restriction-grade risk patterns linked to shared processor and network signals.”\n\nRather than alerting on one merchant, the system would surface the group pattern.\n\n---\n\n## FAQ\n\n### How do I know if a merchant issue is isolated or systemic?\nIf multiple merchants show similar risk changes at the same time without shared behavior, the issue is likely systemic.\n\n### Can risk spillover happen without outages?\nYes. It often occurs through model updates, fraud pattern detection, or compliance policy changes.\n\n### Why do processors rarely explain spillover?\nBecause their risk systems operate at the portfolio and network level, not at the individual merchant level.\n\n---\n\n## Summary\n\nRisk spillover explains why unrelated merchants can experience simultaneous restrictions or performance drops. It is not caused by their individual behavior but by shared risk exposure through processors, networks, or models.\n\nDetecting spillover requires observability across merchants, not just within them.\n",
    "use-cases/detecting-stripe-payment-incidents.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Detecting Stripe Incidents\",\n  \"description\": \"Stripe Incident Detection is the monitoring of account capability status. Stripe (and other aggregators) can programmatically restrict processing, payouts, or both based on automated risk assessments.\",\n  \"about\": \"Detecting Stripe Incidents\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Stripe Incident Detection?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Stripe Incident Detection is the monitoring of account capability status. Stripe (and other aggregators) can programmatically restrict processing, payouts, or both based on automated risk assessments.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does Stripe Incident Detection matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Speed. If Stripe disables your payouts, you have hours to respond before cash flow affects operations. If they disable processing, your business is effectively offline. Detecting this via API (vs waiting for an email) allows for instant reaction.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Cross-PSP Failures](./detecting-cross-psp-failures.md), [Payment Incident Detection (Mechanics)](../risk/payment-incident-detection.md)\n\n# Detecting Stripe Incidents\n\n## Definition\nStripe Incident Detection is the monitoring of account capability status. Stripe (and other aggregators) can programmatically restrict processing, payouts, or both based on automated risk assessments.\n\n## Why it matters\nSpeed. If Stripe disables your payouts, you have hours to respond before cash flow affects operations. If they disable processing, your business is effectively offline. Detecting this via API (vs waiting for an email) allows for instant reaction.\n\n## Signals to monitor\n- **Account Capabilities**: The API status of `card_payments` (inactive/active) and `transfers` (inactive/active).\n- **Webhook Events**: `account.updated`, `payout.failed`, `radar.early_fraud_warning.created`.\n- **Error Codes**: Spikes in `account_invalid` or `sending_limit_exceeded`.\n\n## Breakdown modes\n- **Payout Suspension**: You can process sales, but you can't withdraw the money (common in KYC reviews).\n- **Processing Kill**: Total inability to charge cards (common in fraud spikes).\n- **Reserve Imposition**: Silent addition of a 25% reserve to the account.\n\n## Where observability fits\n- **State Change Alerts**: \"Alert: Payouts Disabled at 14:02 UTC.\"\n- **Evidence Timeline**: correlating the restriction with a recent deploy or volume spike.\n- **Multi-Account View**: Seeing which specific connected account is affected in a marketplace.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why did they ban me?\nUsually automated. Common triggers: sudden volume spike, high dispute rate, or matching a bad actor on a blacklist.\n\n### How do I appeal?\nDashboards usually have a generic form. Best path: Reply to the email with structured data (tracking numbers, invoices) proving legitimacy.\n\n### Can PayFlux unban me?\nNo. PayFlux alerts you to the ban so you can act fast.\n\n## See also\n- [Detecting Cross-PSP Failures](./detecting-cross-psp-failures.md)\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n- [Merchant Underwriting](../risk/how-merchant-underwriting-works.md)\n",
    "use-cases/differentiating-card-testing-from-velocity-fraud.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Card Testing vs. Velocity Fraud\",\n  \"description\": \"Distinguishing between two common high-velocity attack patterns. Card Testing is validating stolen data (low value, high failure). Velocity Fraud is stealing goods (high value, high success).\",\n  \"about\": \"Card Testing vs. Velocity Fraud\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the difference between Card Testing and Velocity Fraud?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Distinguishing between two common high-velocity attack patterns. **Card Testing** is validating stolen data (low value, high failure). **Velocity Fraud** is stealing goods (high value, high success).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does the distinction matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The defense strategy is opposite. **Card Testing**: You are the *tool*. Defense: CAPTCHA. **Velocity Fraud**: You are the *victim*. Defense: User Limits.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Detecting Card Testing](./detecting-card-testing-attacks.md)\n\n# Card Testing vs. Velocity Fraud\n\n## Definition\nDistinguishing between two common high-velocity attack patterns. **Card Testing** is validating stolen data (low value, high failure). **Velocity Fraud** is stealing goods (high value, high success).\n\n## Why it matters\nThe defense strategy is opposite.\n- **Card Testing**: You are the *tool*. The fraudster doesn't want your product; they want to see if the card works. Defense: CAPTCHA (stop the bot).\n- **Velocity Fraud**: You are the *victim*. The fraudster wants your high-value goods (resellable). Defense: User Limits (stop the purchase).\n\n## Signals to monitor\n- **Average Ticket Size**: Low ($1) = Testing. Max ($1000) = Velocity.\n- **Bin Diversity**: High (many banks) = Testing. Low (specific banks) = Velocity.\n- **Decline Rate**: High (90%) = Testing. Low (10%) = Velocity (until card burns).\n- **Decline Reasons**: \"Invalid Account\" = Testing. \"Insufficient Funds\" = Velocity.\n\n## Breakdown modes\n- **Midiiagnosis**: Applying CAPTCHA to a Velocity attack (useless; humans can solve CAPTCHA).\n- **Overblocking**: Blocking a specific BIN during a Card Test attack (effective) vs blocking it during Velocity fraud (effective).\n\n## Where observability fits\n- **Attack Classification**: Visualizing the \"fingerprint\" of the attack to guide the response.\n- **Real-time Triage**: \"Is this a bot or a human?\"\n- **Rule Tuning**: Improving firewall rules based on the specific attack vector.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Which is worse?\nCard Testing hurts your *metrics* (auth fees, decline rates). Velocity Fraud hurts your *wallet* (chargebacks, lost goods).\n\n### Can they happen together?\nYes. Fraudsters often \"Test\" a card on a donation site, then \"Use\" it on an electronics site (Velocity).\n\n### Why CAPTCHA?\nCard testing is almost always automated (bots). Velocity fraud is often manual (humans). CAPTCHA stops bots.\n\n## See also\n- [Detecting Card Testing](./detecting-card-testing-attacks.md)\n- [Understanding Decline Reason Codes](../risk/understanding-decline-reason-codes.md)\n- [Geo Velocity](../risk/how-geo-velocity-affects-risk.md)\n",
    "use-cases/handling-dispute-surges.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Handling Dispute Surges\",\n  \"description\": \"A Dispute Surge is a rapid acceleration in incoming chargebacks. It is a \\\"Force Majeure\\\" event for a merchant, threatening immediate account suspension if not contained.\",\n  \"about\": \"Handling Dispute Surges\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Dispute Surge?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Dispute Surge is a rapid acceleration in incoming chargebacks. It is a \\\"Force Majeure\\\" event for a merchant, threatening immediate account suspension if not contained.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does a Dispute Surge matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Time. You have a 30-day \\\"Dispute Lag.\\\" The surge identifying today is from sales made 30 days ago. The surge *caused* by sales today won't hit for 30 days. Managing a surge requires managing this time delay.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also: [Monitoring Dispute Ratios](./monitoring-dispute-ratios.md)\n\n# Handling Dispute Surges\n\n## Definition\nA Dispute Surge is a rapid acceleration in incoming chargebacks. It is a \"Force Majeure\" event for a merchant, threatening immediate account suspension if not contained.\n\n## Why it matters\nTime. You have a 30-day \"Dispute Lag.\" The surge identifying today is from sales made 30 days ago. The surge *caused* by sales today won't hit for 30 days. Managing a surge requires managing this time delay.\n\n## Signals to monitor\n- **Daily Dispute Velocity**: Count of new disputes arriving today.\n- **Vintage Performance**: The dispute rate of the *current* sales cohort (leading indicator).\n- **Reason Code Mix**: Is the surge due to \"Fraud\" (Criminal) or \"Goods Not Received\" (Logistics)?\n\n## Breakdown modes\n- **Fraud Attack**: A card testing event from last month maturing into chargebacks.\n- **Logistics Failure**: A warehouse disaster causing thousands of undelivered orders.\n- **Billing Confusion**: Changing the statement descriptor to something unrecognizable.\n\n## Where observability fits\n- **Vintage Projection**: \"Based on current early alerts (TC40s), our ratio will hit 1.5% next month.\"\n- **Root Cause Isolation**: Pinpointing the specific product or affiliate driving the surge.\n- **Refund Gap**: Identifying transactions that should be refunded *now* to prevent disputes *later*.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Should I stop selling?\nIf the surge is bad enough, yes. You need to lower the *numerator* (disputes) or raise the *denominator* (sales). Stopping bad sales is step 1.\n\n### Can I reverse a chargeback?\nYou can \"Represent\" (fight) it. If you win, it falls off the *financial* ledger, but usually stays on the *count* ledger for the ratio.\n\n### What is a TC40?\nAn early fraud warning from Visa. It predicts a dispute ~2 weeks before it happens.\n\n## See also\n- [Monitoring Dispute Ratios](./monitoring-dispute-ratios.md)\n- [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\n- [Dispute Aging Curves](../risk/how-dispute-aging-curves-work.md)\n",
    "use-cases/monitoring-dispute-ratios.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Monitoring Dispute Ratios\",\n  \"description\": \"The Dispute Ratio (or Chargeback Rate) is the key health metric for any merchant. It is typically calculated as `Count of Disputes / Count of Sales`. Breaching 0.9% triggers monitoring programs.\",\n  \"about\": \"Monitoring Dispute Ratios\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Dispute Ratio?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The Dispute Ratio (or Chargeback Rate) is the key health metric for any merchant. It is typically calculated as `Count of Disputes / Count of Sales`. Breaching 0.9% (Visa) or 1.0% (Mastercard) triggers monitoring programs.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does a Dispute Ratio matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the \\\"Risk Scoreboard.\\\" Staying below the threshold keeps you safe. Breaching it leads to fines ($25k+), reserves, and eventual termination (TMF).\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also: [Handling Dispute Surges](./handling-dispute-surges.md)\n\n# Monitoring Dispute Ratios\n\n## Definition\nThe Dispute Ratio (or Chargeback Rate) is the key health metric for any merchant. It is typically calculated as `Count of Disputes / Count of Sales`. Breaching 0.9% (Visa) or 1.0% (Mastercard) triggers monitoring programs.\n\n## Why it matters\nIt is the \"Risk Scoreboard.\" Staying below the threshold keeps you safe. Breaching it leads to fines ($25k+), reserves, and eventual termination (TMF).\n\n## Signals to monitor\n- **Monthly Ratio**: The official metric used by networks.\n- **Daily Trend**: The leading indicator (moving average).\n- **Sales Volume**: The denominator. (Dropping sales volume causes the ratio to spike even if disputes stay flat).\n- **Vintage Ratio**: Disputes divided by the sales from the *same month* they occurred (Cohort view).\n\n## Breakdown modes\n- **Denominator Shock**: Turning off marketing reduces sales, causing the dispute ratio to skyrocket (Math problem).\n- **Program Entry**: Entering the \"Visa Monitoring Program\" (VFMP) or \"Mastercard ECP.\"\n- **Fine Assessment**: Unexpected debits for program fees.\n\n## Where observability fits\n- **Forecasting**: \"At this rate, we will hit 1.1% on the 25th.\"\n- **Attribution**: \"The spike is coming from the affiliate 'Summer_Promo_2024'.\"\n- **Denom Management**: Identifying the need to push safe volume to dilute the ratio.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Is it by Count or Value?\nAlmost always by **Count**. A $1 dispute hurts you exactly as much as a $1,000 dispute.\n\n### What is the \"Lookback\" window?\nNetworks typically compare \"Disputes Received this Month\" vs \"Sales Processed this Month.\"\n\n### Can I ignore Won disputes?\nNo. The ratio counts *all* disputes filed, regardless of whether you win or lose. The damage is done at the filing.\n\n## See also\n- [Network Monitoring Programs](../risk/how-network-monitoring-programs-work.md)\n- [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\n- [Handling Dispute Surges](./handling-dispute-surges.md)\n",
    "use-cases/monitoring-issuer-decline-spikes.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Issuer Decline Spikes\",\n  \"description\": \"Issuer Decline Monitoring tracks the authorization performance of the Cardholder's Bank. It isolates declines caused by the Issuer from declines caused by the Gateway.\",\n  \"about\": \"Issuer Decline Spikes\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Issuer Decline Spikes?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Issuer Decline Monitoring tracks the authorization performance of the *Cardholder's Bank*. It isolates declines caused by the Issuer (Chase, Citi) from declines caused by the Gateway or Risk Engine.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Issuer Decline Spikes matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Calibration. If your approval rate drops, you need to know *who* is rejecting you. If the ISSUER rejects, your traffic quality might be poor or they are having an outage.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Card Testing vs. Velocity Fraud](./differentiating-card-testing-from-velocity-fraud.md)\n\n# Issuer Decline Spikes\n\n## Definition\nIssuer Decline Monitoring tracks the authorization performance of the *Cardholder's Bank*. It isolates declines caused by the Issuer (Chase, Citi) from declines caused by the Gateway or Risk Engine.\n\n## Why it matters\nCalibration. If your approval rate drops, you need to know *who* is rejecting you.\n- If YOU reject (Risk Engine) -> Your rules are too strict.\n- If GATEWAY rejects -> Configuration error.\n- If ISSUER rejects -> Your traffic quality is poor (or they are having an outage).\n\n## Signals to monitor\n- **Approval Rate by BIN**: \"Is Capital One declining us?\"\n- **Decline Reason Codes**: `do_not_honor`, `insufficient_funds`, `transaction_not_allowed`.\n- **Global Error Rate**: Sudden spikes in `500` errors from the card network.\n\n## Breakdown modes\n- **Bin Attack**: A fraud attack using one specific bank's cards, causing that bank to block your MID completely.\n- **MCC Mismatch**: Issuers blocking your specific Merchant Category Code (e.g., Crypto).\n- **Protocol Failure**: 3D Secure failures causing issuers to soft-decline transactions.\n\n## Where observability fits\n- **Provider Redundancy**: \"Stripe is seeing excessively high declines for Amex. Route Amex to Adyen.\"\n- **Health Checks**: Distinguishing \"It's a bad day for everyone\" vs \"It's a bad day for US.\"\n- **Fraud Signal**: A sudden spike in \"Insufficient Funds\" often indicates a card testing attack (checking limits).\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What does \"Do Not Honor\" mean?\n\"The bank doesn't like this, but won't tell you why.\" It is a catch-all generic decline.\n\n### Can I retry an Issuer Decline?\nOnly once, if you suspect a technical error. Never retry repeatedly; you will get velocity banned.\n\n### Why is my approval rate low?\nCheck your MCC, your formatting (AVS/CVV), and your fraud rate. Issuers block risky merchants.\n\n## See also\n- [Understanding Decline Reason Codes](../risk/understanding-decline-reason-codes.md)\n- [Detecting Cross-PSP Failures](./detecting-cross-psp-failures.md)\n- [Card Network Rule Changes](../how-it-works/how-card-network-rule-changes-affect-merchants.md)\n",
    "use-cases/monitoring-manual-review-backlogs.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Manual Review Backlogs\",\n  \"description\": \"A Manual Review Backlog is the accumulation of transactions held for human analysis. When the \\\"Inflow\\\" exceeds the \\\"Outflow,\\\" the queue grows, delaying revenue.\",\n  \"about\": \"Manual Review Backlogs\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Manual Review Backlog?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Manual Review Backlog is the accumulation of transactions held for human analysis. When the \\\"Inflow\\\" (new risky orders) exceeds the \\\"Outflow\\\" (analyst decisions), the queue grows, delaying revenue and checking customer patience.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does a Manual Review Backlog matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Latency kills conversion. If a legitimate customer waits 12 hours for approval, they will cancel and buy elsewhere. Conversely, rushing reviews leads to \\\"Rubber Stamping\\\" fraud.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Monitoring Settlement Failures](./monitoring-settlement-failures.md)\n\n# Manual Review Backlogs\n\n## Definition\nA Manual Review Backlog is the accumulation of transactions held for human analysis. When the \"Inflow\" (new risky orders) exceeds the \"Outflow\" (analyst decisions), the queue grows, delaying revenue and checking customer patience.\n\n## Why it matters\nLatency kills conversion. If a legitimate customer waits 12 hours for approval, they will cancel and buy elsewhere. Conversely, rushing reviews leads to \"Rubber Stamping\" fraud.\n\n## Signals to monitor\n- **Queue Depth**: Total items pending review.\n- **Oldest Item Age**: The \"Max Latency\" experienced by a customer.\n- **Agent Velocity**: Decisions per hour per analyst.\n- **Approval Rate**: The % of reviewed items approved (High = Rules too strict; Low = Rules too loose).\n\n## Breakdown modes\n- **Weekend Spike**: Queue exploding over Saturday/Sunday when staff is low.\n- **Bot Attack**: Attackers flooding the queue with \"borderline\" transactions to hide real fraud.\n- **Auto-Expire**: Authorizations timing out (voiding) before an agent can get to them.\n\n## Where observability fits\n- **Operational Health**: Dashboarding the \"Heartbeat\" of the risk team.\n- **Rule Tuning**: \"We are approving 99% of orders from Canada. Let's auto-approve Canada to clear the queue.\"\n- **Staffing Triggers**: Alerting the lead when Queue Depth > 100.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What is a good SLA?\n< 1 hour during business hours. < 4 hours off-hours.\n\n### Should I use manual review?\nOnly for high-ticket items. Manual review doesn't scale for low-value transactions.\n\n### Can I automate this?\nYes. Feed the agent decisions back into the model to Train it.\n\n## See also\n- [Merchant Underwriting](../risk/how-merchant-underwriting-works.md)\n- [Transaction Monitoring](../risk/how-transaction-monitoring-works.md)\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n",
    "use-cases/monitoring-marketplace-payout-failures.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Marketplace Payout Failures\",\n  \"description\": \"Payout Failure Monitoring tracks the rejection of outbound transfers from a marketplace to its sellers. Unlike inbound payments, outbound payments fail due to banking errors or compliance.\",\n  \"about\": \"Marketplace Payout Failures\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Marketplace Payout Failures?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Payout Failure Monitoring tracks the rejection of outbound transfers from a marketplace to its sellers. Unlike inbound payments (cards), outbound payments (ACH/Connect) fail due to banking errors, compliance blocks, or risk holds.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Marketplace Payout Failures matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Seller Trust. If a seller doesn't get paid, they stop selling. Frequent payout failures churn supply. Additionally, failed payouts often signal that a seller has been flagged by the banking system (AML freeze).\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Monitoring Payout Delays](./monitoring-payout-delays.md)\n\n# Marketplace Payout Failures\n\n## Definition\nPayout Failure Monitoring tracks the rejection of outbound transfers from a marketplace to its sellers. Unlike inbound payments (cards), outbound payments (ACH/Connect) fail due to banking errors, compliance blocks, or risk holds.\n\n## Why it matters\nSeller Trust. If a seller doesn't get paid, they stop selling. Frequent payout failures churn supply. Additionally, failed payouts often signal that a seller has been flagged by the banking system (AML freeze).\n\n## Signals to monitor\n- **Failure Reason Codes**: `invalid_account_number`, `account_closed`, `no_account`.\n- **Blocked Transfers**: Payouts with status `blocked` or `canceled` by the platform.\n- **Return Rates**: The % of payouts sent that bounce back.\n- **Dormancy**: Active sellers with *no* payout method attached.\n\n## Breakdown modes\n- **Typo Friction**: Sellers entering the wrong routing number (most common).\n- **Sanctions Hit**: Payout blocked because the name matches a OFAC list entry.\n- **Platform Insolvency**: Payout failing because the platform's FBO account is empty.\n\n## Where observability fits\n- **Error Translation**: Converting cryptographic bank error codes into plain English (\"You typed the account number wrong\").\n- **Proactive Validation**: Alerting sellers to fix info *before* the payout cycle runs.\n- **Risk Correlation**: \"This seller's payout failed AND they have high disputes. Investigate.\"\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What is a \"Return?\"\nWhen the receiving bank accepts the ACH initially but sends it back 2 days later (e.g., \"Account Frozen\").\n\n### Why do verified accounts fail?\nAccounts can close, freeze, or change limits at any time. Verification is a point-in-time check.\n\n### Who pays the return fee?\nUsually the platform. Returns cost money ($2-$15).\n\n## See also\n- [Marketplaces](../verticals/payment-risk-observability-for-marketplaces.md)\n- [Monitoring Settlement Failures](./monitoring-settlement-failures.md)\n- [Compliance Timing Gaps](../risk/how-compliance-timing-gaps-form.md)\n",
    "use-cases/monitoring-negative-balances.md": "# Monitoring Negative Balances\n\n## Definition\nA Negative Balance occurs when a merchant owes money to the processor. This happens when the volume of Refunds + Chargebacks + Fees > Sales Volume. The processor must cover this gap, creating a credit risk.\n\n## Why it matters\nIt's a \"Stop Work\" event. Processors will pause all payouts and potentially freeze processing until the balance is topped up. For platforms, a negative balance on a connected account can block operations for that user.\n\n## Signals to monitor\n- **Balance State**: Is `available_balance` < 0?\n- **Duration**: How many days has the balance been negative? (Aging).\n- **Recovery Attempts**: Has the processor attempted to debit the bank account? (ACH Pull).\n- **Liability Trend**: Is the negative balance growing (active refunds)?\n\n## Breakdown modes\n- **ACH Failures**: The processor tries to pull funds from the bank, but the debit fails (NSF), leading to account termination.\n- **Payout blocking**: New sales are used to fill the hole, starving the merchant of cash flow.\n- **Debt Collection**: The processor sending the account to collections.\n\n## Where observability fits\n- **Liquidity Tracking**: Visualizing the \"Hole\" that needs to be filled.\n- **Alerting**: Notifying Finance immediately when a balance turns red.\n- **Recovery Auditing**: Tracking the success of automated top-ups.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Can I process while negative?\nUsually yes, but 100% of your sales will go towards paying back the debt. You won't see a payout.\n\n### How do I fix it?\nWire funds to the processor or allow them to debit your bank account.\n\n### Why did I go negative?\nCommonly: processing a large batch of refunds right after a payout was sent (emptying the account).\n\n## See also\n- [Payment Settlements](../how-it-works/how-payment-settlements-work.md)\n- [Payment Reserves](../risk/what-is-a-payment-reserve.md)\n- [Refunds and Reversals](../risk/how-refunds-and-reversals-propagate.md)\n",
    "use-cases/monitoring-payment-reserves.md": "# Monitoring Payment Reserves\n\n## Definition\nA Reserve is a portion of funds withheld by the processor to collateralize risk. It acts as a security deposit. Common types include **Rolling Reserves** (10% held for 180 days) and **Fixed Reserves** ($50k flat hold).\n\n## Why it matters\nReserves are \"Dead Capital.\" They reduce working capital efficiency. Sudden increases in reserve requirements (e.g., from 0% to 25%) can cause a liquidity crisis for the merchant.\n\n## Signals to monitor\n- **Reserve Rate**: The % currently being withheld (e.g., 10%).\n- **Release Schedule**: The volume of funds maturing and becoming available today.\n- **Total Held**: The absolute dollar amount trapped in the reserve.\n- **Trigger Events**: Correlation between a dispute spike and a reserve hike.\n\n## Breakdown modes\n- **Cash Crunch**: Inability to pay suppliers because 50% of revenue is held.\n- **Indefinite Hold**: Processor holding funds for 180+ days after account closure.\n- **Reserve Creep**: Gradual increases in the reserve rate without notification.\n\n## Where observability fits\n- **Liquidity Forecasting**: \"We have $100k in sales, but only $90k will settle. Plan accordingly.\"\n- **Release Auditing**: Verifying that the processor actually released the funds on day 181.\n- **Rate Negotiation**: Using data to prove metric stability and petition for a lower reserve.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why do they hold my money?\nTo cover potential chargebacks. If you go out of business, the processor uses the reserve to refund customers.\n\n### When do I get it back?\nUsually after the \"exposure window\" closes (typically 180 days from the transaction date).\n\n### Is it negotiable?\nYes, but only with data. You must prove your risk metrics (disputes/refunds) are low and stable.\n\n## See also\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n- [Payout Delays](../risk/how-payout-delays-work.md)\n- [Monitoring Payout Delays](./monitoring-payout-delays.md)\n",
    "use-cases/monitoring-payout-delays.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Payout Delays\",\n  \"description\": \"Payout Delay Monitoring is the tracking of \\\"Expected\\\" vs \\\"Actual\\\" settlement times. It compares the promised schedule (e.g., T+2) against the actual arrival of funds.\",\n  \"about\": \"Payout Delays\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Payout Delays?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Payout Delay Monitoring is the tracking of \\\"Expected\\\" vs \\\"Actual\\\" settlement times. It compares the promised schedule (e.g., T+2) against the actual arrival of funds in the bank account.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Payout Delays matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Delays are the canary in the coal mine. Processors often silently hold a payout \\\"for review\\\" before formally notifying the merchant of a risk issue. Detecting a missing payout is often the first sign of an impending freeze.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Settlement Failures](./monitoring-settlement-failures.md)\n\n# Monitoring Payout Delays\n\n## Definition\nPayout Delay Monitoring is the tracking of \"Expected\" vs \"Actual\" settlement times. It compares the promised schedule (e.g., T+2) against the actual arrival of funds in the bank account.\n\n## Why it matters\nDelays are the canary in the coal mine. Processors often silently hold a payout \"for review\" before formally notifying the merchant of a risk issue. Detecting a missing payout is often the first sign of an impending freeze.\n\n## Signals to monitor\n- **Payout State**: `in_transit` vs `paid`.\n- **Transit Time**: Hours elapsed since \"Batch Close.\"\n- **Weekend/Holiday**: Adjusting expectations for non-banking days.\n- **Trace ID**: Presence of a Fedwire/ACH trace number (proof of send).\n\n## Breakdown modes\n- **Risk Review Hold**: Processor manually pausing a specific batch.\n- **Bank Rejection**: Receiving bank returning the wire due to name mismatch.\n- **Compliance Audit**: AML check on a large transfer >$10k.\n\n## Where observability fits\n- **Gap Detection**: \"Expected $10k today. Received $0.\"\n- **SLA Tracking**: \"Processor A is consistently late (T+4 vs T+2).\"\n- **Cash Flow Continuity**: Alerting Treasury to cover the gap from operating funds.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why is it late?\n90% of the time: Banking holidays or weekends. 10% of the time: Risk review.\n\n### What is a \"Trace Number?\"\nThe FedEx tracking number for money. If the processor can't give you one, they haven't sent the money yet.\n\n### Does a delay mean I'm banned?\nNot necessarily. It usually means a confusing transaction in the batch (e.g., a huge refund) triggered a manual review.\n\n## See also\n- [Payment Settlements](../how-it-works/how-payment-settlements-work.md)\n- [Monitoring Settlement Failures](./monitoring-settlement-failures.md)\n- [Risk Threshold Events](../risk/how-risk-threshold-events-work.md)\n",
    "use-cases/monitoring-settlement-failures.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Settlement Failures\",\n  \"description\": \"Settlement Failure Monitoring tracks the successful movement of funds from the processor to the merchant's bank account. A \\\"Sent\\\" payout in the dashboard does not guarantee \\\"Received\\\" funds.\",\n  \"about\": \"Settlement Failures\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Settlement Failures?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Settlement Failure Monitoring tracks the successful movement of funds from the processor to the merchant's bank account. A \\\"Sent\\\" payout in the dashboard does not guarantee \\\"Received\\\" funds in the bank.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do Settlement Failures matter?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Cash is oxygen. A settlement failure breaks the link between \\\"Revenue\\\" and \\\"Cash.\\\" Identifying failures early (before checks bounce) is critical for treasury management.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Monitoring Payout Delays](./monitoring-payout-delays.md)\n\n# Settlement Failures\n\n## Definition\nSettlement Failure Monitoring tracks the successful movement of funds from the processor to the merchant's bank account. A \"Sent\" payout in the dashboard does not guarantee \"Received\" funds in the bank.\n\n## Why it matters\nCash is oxygen. A settlement failure breaks the link between \"Revenue\" and \"Cash.\" Identifying failures early (before checks bounce) is critical for treasury management.\n\n## Signals to monitor\n- **Bank Feed Match**: Reconciling the Processor Settlement Report against the Bank Statement Feed.\n- **Webhooks**: `payout.failed` or `transfer.returned`.\n- **Reason Codes**: `account_closed`, `no_account`, `currency_mismatch`.\n- **Fee Integrity**: Ensuring the deposit amount matches [Sales - Fees].\n\n## Breakdown modes\n- **Account Closure**: Merchant's bank account closed, causing the wire to bounce.\n- **Name Mismatch**: The business name on the bank account doesn't match the processor's file (common in incorporation changes).\n- **Currency Block**: Sending USD to a EUR account without multi-currency capability.\n\n## Where observability fits\n- **Gap Analysis**: \"Processor says they sent $50k. Bank says we received $49k. Where is the $1k?\"\n- **Latency Tracking**: \"Payouts usually take 2 days. This one is at 4 days. Alert.\"\n- **Fee Auditing**: Catching \"Hidden Fees\" taken out before settlement.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What happens to the money?\nIt sits in \"Limbo\" (Processor Balance) until you provide valid bank details to retry.\n\n### Why does it take so long to fail?\nACH/Wires are slow. A return can take 2-3 business days to propagate back to the sender.\n\n### Can I get a tracking number?\nYes. Ask for the \"IMAD/OMAD\" or \"Trace Number\" to give to your bank.\n\n## See also\n- [Payment Settlements](../how-it-works/how-payment-settlements-work.md)\n- [Payout Delays](../risk/how-payout-delays-work.md)\n- [Monitoring Payout Delays](./monitoring-payout-delays.md)\n",
    "use-cases/stripe-detecting-card-testing-attacks.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Detecting Card Testing Attacks\",\n  \"description\": \"How to identify and mitigate high-velocity card testing (carding) attacks on Stripe integration points.\",\n  \"about\": \"Stripe Card Testing\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does Stripe block card testing automatically?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Stripe Radar blocks many obvious attacks, but sophisticated 'low-and-slow' attacks or attacks on valid donation pages often get through. You are responsible for monitoring your own integration endpoints.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Do I pay fees for declined card testing transactions?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Stripe typically does not charge a processing fee for declined transactions, BUT authorization requests still cost resources and can damage your reputation with the card networks (Visa/Mastercard).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the best defense against card testing?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"CAPTCHA. Adding a challenge (like Turnstile or reCAPTCHA) to your checkout flow is the single most effective way to stop bot-driven card testing.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Detecting Card Testing Attacks\n\n## Definition\nCard Testing (or \"Carding\") on Stripe occurs when fraudsters use your payment form programmatically to test thousands of stolen credit card numbers. They are not trying to buy your product; they are trying to determine which cards are valid (\"live\") so they can sell them on the dark web or use them for high-value purchases elsewhere.\n\n## Why It Matters\nReputation and Cost. Even if the transactions fail, a sudden spike of 10,000 declines in an hour ruins your standing with the card networks. It signals that your merchant integration is insecure. Extreme cases lead to the \"Excessive Decline Program\" fines ($25,000+) or immediate termination of your Stripe account.\n\n## Signals to Monitor\n*   **Auth Velocity**: A sudden exponential increase in `payment_intent.created` events.\n*   **Low-Value Clustering**: A high volume of transactions for very small amounts ($1.00, $0.50) or \"Donation\" amounts.\n*   **Decline Rate Spike**: A shift from a 5% decline rate to a 90%+ decline rate.\n*   **CVC Errors**: A disproportionate number of `incorrect_cvc` decline codes (bots guessing variability).\n*   **IP Diversity (or Lack thereof)**: Thousands of requests coming from a single ASN (e.g., a VPN provider) or a rotating residential proxy network.\n*   **Guest Checkout**: Attacks almost always target unauthenticated \"Guest\" flows rather than logged-in user flows.\n*   **Zip Code Mismatches**: A high rate of `address_zip_check: fail` signals data that is being guessed.\n\n## How It Breaks Down\n1.  **The Recon**: A botprobes your donation page or $1 trial signup to see if it requires CAPTCHA.\n2.  **The Flood**: The script activates, sending 50 requests per second.\n3.  **The Smoke**: Your Stripe dashboard lights up with \"High Risk\" blocked payments (if Radar is on) or success/fail noise.\n4.  **The Damage**: Even if blocked, your decline rate skyrockets. If *succeeded*, you now have 500 small charges that will ALL turn into chargebacks when the real cardholders notice.\n5.  **The Dispute Bomb**: 2 weeks later, the 500 \"proven live\" cards generate 500 disputes. Even if the amount is $1, the dispute fee is $15. Total loss: $7,500.\n\n## How Risk Infrastructure Surfaces This\nObservability moves defense from \"Manual Refresh\" to \"Automated Shield\":\n\n*   **Velocity Governors**: Middleware that tracks `requests_per_ip_per_minute` and imposes hard limits (e.g., 5 attempts / 10 mins).\n*   **Fingerprinting**: Identifying distinct devices independent of IP address to catch distributed botnets.\n*   **Bin Attack Detection**: Alerting when a single BIN (e.g., a specific Bank in Brazil) accounts for >80% of traffic suddenly.\n*   **Session Analysis**: Flagging checkout sessions that complete in < 500ms (too fast for humans).\n\n> [!NOTE]\n> Observability does not override processor or network controls. Detection is not Prevention. You must implement CAPTCHA or rate limiting at your application edge (Cloudflare/WAF) to actually stop the traffic.\n\n## FAQ\n\n### Does Stripe block card testing automatically?\nStripe Radar blocks many obvious attacks, but sophisticated \"low-and-slow\" attacks or attacks on valid donation pages often get through. You are responsible for monitoring your own integration endpoints.\n\n### Do I pay fees for declined card testing transactions?\nStripe typically does not charge a processing fee for declined transactions, BUT authorization requests still cost resources and can damage your reputation with the card networks (Visa/Mastercard).\n\n### What is the best defense against card testing?\nCAPTCHA. Adding a challenge (like Turnstile or reCAPTCHA) to your checkout flow is the single most effective way to stop bot-driven card testing.\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Detecting Card Testing (General)](../use-cases/detecting-card-testing-attacks.md), [Transaction Monitoring](../risk/how-transaction-monitoring-works.md), [Card Testing vs. Velocity Fraud](../use-cases/differentiating-card-testing-from-velocity-fraud.md)\n",
    "use-cases/stripe-detecting-issuer-decline-spikes.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Detecting Issuer Decline Spikes\",\n  \"description\": \"A guide to detecting and diagnosing sudden drops in authorization rates on Stripe caused by issuer outages or bank-specific blocks.\",\n  \"about\": \"Stripe Issuer Decline Spikes\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why did my Stripe approval rate drop suddenly?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Sudden drops are often caused by 'Issuer Outages' (e.g., Chase or Capital One having downtime) rather than your own fraud settings. If the decline code is 'do_not_honor' across many cards from the same bank, it is likely an external infrastructure issue.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Should I retry declined Stripe transactions immediately?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Retrying 'generic_decline' or 'do_not_honor' errors aggressively can trigger velocity blocks from card networks. You should only retry if you have a specific signal that the failure was technical (e.g., 'system_error') and after a backoff period.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do I filter Stripe declines by bank?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"You can monitor the 'issuer' field in the Charge object or use the Issuing Balance Transaction API if you are on Stripe Issuing. For standard payments, you must aggregate declines by the 'payment_method_details.card.issuer' field in your own observability layer.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Detecting Issuer Decline Spikes\n\n## Definition\nIssuer Decline Spikes are sudden, distinct increases in transaction failures originating from the cardholder's bank (the Issuer) rather than Stripe itself (the Gateway) or your fraud rules (Radar). Unlike broad outages, these spikes are often targeted at specific BINs (Bank Identification Numbers) or regions, masking themselves as general conversion drops.\n\n## Why It Matters\nMisdiagnosis leads to revenue loss. If you assume a decline spike is due to your fraud setting, you might loosen your rules, letting actual fraudsters in. If you assume it's a technical error and retry aggressively, you might get your merchant account flagged for \"excessive retries\" (a fineable offense). Distinguishing between \"The Bank is Down\" and \"My Traffic is Bad\" is critical for operational response.\n\n## Signals to Monitor\n*   **Approval Rate by BIN**: Grouping `charge.failed` events by `payment_method_details.card.brand` and `issuer`. A healthy issuer typically approves 85-95% of valid traffic. A drop to 20% indicates an outage.\n*   **`do_not_honor` Velocity**: A spike in this specific code is the primary signature of an issuer-level block or outage.\n*   **Geographic Concentration**: Declines spiking specifically for `US` cards or `GB` cards while other regions remain stable.\n*   **Retry Success Rate**: If retries for a specific bank are failing 100% of the time, the issue is structural/technical.\n*   **3DS Failure Rate**: A spike in `3d_secure_not_supported` or authentication timeouts often precedes authorization decline spikes.\n*   **Latency Spikes**: Issuer systems often slow down (high TTI) before they start failing requests outright.\n*   **Webhook Delays**: While not a direct decline signal, a lag in receiving `charge.failed` webhooks from Stripe can indicate upstream congestion.\n\n## How It Breaks Down\n1.  **The Silent Fail**: An issuer (e.g., a large regional bank) undergoes maintenance. Their system starts rejecting all foreign transactions with `do_not_honor`.\n2.  **The Merchant Panic**: Your dashboard shows conversion dropping from 80% to 60%. You check Stripe Status, which says \"All Systems Operational\" (because Stripe is working fine).\n3.  **The False Fix**: You disable \"Block High Risk Payments\" in Radar, thinking you are blocking good customers. This does nothing to fix the bank error but exposes you to card testing.\n4.  **The Retry Storm**: Your automated billing engine sees the failures and retries all of them 3 times in 10 minutes.\n5.  **The Network Block**: Visa/Mastercard notice the retry volume and flag your merchant ID for \"Excessive Retries,\" potentially lowering your reputation score for *all* banks.\n\n## How Risk Infrastructure Surfaces This\nAn observability layer sits on top of the raw payment stream to contextualize these failures:\n\n*   **Pattern Recognition**: Alerting when *one specific BIN* deviates from its 30-day moving average, even if the global approval rate is stable.\n*   **Error Code Histogram**: Visualizing the breakdown of `code` and `decline_code` to differentiate `insufficient_funds` (User Error) from `issuer_not_available` (System Error).\n*   **State-Aware Retrying**: A \"Circuit Breaker\" state that prevents the billing engine from retrying cards belonging to a known-down issuer until the error rate normalizes.\n*   **Stripe Radar Correlation**: distinguishing between declines where `outcome.type == 'blocked'` (Radar blocked it) vs `outcome.type == 'issuer_declined'` (Bank blocked it).\n\n> [!NOTE]\n> Observability does not override processor or network controls. If Stripe returns a hard decline, no amount of observability can force the transaction through. The goal is to stop *asking* for bad transactions, not to force them.\n\n## FAQ\n\n### Why did my Stripe approval rate drop suddenly?\nSudden drops are often caused by \"Issuer Outages\" (e.g., Chase or Capital One having downtime) rather than your own fraud settings. If the decline code is `do_not_honor` across many cards from the same bank, it is likely an external infrastructure issue.\n\n### Should I retry declined Stripe transactions immediately?\nNo. Retrying `generic_decline` or `do_not_honor` errors aggressively can trigger velocity blocks from card networks. You should only retry if you have a specific signal that the failure was technical (e.g., `system_error`) and after a backoff period.\n\n### How do I filter Stripe declines by bank?\nYou can monitor the `issuer` field in the Charge object or use the Issuing Balance Transaction API if you are on Stripe Issuing. For standard payments, you must aggregate declines by the `payment_method_details.card.issuer` field in your own observability layer.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Understanding Decline Reason Codes](./stripe-understanding-decline-reason-codes.md), [Retry Logic & Storms](../risk/mechanics-retry-logic-and-storms.md), [Card Network Rules](../risk/mechanics-card-network-rules.md)\n",
    "use-cases/stripe-handling-dispute-surges.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Handling Dispute Surges\",\n  \"description\": \"Managing rapid increases in chargebacks on Stripe. Navigating the Dispute Monitoring Programs (VFMP) and evidence submission strategies.\",\n  \"about\": \"Stripe Dispute Surges\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the Stripe dispute threshold?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use 0.75% as your 'Red Alert' line. Visa's Standard Monitoring Program starts at 0.9%, and the Excessive program starts at 1.8%. Stripe may take action on your account well before 0.9% to protect their own standing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does refunding a charge prevent a dispute?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Only if done BEFORE the dispute is filed. Once a cardholder initiates a chargeback, refunding the charge does not count as a 'win' and does not remove the stain from your dispute ratio. It effectively admits guilt.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How long do I have to respond to a Stripe dispute?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Typically 7-21 days, depending on the card network. However, you should respond as fast as possible. Missing the deadline results in an automatic loss (Default Judgment).\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Handling Dispute Surges\n\n## Definition\nA Dispute Surge is a rapid acceleration in the volume or ratio of incoming chargebacks. On Stripe, this tracks the `dispute.created` webhook. Surges are often delayed consequences of events that happened 30-60 days ago (e.g., a bad marketing campaign, a shipping failure, or a fraud attack).\n\n## Why It Matters\nExistential Threat. Card networks (Visa/Mastercard) hold payment processors (like Stripe) liable for merchant behavior. If your dispute rate exceeds 1% (1 dispute per 100 transactions), you enter the \"Monitoring Programs\" (VFMP/ECP). These come with fines ($25,000/month), unable-to-fight disputes, and usually result in Stripe closing your account to protect themselves.\n\n## Signals to Monitor\n*   **Dispute Count & Ratio**: The absolute number of disputes vs. total sales count. (Risk is measured by Count, not Dollar Volume).\n*   **Early Fraud Warnings (EFW)**: Exploring `radar.early_fraud_warning` events. These are notifications from the bank that a charge is *likely* to be disputed. They are the \"Smoke\" before the fire.\n*   **Reason Code Mix**: A surge in `fraudulent` vs. `product_not_received`. The defense strategy differs completely.\n*   **Vintage Analysis**: Tracking which *month of sales* the disputes are coming from. Is this an old issue (July sales) surfacing now, or a new issue (October sales)?\n*   **Win Rate**: The % of disputes you are successfully overturning. A drop in win rate implies your evidence strategy is failing or the disputes are legitimate.\n\n## How It Breaks Down\n1.  **The Event**: You ship a batch of defective products in November.\n2.  **The Lag**: Customers try to return them, but support is overwhelmed. They call their banks.\n3.  **The EFW**: In December, you see a spice in Early Fraud Warnings.\n4.  **The Surge**: In January, 50 chargebacks arrive in a single week.\n5.  **The Threshold**: Your dispute rate hits 1.2%. Stripe places 100% of your funds in reserve.\n6.  **The Termination**: If the rate doesn't drop in 30 days, the account is closed.\n\n## How Risk Infrastructure Surfaces This\nObservability fights the \"Lag\":\n\n*   **Cohort Tracking**: visualizing dispute rates by *Transacted Month* rather than *Reported Month*. This highlights \"Toxic Batches\" immediately.\n*   **EFW-to-Dispute Conversion**: Measuring how many warnings turn into real chargebacks. If high, it justifies auto-refunding EFWs.\n*   **Auto-Response Logic**: Programmatically assembling evidence (Tracking Logs, IP logs, TOS signatures) to submit responses instantly, maximizing the win chance.\n*   **Refund-to-Avoid**: A circuit breaker that auto-refunds \"High Risk\" transactions or EFWs to prevent them from becoming official disputes (preserving the ratio).\n\n> [!NOTE]\n> Observability does not override processor or network controls. Once a dispute is filed, the damage to the ratio is done. You cannot \"un-file\" a dispute. The only cure is Prevention (refunding before it happens) or Dilution (increasing good sales volume).\n\n## FAQ\n\n### What is the Stripe dispute threshold?\nUse 0.75% as your \"Red Alert\" line. Visa's Standard Monitoring Program starts at 0.9%, and the Excessive program starts at 1.8%. Stripe may take action on your account well before 0.9% to protect their own standing.\n\n### Does refunding a charge prevent a dispute?\nOnly if done **BEFORE** the dispute is filed. Once a cardholder initiates a chargeback, refunding the charge does not count as a \"win\" and does not remove the stain from your dispute ratio. It effectively admits guilt.\n\n### How long do I have to respond to a Stripe dispute?\nTypically 7-21 days, depending on the card network. However, you should respond as fast as possible. Missing the deadline results in an automatic loss (Default Judgment).\n\nUp: [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\nSee also: [Handling Dispute Surges (General)](../use-cases/handling-dispute-surges.md), [Monitoring Dispute Ratios](../use-cases/monitoring-dispute-ratios.md), [How Chargebacks Propagate](../risk/how-chargebacks-propagate.md)\n",
    "use-cases/stripe-monitoring-payment-reserves.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Monitoring Payment Reserves\",\n  \"description\": \"Understanding Stripe's rolling and fixed reserves. How to detect reserve imposition via API and manage cash flow impact.\",\n  \"about\": \"Stripe Payment Reserves\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I remove a Stripe reserve?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Typically, no. Reserves are imposed based on risk logic. The only way to remove them is to improve the underlying metrics (reduce dispute rates, process consistent volume) over time, usually 30-90 days.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a Rolling Reserve?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A Rolling Reserve holds a percentage (e.g., 25%) of every transaction for a fixed period (e.g., 30 days) before releasing it. This differs from a Fixed Reserve, which holds a lump sum indefinitely.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does Stripe API show my reserve balance?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. The Balance object separates funds into 'available', 'pending', and 'instant'. Funds held in reserve are typically categorized geographically or functionally within the pending or specifically reserved buckets dependent on API version.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Monitoring Payment Reserves\n\n## Definition\nReserve Monitoring tracks the accumulation of funds that Stripe holds back to cover potential future chargebacks. On Stripe, these appear as \"Rolling Reserves\" (a % of daily sales held for X days) or \"Fixed Reserves\" (a defined amount held until release).\n\n## Why It Matters\nLiquidity Shock. A business operating on 10% margins cannot survive a 25% rolling reserve for long. Reserves are often imposed silently or with short notice. If a merchant doesn't realize 25% of their revenue is being diverted into a holding tank, they may overspend on inventory or ads, leading to a cash crunch.\n\n## Signals to Monitor\n*   **Balance Object Breakdown**: Tracking the divergence between `gross_volume` and `net_available`. If sales are flat but available balance is checking down, a reserve is active.\n*   **`reserve_transaction` Events**: In the Stripe API, specific balance transactions are typed as `reserve_transaction`. A non-zero count of these is the smoking gun.\n*   **Payout-to-Volume Ratio**: The ratio of `payout_total` / `processing_total`. A healthy ratio is near 1.0 (minus fees). A ratio of 0.75 implies a 25% reserve.\n*   **Dispute Activity**: High dispute activity is the primary driver of reserves. Monitoring the `dispute.created` rate is a leading indicator of an incoming reserve.\n*   **Refund Spikes**: Sudden increases in refunds can also trigger \"protective\" reserves.\n\n## How It Breaks Down\n1.  **Metric Breach**: The merchant's dispute rate touches 0.75%, alerting the risk algorithm.\n2.  **The Imposition**: Stripe applies a \"25% Rolling Reserve for 90 Days\" to cover the elevated risk.\n3.  **The Cash Gap**: The merchant sells $10,000 today but only receives $7,500 (minus fees) in their payout.\n4.  **The Opex Fail**: Expecting $10,000, the merchant creates payroll batches that bounce due to insufficient funds.\n5.  **The Spiral**: To \"fix\" the cash flow, the merchant markets aggressively to get more sales, which only increases the absolute amount of money trapped in the reserve.\n\n## How Risk Infrastructure Surfaces This\nObservability makes the \"Ghost Money\" visible:\n\n*   **Reserve Dashboard**: Clearly visualizing the \"Held\" balance distinct from \"Pending\" (clearing) balance.\n*   **Release Schedule**: projecting *when* the reserved funds will become available based on the rolling window (e.g., \"On Nov 15th, $5,000 from Oct 15th will unlock\").\n*   **Fee Auditing**: Ensuring that reserves are not mistaken for fees. (Reserves are assets; Fees are expenses).\n*   **Threshold Alerting**: Notifying the finance team immediately if the Payout-to-Volume ratio deviates from the norm.\n\n> [!NOTE]\n> Observability does not override processor or network controls. A reserve is a contractual right of the processor. Observability tools can visualize the money, but they cannot \"unlock\" it before the risk term expires.\n\n## FAQ\n\n### Can I remove a Stripe reserve?\nTypically, no. Reserves are imposed based on risk logic. The only way to remove them is to improve the underlying metrics (reduce dispute rates, process consistent volume) over time, usually 30-90 days.\n\n### What is a Rolling Reserve?\nA Rolling Reserve holds a percentage (e.g., 25%) of every transaction for a fixed period (e.g., 30 days) before releasing it. This differs from a Fixed Reserve, which holds a lump sum indefinitely.\n\n### Does Stripe API show my reserve balance?\nYes. The Balance object separates funds into `available`, `pending`, and `instant`. Funds held in reserve are typically categorized geographically or functionally within the pending or specifically reserved buckets dependent on API version.\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Monitoring Payout Delays](./stripe-monitoring-payout-delays.md), [Payment Reserves & Balances](../risk/mechanics-payment-reserves-and-balances.md), [Dispute Reserve Feedback Loops](../risk/how-dispute-reserve-feedback-loops-work.md)\n",
    "use-cases/stripe-monitoring-payout-delays.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Monitoring Payout Delays\",\n  \"description\": \"Strategies for detecting and predicting payout delays on Stripe Connect and Standard accounts, often a leading indicator of risk reviews.\",\n  \"about\": \"Stripe Payout Delays\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why is my Stripe payout pending for so long?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Payouts can stay pending due to bank holidays, weekend delays, or 'Risk Reviews'. If a payout exceeds the standard T+2 schedule without explanation, it often triggers a manual review by Stripe's risk team.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does Stripe notify me if a payout is held?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Not always instantly. There is often a 'Notification Lag' between the timestamp a payout is programmatically paused and the timestamp an email is sent to the account owner. Monitoring the API state is faster than waiting for email.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What does 'payout_failed' mean in the API?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It means the receiving bank rejected the transfer. Common reasons include 'account_closed', 'no_account' (invalid number), or name mismatches. This requires user intervention to fix the bank details.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Monitoring Payout Delays\n\n## Definition\nPayout Delay Monitoring tracks the latency between \"Funds Available\" and \"Funds in Bank.\" On Stripe, this involves monitoring the `payout` object state transitions from `pending` to `paid`. Anomalies in this schedule are high-fidelity signals of underlying compliance or risk friction.\n\n## Why It Matters\nCash flow and Vendor Trust. For marketplaces using Stripe Connect, a delayed payout usually means an angry seller. More critically, \"Silent Payout Holds\" are often the *first* symptom of a deeper account scrutiny. Stripe's risk engine may pause withdrawals while investigating a dispute spike, hours or days before a formal account freeze is declared. Detecting the delay gives you a head start on gathering evidence.\n\n## Signals to Monitor\n*   **Time-to-State Transition**: The duration a payout remains in `in_transit`. A shift from 24 hours to 72 hours warrants investigation.\n*   **Balance Availability Lag**: A growing `available` balance that is *not* converting into `payout` objects (indicating that automatic payouts might have been silently disabled).\n*   **`payout.failed` Webhooks**: Immediate alerts for banking errors (e.g., `account_frozen` by the receiving bank).\n*   **Payout Cancellations**: Occurrences where `status` flips from `in_transit` to `canceled` (a strong indicator of manual intervention).\n*   **Connect Account Restricted**: Monitoring `account.updated` events for capabilities where `transfers: inactive` is set.\n*   **Future Balance accumulation**: A large percentage of volume held in `future` reserves rather than moving to `available`.\n*   **Manual vs. Automatic**: Unexpected switches from automatic payout schedules to manual mode.\n\n## How It Breaks Down\n1.  **The Trigger**: A merchant hits a specific risk threshold (e.g., 1% dispute rate) or processes a transaction abnormally large for their history.\n2.  **The Soft Pause**: The risk engine flags the account. Processing continues, but the *next* scheduled payout is internally queued for human review.\n3.  **The Invisible Wait**: The dashboard shows the payout as \"Expected by [Date],\" but that date passes. The merchant assumes it's a bank delay.\n4.  **The Notification**: 48 hours later, Stripe sends a generic \"We need more information\" email.\n5.  **The Crisis**: The merchant, now cash-strapped for 3 days, panics. If you are a platform, they blame *you* for stealing their money.\n\n## How Risk Infrastructure Surfaces This\nObservability transforms \"Waiting\" into \"Data\":\n\n*   **SLA Tracking**: Comparing every payout's timestamp against the platform's defined Service Level Agreement (e.g., T+2). Violations trigger P0 alerts.\n*   **Capability Monitors**: Real-time dashboards showing the state of Stripe Connect `capabilities` across the entire fleet of sub-merchants.\n*   **Webhook Reconciliation**: Matching `payout.created` events with `payout.paid` events. Only by tracking the *absence* of the second event can you detect a delay.\n*   **Bank Error Classification**: Automatically categorizing failure codes (`R01`, `R02`, etc.) to provide instant \"Fix It\" instructions to users (e.g., \"Your bank rejected this as 'Corporate Consumer' mismatch\").\n\n> [!NOTE]\n> Observability does not override processor or network controls. Providing visibility into a delay does not speed up the banking network. ACH transfers have inherent latency; risk holds have inherent duration.\n\n## FAQ\n\n### Why is my Stripe payout pending for so long?\nPayouts can stay pending due to bank holidays, weekend delays, or \"Risk Reviews\". If a payout exceeds the standard T+2 schedule without explanation, it often triggers a manual review by Stripe's risk team.\n\n### Does Stripe notify me if a payout is held?\nNot always instantly. There is often a \"Notification Lag\" between the timestamp a payout is programmatically paused and the timestamp an email is sent to the account owner. Monitoring the API state is faster than waiting for email.\n\n### What does `payout_failed` mean in the API?\nIt means the receiving bank rejected the transfer. Common reasons include `account_closed`, `no_account` (invalid number), or name mismatches. This usually requires user intervention to fix the bank details.\n\nUp: [Payment Risk Events](../pillars/payment-risk-events.md)\nSee also: [Monitoring Payment Reserves](./stripe-monitoring-payment-reserves.md), [Account Freezes & Holds](../risk/mechanics-account-freezes-and-holds.md), [Payment Settlements](../risk/mechanics-payment-settlements.md)\n",
    "use-cases/stripe-understanding-decline-reason-codes.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Understanding Decline Reason Codes\",\n  \"description\": \"Decoding Stripe's decline codes. Mapping 'generic_decline', 'do_not_honor', and 'insufficient_funds' to actionable recovery strategies.\",\n  \"about\": \"Stripe Decline Codes\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What does 'do_not_honor' mean?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the bank's way of saying 'No' without finding a specific reason. It stands for 'Do Not Honor This Request'. It often implies a high-risk score, a restriction on the card, or a temporary fraud hold.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I retry a 'generic_decline'?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Sparingly. A generic decline is a soft decline, but repeated attempts will likely fail and hurt your reputation. The best strategy is to ask the customer to call their bank, or try a different card.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are correct CVCs being declined?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"If the CVC is correct but the transaction fails with 'incorrect_cvc' or similar, it might be due to Issuer Velocity limits or a mismatch in the billing address (AVS) that overrides the CVC match.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Understanding Decline Reason Codes\n\n## Definition\nDecline Reason Codes are the specific messages returned by the Issuer (Bank) explaining why a transaction failed. Stripe normalizes the thousands of raw bank codes into a clean set of strings (e.g., `insufficient_funds`, `lost_card`, `do_not_honor`). Understanding these is the key to optimizing authorization rates.\n\n## Why It Matters\nActionability. You cannot fix \"It Failed.\" You *can* fix \"It Failed because the Zip Code matched but the Street Address didn't.\" Categorizing declines allows you to build \"Smart Retry\" logic—retrying technical errors while suppressing hard blocks. This boosts revenue (recovering false positives) and protects reputation (stopping abuse).\n\n## Signals to Monitor\n*   **Hard vs. Soft Declines**:\n    *   **Hard** (`stolen_card`, `lost_card`, `expired_card`): Never retry.\n    *   **Soft** (`insufficient_funds`, `generic_decline`, `network_error`): Retry with caution or schedule for later.\n*   **The Big Three**:\n    1.  `insufficient_funds`: Customer is broke. Strategy: Dunning (email them).\n    2.  `do_not_honor`: Bank is suspicious. Strategy: Ask customer to call bank.\n    3.  `generic_decline`: Ambiguous failure. Strategy: Mild retry.\n*   **AVS/CVC Mismatches**: `incorrect_cvc`, `incorrect_zip`. High rates here indicate user error or bot attacks.\n*   **Radar Blocks**: `fraudulent` (Stripe blocked it, not the bank). This is an internal configuration signal.\n\n## How It Breaks Down\n1.  **The Transaction**: Customer submits payment.\n2.  **The Gate**: Stripe checks basic format (Luhn check).\n3.  **The Shield**: Stripe Radar assesses risk. If high, block (Decline: `fraudulent`).\n4.  **The Network**: Request goes to Visa/Mastercard.\n5.  **The Issuer**: Capital One checks balance.\n    *   If $0 balance -> Decline: `insufficient_funds`.\n    *   If weird IP -> Decline: `do_not_honor`.\n6.  **The Response**: Stripe maps the bank's ISO 8583 code to a string.\n\n## How Risk Infrastructure Surfaces This\nObservability decodes the cryptographic silence of banks:\n\n*   **Decline Pareto Chart**: Showing that 80% of your value loss comes from just 2 codes (e.g., `insufficient_funds`).\n*   **Smart Dunning**: Triggering different email sequences based on the code.\n    *   Code: `insufficient_funds` -> \"Please top up your card or use a different one.\"\n    *   Code: `do_not_honor` -> \"Your bank blocked this. Please call them to authorize.\"\n*   **Bin-Level Performance**: Identifying that \"Chase Sapphire\" cards have a higher `do_not_honor` rate on your subscription product than \"Wells Fargo\" cards.\n*   **Gateway Error Monitoring**: Alerting on `processing_error` spikes, which indicate Stripe/Network outages rather than cardholder issues.\n\n> [!NOTE]\n> Observability does not override processor or network controls. Providing a reason code does not change the outcome. You cannot \"override\" a `do_not_honor`. The bank has the final say.\n\n## FAQ\n\n### What does `do_not_honor` mean?\nIt is the bank's way of saying \"No\" without finding a specific reason. It stands for \"Do Not Honor This Request\". It often implies a high-risk score, a restriction on the card, or a temporary fraud hold.\n\n### Can I retry a `generic_decline`?\nSparingly. A generic decline is a soft decline, but repeated attempts will likely fail and hurt your reputation. The best strategy is to ask the customer to call their bank, or try a different card.\n\n### Why are correct CVCs being declined?\nIf the CVC is correct but the transaction fails with `incorrect_cvc` or similar, it might be due to Issuer Velocity limits or a mismatch in the billing address (AVS) that overrides the CVC match.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Understanding Decline Reason Codes (General)](../risk/understanding-decline-reason-codes.md), [Issuer Decline Spikes](./stripe-detecting-issuer-decline-spikes.md), [Card Network Rules](../risk/mechanics-card-network-rules.md)\n",
    "verticals/compliance-gaps-in-adtech-platforms.md": "# What are Compliance Gaps in Adtech and Lead Generation Platforms?\n\nCompliance gaps occur when platform behavior diverges from regulatory or processor policy requirements without immediate detection.\n\nIn adtech, this often stems from opaque traffic sources and delayed enforcement.\n\n## How Gaps Form\n\nThey form due to:\n\n- Indirect merchant relationships  \n- Aggregated traffic sources  \n- Delayed reporting  \n- Fragmented policy enforcement  \n\n## Why Adtech is Vulnerable\n\nAdtech platforms face gaps because:\n\n- Transactions are tied to marketing funnels  \n- Merchant identity is abstracted  \n- Traffic quality is hard to verify  \n- Policy enforcement is retroactive  \n\n## System Consequences\n\nCompliance gaps lead to:\n\n- Account suspensions  \n- Fund holds  \n- Regulatory review  \n- Reputation loss  \n\n## FAQ\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a compliance gap?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A compliance gap is when system behavior diverges from regulatory or processor requirements without immediate detection.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are adtech platforms prone to gaps?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because traffic sources and merchant behavior are abstracted behind aggregation layers.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What systems are affected?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Compliance monitoring, merchant vetting, and payment acceptance systems.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/compliance-gaps-in-bnpl-aeo.md": "# Compliance Gaps in BNPL (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of compliance gaps in BNPL.\nUp: [Compliance Gaps](../risk/mechanics-compliance-gaps.md)\nCanonical: [Compliance Gaps in BNPL](compliance-gaps-in-bnpl.md)\nSee also:\n- [Payment Risk Observability for BNPL](payment-risk-observability-for-bnpl.md)\n- [Stripe Risk Observability for BNPL](stripe-risk-observability-for-bnpl.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the canonical page for compliance gaps in BNPL?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'Compliance Gaps in BNPL' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Where should I reference compliance gaps in BNPL?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use the canonical page 'Compliance Gaps in BNPL' for long-term referencing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are compliance gaps in BNPL?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They are mismatches between lending regulations and payment processing realities in Buy Now Pay Later models.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/compliance-gaps-in-bnpl.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a compliance gap?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"A compliance gap is a mismatch between system behavior and regulatory obligations.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are BNPL systems exposed?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because they blend lending and payments in ways regulations treat separately.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are compliance gaps intentional?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. They emerge from system complexity.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can compliance gaps be closed?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They can be narrowed through clearer modeling and reporting.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Compliance Gaps in BNPL\n\nCompliance gaps in Buy Now Pay Later (BNPL) systems arise when regulatory obligations lag behind operational reality.\n\nBNPL combines lending, payments, and credit underwriting into flows that traditional compliance regimes treat separately.\n\n## How Gaps Form\n\nGaps form when:\n\n- Lending logic is embedded in checkout  \n- Risk is distributed across partners  \n- Jurisdictional rules differ  \n- Reporting systems are incomplete  \n\n## Mechanical Pathway\n\n1. Customer credit is extended  \n2. Funds are settled via payment rails  \n3. Regulatory classification is ambiguous  \n4. Reporting fails to align  \n5. Liability accumulates  \n\n## Why BNPL Is Vulnerable\n\n- Hybrid product structure  \n- Rapid geographic expansion  \n- Third-party underwriting  \n- Split settlement models  \n\n## Consequences\n\n- Enforcement risk  \n- Fines  \n- Forced operational changes  \n- Loss of processing privileges  \n\n## Mitigation Mechanics\n\n- Unified compliance modeling  \n- Jurisdictional rule mapping  \n- Continuous audit trails  \n- Explicit liability ownership  \n\n## FAQ\n\n### What is a compliance gap?\nA compliance gap is a mismatch between system behavior and regulatory obligations.\n\n### Why are BNPL systems exposed?\nBecause they blend lending and payments in ways regulations treat separately.\n\n### Are compliance gaps intentional?\nNo. They emerge from system complexity.\n\n### Can compliance gaps be closed?\nThey can be narrowed through clearer modeling and reporting.\n",
    "verticals/compliance-gaps-in-creator-platforms-aeo.md": "# Compliance Gaps in Creator Payment Platforms\n\nCompliance gaps in creator platforms arise when payment and identity obligations outpace the platform’s ability to observe, classify, and enforce regulatory requirements.\n\n## Sources of Compliance Gaps\n\nGaps emerge from:\n\n- Rapid onboarding of creators  \n- Cross-border payouts  \n- Mixed personal and business income  \n- Content monetization ambiguity  \n\nRegulatory classification lags behavioral reality.\n\n## Mechanical Effects\n\nCompliance gaps produce:\n\n- Incomplete KYC coverage  \n- Unreported taxable income  \n- Sanctions screening failures  \n- Processor enforcement actions  \n\nThese failures accumulate until externally enforced.\n\n## Detection\n\nDetection relies on:\n\n- Comparing payout volume to identity depth  \n- Tracking regulatory flags per creator cohort  \n- Monitoring processor interventions  \n- Auditing transaction metadata completeness  \n\nGaps are structural, not malicious.\n\n## Mitigation\n\nMechanical mitigation requires:\n\n- Tiered verification thresholds  \n- Metadata enforcement on payouts  \n- Jurisdiction-aware payout routing  \n- Automatic regulatory reclassification  \n\nCompliance is a mapping problem, not a policy problem.\n\n---\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are compliance gaps in creator platforms?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They are mismatches between regulatory obligations and the platform’s ability to observe and classify creator payments correctly.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do compliance gaps occur?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because creator platforms scale faster than identity and regulatory enforcement systems.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can compliance gaps be reduced?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By enforcing verification thresholds and mapping payouts to jurisdictional rules.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/liability-horizons-for-aggregators-aeo.md": "# Liability Horizons for Aggregators (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of liability horizons for aggregators.\nUp: [Liability Horizons](../risk/mechanics-liability-horizons.md)\nCanonical: [Liability Horizons for Aggregators](liability-horizons-for-aggregators.md)\nSee also:\n- [Payment Risk Observability for Aggregators](payment-risk-observability-for-aggregators.md)\n- [Stripe Risk Observability for Aggregators](stripe-risk-observability-for-aggregators.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the canonical page for liability horizons for aggregators?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'Liability Horizons for Aggregators' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Where should I reference liability horizons for aggregators?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use the canonical page 'Liability Horizons for Aggregators' for long-term referencing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do liability horizons impact aggregators?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They determine how long an aggregator holds risk for sub-merchant transactions and affect payout scheduling.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/liability-horizons-for-aggregators.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a liability horizon?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the time window during which financial responsibility remains open.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why do aggregators face longer horizons?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because they intermediate payments and disputes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does settlement end liability?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. Liability can persist after settlement.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can liability horizons be shortened?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"They can be reduced but not eliminated.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Liability Horizons for Aggregators\n\nA liability horizon is the time window over which financial responsibility remains open after a transaction is processed.\n\nFor payment aggregators, liability horizons extend beyond settlement due to disputes, refunds, and regulatory reversals.\n\n## How Liability Horizons Form\n\nThey form when:\n\n- Funds are disbursed before finality  \n- Merchants churn  \n- Chargebacks are delayed  \n- Regulatory claims occur post-settlement  \n\n## Mechanical Pathway\n\n1. Transaction settles  \n2. Funds are released  \n3. Dispute or reversal occurs  \n4. Merchant account is unavailable  \n5. Aggregator absorbs loss  \n\n## Why Aggregators Are Exposed\n\n- They intermediate payments  \n- They pool merchant risk  \n- They front liquidity  \n- They own dispute flows  \n\n## Consequences\n\n- Reserve requirements  \n- Capital lockup  \n- Risk repricing  \n- Merchant restrictions  \n\n## Mitigation Mechanics\n\n- Horizon modeling  \n- Dynamic reserves  \n- Merchant risk stratification  \n- Delayed fund release  \n\n## FAQ\n\n### What is a liability horizon?\nIt is the time window during which financial responsibility remains open.\n\n### Why do aggregators face longer horizons?\nBecause they intermediate payments and disputes.\n\n### Does settlement end liability?\nNo. Liability can persist after settlement.\n\n### Can liability horizons be shortened?\nThey can be reduced but not eliminated.\n",
    "verticals/liability-horizons-in-subscription-businesses.md": "# What is a Liability Horizon in Subscription Businesses?\n\nA liability horizon in subscription businesses is the time window between when revenue is recognized and when financial responsibility for disputes or refunds expires.\n\nIn subscriptions, this horizon can extend across billing cycles.\n\n## How Liability Horizons Form\n\nThey form due to:\n\n- Recurring billing structures  \n- Deferred chargebacks  \n- Trial periods converting to paid plans  \n- Subscription cancellations lagging refunds  \n\n## Why Subscriptions Have Long Horizons\n\nSubscription models extend liability because:\n\n- Customers may dispute multiple months at once  \n- Refunds propagate after churn  \n- Processors aggregate disputes over time  \n\n## System Impact\n\nLong liability horizons cause:\n\n- Delayed reserve triggers  \n- Inaccurate revenue forecasting  \n- Risk model lag  \n- Cash flow misalignment  \n\n## FAQ\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a liability horizon in subscriptions?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the period during which revenue remains exposed to dispute or refund risk after billing occurs.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are subscription liability horizons long?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because disputes and refunds can occur across multiple billing cycles after the original charge.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What systems are affected?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Risk engines, revenue recognition, reserves, and churn systems.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/liability-horizons-in-travel-and-ticketing-aeo.md": "# Liability Horizons in Travel and Ticketing Platforms\n\nA liability horizon in travel and ticketing platforms is the time window between when a payment is collected and when the service is delivered. This delay creates financial exposure because disputes, refunds, and fraud can occur long before fulfillment.\n\n## How Liability Horizons Form\n\nTravel and ticketing platforms collect funds:\n\n- Weeks or months before travel  \n- Before inventory is consumed  \n- Before customer satisfaction can be evaluated  \n\nDuring this period, the platform holds funds while still being economically responsible for delivery.\n\n## Mechanical Effects\n\nExtended liability horizons produce:\n\n- Processor-imposed reserves  \n- Deferred revenue accounting complexity  \n- High dispute risk after fulfillment failures  \n- Cash flow that is illusory until completion  \n\nA cancellation or airline failure converts future delivery risk into immediate financial loss.\n\n## Risk Propagation\n\nFailures propagate when:\n\n- Vendors collapse before fulfillment  \n- Border closures invalidate travel  \n- Weather events trigger mass refunds  \n- Fraudulent purchases mature into chargebacks  \n\nBecause exposure compounds over time, risk grows with horizon length.\n\n## Containment Strategies\n\nMechanical containment includes:\n\n- Segmenting balances by departure date  \n- Applying rolling reserves based on horizon length  \n- Blocking payouts until service delivery  \n- Modeling cancellation risk as a financial liability  \n\nThe horizon itself is not the risk. The unmodeled exposure inside it is.\n\n---\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is a liability horizon in ticketing systems?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the time gap between when payment is collected and when the travel or event service is delivered.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why are long liability horizons risky?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because funds may need to be refunded or disputed long before fulfillment occurs, creating liquidity and reserve pressure.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do platforms manage liability horizons?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By segmenting funds by delivery date and restricting payouts until services are rendered.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/model-drift-in-crypto-onramps.md": "# What is Model Drift in Crypto Onramps and Exchanges?\n\nModel drift occurs when fraud or risk models lose accuracy over time because transaction behavior evolves faster than the model adapts.\n\nIn crypto onramps, this happens as fraud tactics mutate rapidly.\n\n## How Drift Forms\n\nDrift forms when:\n\n- New wallet behaviors emerge  \n- Attackers adapt to detection rules  \n- Legitimate user behavior changes  \n- Training data becomes stale  \n\n## Why Crypto Amplifies Drift\n\nCrypto systems drift faster because:\n\n- Transactions are irreversible  \n- Identity signals are weak  \n- Cross-border volume is high  \n- Fraud patterns mutate quickly  \n\n## System Consequences\n\nDrift causes:\n\n- Rising false positives  \n- Missed fraud detection  \n- Regulatory exposure  \n- Liquidity instability  \n\n## FAQ\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is model drift in crypto payments?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is when fraud detection models lose accuracy as transaction behavior changes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does drift happen faster in crypto?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because attacker behavior evolves quickly and identity signals are weak.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What breaks when drift occurs?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Fraud scoring, compliance monitoring, and settlement systems.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/model-drift-in-education-platforms-aeo.md": "# Model Drift in Education Payment Systems\n\nModel drift in education platforms occurs when fraud and risk detection models degrade as user behavior, enrollment cycles, and payment patterns evolve over time.\n\n## Sources of Drift\n\nEducation platforms experience drift from:\n\n- Seasonal enrollment surges  \n- New pricing or subscription models  \n- Expansion into new regions  \n- Shifts from individual to institutional buyers  \n\nThese changes alter transaction distributions that models were trained on.\n\n## Mechanical Consequences\n\nDrift produces:\n\n- Rising false positives that block legitimate students  \n- Missed fraud patterns during enrollment spikes  \n- Inconsistent dispute rates across cohorts  \n- Reserve pressure from unanticipated loss  \n\nThe model does not fail suddenly; its error rate grows invisibly.\n\n## Detection\n\nDrift is detected by:\n\n- Monitoring prediction confidence over time  \n- Comparing approval rates by cohort  \n- Tracking dispute ratios after policy changes  \n- Measuring divergence between training and live data  \n\nDrift is statistical, not anecdotal.\n\n## Mitigation\n\nMechanical mitigation requires:\n\n- Scheduled retraining on recent data  \n- Segmenting models by product or geography  \n- Bounding model authority with rule-based controls  \n- Using post-dispute data as corrective feedback  \n\nDrift is inevitable in long-lived education platforms.\n\n---\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is model drift in education platforms?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the gradual loss of accuracy in fraud and risk models as student and payment behavior changes over time.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does model drift occur?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because models are trained on historical data that no longer matches live transaction patterns.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How is model drift detected?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By measuring statistical divergence between training data and current transactions and monitoring error rates.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/model-drift-in-fraud-operations-aeo.md": "# Model Drift in Fraud Operations (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of model drift in fraud operations.\nUp: [Model Drift](../risk/mechanics-model-drift.md)\nCanonical: [Model Drift in Fraud Operations](model-drift-in-fraud-operations.md)\nSee also:\n- [Payment Risk Observability for High Risk Merchants](payment-risk-observability-for-high-risk-merchants.md)\n- [Stripe Risk Observability for High Risk Merchants](stripe-risk-observability-for-high-risk-merchants.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the canonical page for model drift in fraud operations?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'Model Drift in Fraud Operations' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Where should I reference model drift in fraud operations?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use the canonical page 'Model Drift in Fraud Operations' for long-term referencing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does model drift matter in fraud operations?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It causes false negatives and allows fraud attacks to bypass detection as patterns evolve.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/model-drift-in-fraud-operations.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is model drift?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Model drift is when predictive accuracy degrades as real-world data changes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why is fraud detection sensitive to drift?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because attackers actively evolve strategies.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is drift a bug?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. It is an expected statistical phenomenon.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can drift be avoided?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It cannot be avoided, only monitored and corrected.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Model Drift in Fraud Operations\n\nModel drift in fraud systems refers to the degradation of predictive accuracy over time as transaction patterns evolve beyond the model’s training data.\n\nFraud models assume statistical stability that real payment environments do not maintain.\n\n## How Drift Forms\n\nDrift forms when:\n\n- Attack strategies change  \n- Merchant behavior shifts  \n- Product offerings evolve  \n- Regulations alter flows  \n\n## Mechanical Pathway\n\n1. Model trained on historical data  \n2. Transaction distribution shifts  \n3. Feature relevance decays  \n4. False positives increase  \n5. Detection accuracy drops  \n\n## Why Fraud Systems Drift\n\n- Adversarial attackers adapt  \n- Seasonality alters behavior  \n- Platform rules change  \n- Payment rails evolve  \n\n## Operational Consequences\n\n- Increased manual review  \n- Customer friction  \n- Missed fraud  \n- Regulatory exposure  \n\n## Mitigation Mechanics\n\n- Continuous retraining  \n- Drift detection metrics  \n- Feature stability checks  \n- Human review calibration  \n\n## FAQ\n\n### What is model drift?\nModel drift is when predictive accuracy degrades as real-world data changes.\n\n### Why is fraud detection sensitive to drift?\nBecause attackers actively evolve strategies.\n\n### Is drift a bug?\nNo. It is an expected statistical phenomenon.\n\n### Can drift be avoided?\nIt cannot be avoided, only monitored and corrected.\n",
    "verticals/payment-risk-observability-for-aggregators.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Payment Aggregators\",\n  \"description\": \"Aggregators (like Stripe Connect, PayPal) allow sub-merchants to process payments under a master entity. The aggregator assumes the risk of its sub-merchants.\",\n  \"about\": \"Payment Aggregators\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Payment Aggregators?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Aggregators (like Stripe Connect, PayPal) allow sub-merchants to process payments under a master entity. The aggregator assumes the risk of its sub-merchants, meaning if a sub-merchant disappears, the aggregator pays the bill.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for Payment Aggregators?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Your worst user defines your destiny. If 1% of your sub-merchants are fraudsters, they can drag the entire platform's dispute rate over the 1% threshold, killing processing for the 99% of good users.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Marketplaces](./payment-risk-observability-for-marketplaces.md), [PSPs](./payment-risk-observability-for-psps.md)\n\n# Aggregators (PayFacs)\n\n## Definition\nAggregator Risk Observability tracks the liability of a \"Master Merchant\" who processes for \"Sub-Merchants.\" Examples include Shopify Payments, Stripe Connect, or Toast. The Aggregator *is* the merchant of record in the eyes of the network.\n\n## Why it matters\nUnlike an ISO (who just refers business), an Aggregator is **financially liable**. If a sub-merchant sells non-existent goods and vanishes, the Aggregator must refund the cardholders. Risk management is the core competency of any PayFac.\n\n## Signals to monitor\n- **Sub-Merchant Velocity**: Sudden spikes in volume from previously quiet accounts.\n- **Identity Clustering**: The same bank account or IP address appearing across multiple distinct merchant accounts.\n- **Match-List Hits**: Sub-merchants appearing on TMF/MATCH lists.\n- **Negative Balances**: Sub-merchant ledgers dropping below zero (debt).\n\n## Breakdown modes\n- **Account Takeover**: A dormant sub-merchant account being hacked and used to test stolen cards.\n- **Category Laundering**: A sub-merchant approved for \"Consulting\" suddenly processing \"Gambling\" transactions.\n- **Flash Fraud**: Opening 50 accounts, processing $5k each in 1 hour, and withdrawing immediately.\n\n## Where observability fits\n- **Real-Time Ledgering**: Maintaining a \"General Ledger\" for every sub-merchant to stop payouts instantly if risk flags triggers.\n- **Cross-Account Correlation**: \"Knowing\" that User A and User B are actually the same person.\n- **Behavioral Baselining**: Establishing \"Normal\" patterns for every sub-merchant to detect deviations.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Difference between PayFac and Marketplace?\nA PayFac's primary product is *processing*. A Marketplace's primary product is *customers/demand*.\n\n### Why is underwriting so fast?\nAutomated checks (KYC/AML) replace manual review. This speed creates the risk of \"Leakage\" (bad actors getting through).\n\n### What is \"Shadow Risk?\"\nThe accumulation of potential chargebacks from volume processed but not yet disputed.\n\n## See also\n- [Marketplaces](./payment-risk-observability-for-marketplaces.md)\n- [Merchant Underwriting](../risk/how-merchant-underwriting-works.md)\n- [Compliance Timing Gaps](../risk/how-compliance-timing-gaps-form.md)\n",
    "verticals/payment-risk-observability-for-bnpl.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"BNPL Providers\",\n  \"description\": \"BNPL Risk Observability monitors the intersection of Credit Risk and Payment Risk. BNPL providers pay the merchant upfront but collect from the consumer over time.\",\n  \"about\": \"BNPL Providers\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are BNPL Providers?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"BNPL Risk Observability monitors the intersection of **Credit Risk** (Consumer Default) and **Payment Risk** (Merchant Disputes). BNPL providers pay the merchant upfront but collect from the consumer over time, creating a massive \\\"Float\\\" and specialized liability.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for BNPL Providers?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Double Jeopardy. A consumer can default on the loan (Credit Loss) OR dispute the transaction (Payment Loss). Sometimes they do both. Additionally, the BNPL provider relies on *their own* processor to collect repayments.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Subscription Businesses](./payment-risk-observability-for-subscription-businesses.md), [High-Risk Merchants](./payment-risk-observability-for-high-risk-merchants.md)\n\n# BNPL Providers\n\n## Definition\nBNPL Risk Observability monitors the intersection of **Credit Risk** (Consumer Default) and **Payment Risk** (Merchant Disputes). BNPL providers pay the merchant upfront but collect from the consumer over time, creating a massive \"Float\" and specialized liability.\n\n## Why it matters\nDouble Jeopardy. A consumer can default on the loan (Credit Loss) OR dispute the transaction (Payment Loss). Sometimes they do both. Additionally, the BNPL provider relies on *their own* processor to collect repayments; if that processor blocks them, the entire lending machine stops.\n\n## Signals to monitor\n- **Repayment Success**: The % of installment collections that succeed.\n- **Merchant Dispute Rate**: Identify merchants whose goods are frequently returned/disputed by borrowers.\n- **Settlement Float**: The total capital deployed vs capital collected.\n- **Vintage Delinquency**: Defaults relative to loan origination month.\n\n## Breakdown modes\n- **Stacked Risk**: A merchant shipping bad goods + A consumer refusing to pay = BNPL provider stuck in the middle.\n- **Processor Freeze**: The upstream acquirer freezing the BNPL provider's ability to pull funds from consumers due to high return rates.\n- **Friendly Fraud**: Consumers claiming \"Unauthorized\" on the loan repayment charges.\n\n## Where observability fits\n- **Lifecycle Tracking**: Linking the Merchant Transaction -> Loan -> 4x Installment Payments into one view.\n- **Merchant Scoring**: Rating merchants based on the *performance* of the loans generated by their shoppers.\n- **Cash Flow Modeling**: Predicting liquidity needs based on repayment velocity.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Is BNPL a loan?\nLegally, yes (in most jurisdictions). It is a consumer credit product.\n\n### Who handles the chargeback?\nIf the consumer disputes the *goods*, the BNPL provider manages the dispute with the merchant. If the consumer disputes the *loan repayment*, the BNPL provider manages it with their own processor.\n\n### Why is settlement risk high?\nBecause money goes out (to merchant) instantly, but comes back (from consumer) over 6 weeks.\n\n## See also\n- [Payment Settlements](../how-it-works/how-payment-settlements-work.md)\n- [Payment Reserves](../risk/what-is-a-payment-reserve.md)\n- [Dispute Infrastructure](../pillars/dispute-infrastructure.md)\n",
    "verticals/payment-risk-observability-for-high-risk-merchants.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"High-Risk Merchants\",\n  \"description\": \"High-Risk Observability focuses on merchants in regulated or volatile industries (Travel, Gaming, Crypto, Adult). These merchants operate under the constant threat of account closure.\",\n  \"about\": \"High-Risk Merchants\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are High-Risk Merchants?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"High-Risk Observability focuses on merchants in regulated or volatile industries (Travel, Gaming, Crypto, Adult). These merchants operate under the constant threat of account closure and aggressive monitoring programs.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for High-Risk Merchants?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Survival. For high-risk merchants, \\\"Risk Management\\\" is not a back-office function; it is the core constraint on revenue. Breaching a threshold doesn't mean a fee; it means \\\"Termination\\\" (TMF), which can permanent kill the business.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Subscription Businesses](./payment-risk-observability-for-subscription-businesses.md), [Aggregators](./payment-risk-observability-for-aggregators.md)\n\n# High-Risk Merchants\n\n## Definition\nHigh-Risk Observability focuses on merchants in regulated or volatile industries (Travel, Gaming, Crypto, Adult). These merchants operate under the constant threat of account closure and aggressive monitoring programs.\n\n## Why it matters\nSurvival. For high-risk merchants, \"Risk Management\" is not a back-office function; it is the core constraint on revenue. Breaching a threshold doesn't mean a fee; it means \"Termination\" (TMF), which can permanent kill the business.\n\n## Signals to monitor\n- **Reserve Percentage**: Sudden increases in the \"Hold Rate\" applied to daily batches.\n- **Manual Review Queue**: The backlog of transactions held by the processor for human eyes.\n- **Volume Caps**: Proximity to the monthly processing limit (e.g., \"85% of $500k Used\").\n- **Gateway Redundancy**: The health of backup merchant accounts (Load Balancing).\n\n## Breakdown modes\n- **Sudden Termination**: Receiving a \"Closure Notice\" effective in 24 hours.\n- **Reserve Trap**: Processor holding 100% of funds for 180 days upon potential closure.\n- **Volume Choke**: Hitting the monthly cap on the 20th, unable to process for 10 days.\n\n## Where observability fits\n- **Load Balancing**: Routing traffic to different MIDs to keep each one within safe velocity/volume limits.\n- **Cash Forecasting**: Modeling \"Real Cash\" (Post-Reserve) vs \"Theoretical Cash\" (Sales).\n- **Incident Documentation**: Keeping perfect records to fight \"unjustified\" closures or reviews.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Am I High Risk?\nIf you sell future delivery (Travel), age-restricted goods (Vape/Alcohol), or huge tickets ($2000+), likely yes.\n\n### Can I get off the high-risk list?\nRarely. It's usually inherent to the business model. You manage it, you don't cure it.\n\n### Why do they need so many documents?\nBecause the banks are terrified of Money Laundering (AML) fines. They need proof you are a real business shipping real goods.\n\n## See also\n- [Payment Risk Events](../pillars/payment-risk-events.md)\n- [Monitoring Payment Reserves](../use-cases/monitoring-payment-reserves.md)\n- [Rolling Risk Windows](../risk/how-rolling-risk-windows-work.md)\n",
    "verticals/payment-risk-observability-for-marketplaces-with-escrow.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Marketplaces with Escrow\",\n  \"description\": \"Escrow Observability monitors funds held in intermediate states (FBO Accounts) between buyer capture and seller release. It focuses on trigger events like delivery confirmation.\",\n  \"about\": \"Marketplaces with Escrow\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Marketplaces with Escrow?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Escrow Observability monitors funds held in intermediate states (FBO Accounts) between buyer capture and seller release. It focuses on the trigger events—delivery confirmation, service completion—that unlock the movement of money.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for Marketplaces with Escrow?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Escrow adds a \\\"Limbo State\\\" to payments. Funds are captured but not owned by anyone yet. Failure to monitor this state leads to \\\"Stuck Funds\\\" (never paid out) or \\\"Double Release\\\" (paying seller + refunding buyer).\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Marketplaces](./payment-risk-observability-for-marketplaces.md), [Aggregators](./payment-risk-observability-for-aggregators.md)\n\n# Marketplaces with Escrow\n\n## Definition\nEscrow Observability monitors funds held in intermediate states (FBO Accounts) between buyer capture and seller release. It focuses on the trigger events—delivery confirmation, service completion—that unlock the movement of money.\n\n## Why it matters\nEscrow adds a \"Limbo State\" to payments. Funds are captured but not owned by anyone yet. Failure to monitor this state leads to \"Stuck Funds\" (never paid out) or \"Double Release\" (paying seller + refunding buyer).\n\n## Signals to monitor\n- **Held Balance Age**: How long specific transactions have been sitting in escrow (e.g., > 30 days).\n- **Trigger Health**: The success rate of the API calls (e.g., Shipping Webhook) that fire releases.\n- **Race Conditions**: Instances where a refund was requested *after* a payout trigger fired.\n- **Ledger Integrity**: Verifying `Inflow == Held + Outflow`.\n\n## Breakdown modes\n- **Ghost Shipments**: Tracking APIs going down, leaving funds trapped in escrow indefinitely.\n- **Dispute Leakage**: A buyer disputing while funds are held; the platform must ensure they don't *also* release funds to the seller.\n- **Regulatory Drift**: Holding funds too long (e.g., > 90 days) can trigger money transmission compliance issues in some jurisdictions.\n\n## Where observability fits\n- **State Auditing**: Providing a timestamped log of exactly *why* funds moved (or didn't).\n- **Stuck Fund Alerts**: flagging orders that have exceeded normal delivery windows.\n- **Reconciliation**: Matching the FBO bank balance to the sum of internal ledger states.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Is escrow required?\nNot always, but it builds trust. For services (like Upwork), it ensures work is done before payment.\n\n### What happens if I release early?\nYou take the credit risk. If the buyer disputes later, you have no funds to claw back.\n\n### Can PayFlux control the release?\nNo. PayFlux monitors the state of the funds. Your backend logic controls the release triggers.\n\n## See also\n- [Marketplaces](./payment-risk-observability-for-marketplaces.md)\n- [Payment Reserves](../risk/what-is-a-payment-reserve.md)\n- [Payout Delays](../risk/how-payout-delays-work.md)\n",
    "verticals/payment-risk-observability-for-marketplaces.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Marketplaces\",\n  \"description\": \"Marketplace Risk Observability is the practice of monitoring payment liabilities in multi-party environments. Unlike direct merchants, marketplaces often act as the Merchant of Record (MoR).\",\n  \"about\": \"Marketplaces\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Marketplaces?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Marketplace Risk Observability is the practice of monitoring payment liabilities in multi-party environments. Unlike direct merchants, marketplaces often act as the Merchant of Record (MoR), making them financially liable for the behavior of thousands of anonymous sellers.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for Marketplaces?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"One bad seller can sink the ship. If a single fraudster drives the platform's aggregate dispute rate above 1%, the card network will fine or suspend the *platform*, potentially blocking payments for all good sellers.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Aggregators](./payment-risk-observability-for-aggregators.md), [PSPs](./payment-risk-observability-for-psps.md)\n\n# Marketplaces\n\n## Definition\nMarketplace Risk Observability is the practice of monitoring payment liabilities in multi-party environments. Unlike direct merchants, marketplaces often act as the Merchant of Record (MoR), making them financially liable for the behavior of thousands of anonymous sellers.\n\n## Why it matters\nOne bad seller can sink the ship. If a single fraudster drives the platform's aggregate dispute rate above 1%, the card network will fine or suspend the *platform*, potentially blocking payments for all good sellers.\n\n## Signals to monitor\n- **Seller Dispute Ratios**: Tracking chargebacks per sub-merchant ID.\n- **Category Drift**: Sellers changing inventory from safe items (books) to risky items (electronics) without re-underwriting.\n- **Collusion Patterns**: Buyer/Seller pairs sharing IP addresses or device fingerprints.\n- **Platform Aggregate**: The rolled-up dispute rate of the entire master account.\n\n## Breakdown modes\n- **Pool Contamination**: One toxic seller influencing the risk score of the shared merchant pool.\n- **Settlement Lag**: Paying out a seller *before* the chargeback arrives, leaving the platform with a negative balance.\n- **Identity Recycling**: Banned sellers reappearing with new emails but same bank accounts.\n\n## Where observability fits\n- **Attribution**: Decomposing a platform-level risk notification (\"You are at 0.9%\") into a list of specific offending sellers.\n- **Isolation**: Freezing payouts for specific sub-merchants while keeping the rest of the platform open.\n- **Ledger Auditing**: Tracking the \"Net Position\" of every seller node in real-time.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why am I liable for my sellers?\nIf you are the Merchant of Record, the card network sees YOU as the seller. The sub-sellers are just your \"suppliers.\" You own the risk.\n\n### Can I pass the fines to sellers?\nLegally, yes (if in your TOS). Practically, if the seller is a fraudster, they have already withdrawn the money and vanished.\n\n### difference between Marketplace and PayFac?\nMarketplaces sell goods/services (Airbnb, Etsy). PayFacs sell payment processing (Toast, Shopify). The risk models are similar but the regulations differ.\n\n## See also\n- [Aggregators](./payment-risk-observability-for-aggregators.md)\n- [Marketplaces with Escrow](./payment-risk-observability-for-marketplaces-with-escrow.md)\n- [Compliance Timing Gaps](../risk/how-compliance-timing-gaps-form.md)\n",
    "verticals/payment-risk-observability-for-psps.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Payment Service Providers (PSPs)\",\n  \"description\": \"PSP Observability is the \\\"Control Tower\\\" view of payment processing. PSPs aggregate thousands of merchants. Their risk is Systemic.\",\n  \"about\": \"Payment Service Providers (PSPs)\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Payment Service Providers (PSPs)?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"PSP Observability is the \\\"Control Tower\\\" view of payment processing. PSPs aggregate thousands of merchants. Their risk is **Systemic**: if the PSP's master risk ratios breach network thresholds, the entire portfolio is threatened.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for PSPs?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"PSPs operate on thin margins and high volume. A single fraudulent merchant processing $1M in bad volume can wipe out the profit of 1,000 good merchants. Worse, it can cause the acquiring bank to \\\"turn off\\\" the PSP.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Aggregators](./payment-risk-observability-for-aggregators.md), [Marketplaces](./payment-risk-observability-for-marketplaces.md)\n\n# Payment Service Providers (PSPs)\n\n## Definition\nPSP Observability is the \"Control Tower\" view of payment processing. PSPs aggregate thousands of merchants. Their risk is **Systemic**: if the PSP's master risk ratios breach network thresholds, the entire portfolio is threatened.\n\n## Why it matters\nPSPs operate on thin margins and high volume. A single fraudulent merchant processing $1M in bad volume can wipe out the profit of 1,000 good merchants. Worse, it can cause the acquiring bank to \"turn off\" the PSP.\n\n## Signals to monitor\n- **Portfolio-Wide Dispute Rate**: The aggregate ratio across all sub-merchants.\n- **Concentration Risk**: The % of volume coming from the Top 10 merchants.\n- **Sector Health**: Risk performance by MCC (e.g., \"How is our Travel portfolio performing?\").\n- **Onboarding Leakage**: The fraud rate of merchants aged < 30 days.\n\n## Breakdown modes\n- **Merchant Bust-Out**: A merchant processing clean volume for 3 months to build credit, then hitting the limit with fraud and vanishing.\n- **Collusion**: A ring of fake merchants and fake buyers extracting cash from the PSP.\n- **Bank Action**: The Acquiring Bank imposing a \"Blanket Reserve\" on the PSP due to aggregate risk.\n\n## Where observability fits\n- **Decomposition**: Clicking down from \"Portfolio Alert\" -> \"Sector Alert\" -> \"Specific Merchant.\"\n- **Shadow Monitoring**: Tracking merchants who are technically \"active\" but have stopped processing (often a precursor to abandonment or takeover).\n- **Float Management**: Tracking the exact location of funds across the clearing cycle.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### What is a \"Master MID?\"\nThe aggregated merchant ID used by the PSP to process on behalf of sub-merchants. The card network often sees only this ID.\n\n### How do PSPs protect themselves?\nReserves. Holding funds from merchants to cover potential trailing liabilities.\n\n### Can a PSP ignore a small merchant's fraud?\nNo. Networks track \"Excessive\" merchants individually too. If a PSP harbors too many bad actors, the PSP itself is penalized.\n\n## See also\n- [Aggregators](./payment-risk-observability-for-aggregators.md)\n- [Network Monitoring Programs](../risk/how-network-monitoring-programs-work.md)\n- [Detecting Cross-PSP Failures](../use-cases/detecting-cross-psp-failures.md)\n",
    "verticals/payment-risk-observability-for-saas.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"SaaS Platforms\",\n  \"description\": \"SaaS Risk Observability focuses on the health of recurring revenue streams. It deals less with \\\"Fraud\\\" (stolen cards) and more with \\\"Churn\\\" (expired cards, insufficiency funds, and friendly fraud).\",\n  \"about\": \"SaaS Platforms\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are SaaS Platforms?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"SaaS Risk Observability focuses on the health of recurring revenue streams. It deals less with \\\"Fraud\\\" (stolen cards) and more with \\\"Churn\\\" (expired cards, insufficiency funds, and friendly fraud).\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for SaaS Platforms?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The \\\"Silent Churn\\\" killer. A 5% failure rate on renewals compounds monthly, destroying LTV. Additionally, aggressive retrying of these failures can trigger network blocks.\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Subscription Businesses](./payment-risk-observability-for-subscription-businesses.md), [High-Risk Merchants](./payment-risk-observability-for-high-risk-merchants.md)\n\n# SaaS Platforms\n\n## Definition\nSaaS Risk Observability focuses on the health of recurring revenue streams. It deals less with \"Fraud\" (stolen cards) and more with \"Churn\" (expired cards, insufficiency funds, and friendly fraud).\n\n## Why it matters\nThe \"Silent Churn\" killer. A 5% failure rate on renewals compounds monthly, destroying LTV. Additionally, aggressive retrying of these failures can trigger network blocks.\n\n## Signals to monitor\n- **Renewal Success Rate**: The % of subscriptions that charge successfully on the first attempt.\n- **Auth Decline Mix**: The ratio of \"Soft Declines\" (Insufficient Funds) vs \"Hard Declines\" (Lost/Stolen).\n- **Dunning Recovery**: The % of failed payments recovered via email prompts or retry logic.\n- **Vintage Retention**: How newer cohorts perform compared to older ones.\n\n## Breakdown modes\n- **Auth Rot**: Card tokens (\"saved cards\") expiring because they haven't been used in 12+ months.\n- **Retry Storms**: Internal billing logic retrying a failed card every hour, triggering velocity bans.\n- **Chargeback Lag**: Users cancelling by calling their bank instead of clicking \"Unsubscribe.\"\n\n## Where observability fits\n- **Decline Classification**: differentiating between \"Customer broke\" vs \"System broke.\"\n- **Win-Back Tracking**: Measuring the effectiveness of dunning emails.\n- **Forecasting**: Predicting cash flow based on the expiration dates of saved cards.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### Why do renewals fail?\nOver 15% of cards change every year (expire, lost, reissued). SaaS models must constantly update payment details.\n\n### What is Friendly Fraud in SaaS?\n\"I forgot to cancel.\" The user subscribed, used the service, forgot about it, and then disputed the renewal charge as \"Unauthorized.\"\n\n### Should I auto-update cards?\nYes. Use \"Account Updater\" services (via Stripe/Adyen) to automatically refresh expired card numbers.\n\n## See also\n- [Subscription Businesses](./payment-risk-observability-for-subscription-businesses.md)\n- [Retry Logic](../risk/how-retry-logic-affects-risk.md)\n- [Refund Abuse Patterns](../risk/how-refund-abuse-patterns-work.md)\n",
    "verticals/payment-risk-observability-for-subscription-businesses.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Subscription Businesses\",\n  \"description\": \"Subscription Risk Observability is the tracking of recurring payment health over time. It differs from SaaS by often including physical goods (Box-of-the-Month), which adds \\\"Fulfillment Risk\\\".\",\n  \"about\": \"Subscription Businesses\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What are Subscription Businesses?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Subscription Risk Observability is the tracking of recurring payment health over time. It differs from SaaS by often including physical goods (Box-of-the-Month), which adds \\\"Fulfillment Risk\\\" to the standard recurring billing risks.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does risk observability matter for Subscription Businesses?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Shipping goods *before* the payment fully clears (or before a dispute arrives) is a primary loss vector. Subscription businesses are prime targets for \\\"Reselling Fraud\\\" (signing up with stolen cards to get cheap goods).\"\n      }\n    }\n  ]\n}\n</script>\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [SaaS Platforms](./payment-risk-observability-for-saas.md), [High-Risk Merchants](./payment-risk-observability-for-high-risk-merchants.md)\n\n# Subscription Businesses\n\n## Definition\nSubscription Risk Observability is the tracking of recurring payment health over time. It differs from SaaS by often including physical goods (Box-of-the-Month), which adds \"Fulfillment Risk\" to the standard recurring billing risks.\n\n## Why it matters\nShipping goods *before* the payment fully clears (or before a dispute arrives) is a primary loss vector. Subscription businesses are prime targets for \"Reselling Fraud\" (signing up with stolen cards to get cheap goods).\n\n## Signals to monitor\n- **Involuntary Churn**: Customers lost due to payment failure, not intent.\n- **Dispute Vintage**: Which signup month is generating the most chargebacks?\n- **Address Velocity**: Multiple subscriptions going to the same shipping address (Reseller signal).\n- **Refund Rate**: High refunds often indicate \"Box Envy\" or fulfillment issues.\n\n## Breakdown modes\n- **Promo Abuse**: Users signing up for the $5 trial and cancelling immediately, or creating 10 accounts for 10 trials.\n- **Friendly Fraud**: \"I didn't receive it\" disputes on recurring shipments.\n- **Account Takeover**: Attackers reactivating dormant subscriptions to ship goods to new addresses.\n\n## Where observability fits\n- **Trial-to-Paid Conversion**: Monitoring the drop-off and risk rate of the first full-price charge.\n- **Address Clustering**: Visualizing physical delivery hotspots that correlate with fraud.\n- **Cohort Analysis**: Tracking LTV accuracy by factoring in delayed disputes.\n\n> Note: observability does not override processor or network controls; it provides operational clarity to navigate them.\n\n## FAQ\n\n### How do I stop promo abuse?\nLink analysis. Look for shared IP addresses, device fingerprints, or fuzzy-matched shipping addresses across accounts.\n\n### Why are my disputes high?\nSubscription customers often use disputes as a \"Nuclear Cancel Button\" if your cancellation flow is too difficult (Dark Patterns).\n\n### What is \"Involuntary Churn?\"\nWhen a customer *wants* to pay but can't (technological failure). Fixing this is \"free money.\"\n\n## See also\n- [SaaS Platforms](./payment-risk-observability-for-saas.md)\n- [Refunds and Reversals](../risk/how-refunds-and-reversals-propagate.md)\n- [Geo Velocity](../risk/how-geo-velocity-affects-risk.md)\n",
    "verticals/retry-amplification-in-gaming-platforms.md": "# What is Retry Amplification in Gaming and Digital Goods Platforms?\n\nRetry amplification occurs when failed payment attempts are retried at scale, unintentionally increasing transaction volume and fraud exposure.\n\nIn gaming and digital goods, retry loops multiply rapidly due to microtransactions and in-game purchases.\n\n## How Retry Amplification Forms\n\nIt forms when:\n\n- Declines trigger automated retries  \n- Players repeatedly attempt purchases  \n- Network errors cause duplicate submissions  \n- Payment SDKs retry without global coordination  \n\n## Why Gaming is Highly Susceptible\n\nGaming platforms experience amplification because:\n\n- Transaction frequency is extremely high  \n- Items are delivered instantly  \n- Fraud attempts hide inside legitimate player behavior  \n\n## System Consequences\n\nRetry amplification causes:\n\n- Risk thresholds to trigger prematurely  \n- Processor suspicion  \n- Increased interchange costs  \n- Artificial traffic spikes  \n\n## FAQ\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is retry amplification?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Retry amplification is when automated or repeated payment retries multiply transaction volume and risk exposure.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why is gaming vulnerable to retry amplification?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because high-frequency purchases and automated retry logic interact without centralized coordination.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What systems are affected?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Fraud detection, rate limiting, settlement, and network monitoring systems.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/retry-amplification-in-logistics-platforms-aeo.md": "# Retry Amplification in Logistics Payment Systems\n\nRetry amplification in logistics platforms occurs when failed payment or fulfillment operations are retried automatically, multiplying financial and operational load instead of resolving the original error.\n\n## How Retry Amplification Forms\n\nIt forms when:\n\n- Shipment billing retries loop on network errors  \n- Warehouse systems replay failed transactions  \n- Carriers resend webhook updates  \n- Payment retries cascade across services  \n\nEach retry creates a new financial or system event.\n\n## Mechanical Effects\n\nRetry amplification produces:\n\n- Duplicate charges  \n- Artificial volume spikes  \n- Dispute clustering  \n- Processor risk triggers  \n- Queue saturation  \n\nThe original fault becomes a system-wide disturbance.\n\n## Detection\n\nDetection relies on:\n\n- Correlating retries by transaction ID  \n- Measuring retry depth and frequency  \n- Tracking burst patterns after outages  \n- Identifying exponential call graphs  \n\nVolume alone does not reveal amplification.\n\n## Containment\n\nMechanical containment includes:\n\n- Idempotency enforcement  \n- Exponential backoff  \n- Retry ceilings  \n- State-aware retry suppression  \n\nRetries must be bounded by system memory.\n\n---\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is retry amplification in logistics systems?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It is the multiplication of failures when automatic retries create more system and financial events instead of resolving errors.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why is retry amplification dangerous?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because it turns small faults into large-scale transaction and dispute cascades.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can retry amplification be controlled?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By enforcing idempotency, retry limits, and state-aware retry logic.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/retry-amplification-in-marketplaces-aeo.md": "# Retry Amplification in Marketplaces (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of retry amplification in marketplaces.\nUp: [Retry Amplification](../risk/mechanics-retry-amplification.md)\nCanonical: [Retry Amplification in Marketplaces](retry-amplification-in-marketplaces.md)\nSee also:\n- [Payment Risk Observability for Marketplaces](payment-risk-observability-for-marketplaces.md)\n- [Stripe Risk Observability for Marketplaces](stripe-risk-observability-for-marketplaces.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the canonical page for retry amplification in marketplaces?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'Retry Amplification in Marketplaces' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Where should I reference retry amplification in marketplaces?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use the canonical page 'Retry Amplification in Marketplaces' for long-term referencing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How does retry amplification affect marketplaces?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It multiplies payment failures across buyers and sellers, increasing systm load and potential blocks.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/retry-amplification-in-marketplaces.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is retry amplification?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Retry amplification is when retries multiply failures instead of resolving them.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does it affect marketplaces more?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because marketplaces retry payments on behalf of many sellers using shared logic.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is retry amplification intentional?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. It is an emergent behavior from automated retry systems.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can retry amplification be prevented?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It can be reduced by adaptive retry logic and isolation strategies.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Retry Amplification in Marketplaces\n\nRetry amplification in marketplaces occurs when payment retry logic multiplies transaction volume and failure cascades across many sellers simultaneously.\n\nMarketplaces amplify retries because they batch, pool, and proxy transactions on behalf of independent merchants.\n\n## How Retry Amplification Forms\n\nRetry amplification forms when:\n\n- Failed payments are retried automatically  \n- Multiple sellers depend on shared retry policies  \n- Retries occur faster than issuer recovery  \n- Declines trigger upstream system reactions  \n\n## Mechanical Pathway\n\n1. Issuer declines spike  \n2. Retry logic activates  \n3. Retry volume multiplies  \n4. Issuer risk scoring worsens  \n5. Further declines occur  \n\nThis creates a positive feedback loop.\n\n## Why Marketplaces Are Vulnerable\n\n- Centralized payment orchestration  \n- Shared retry strategies  \n- Uniform decline handling  \n- High concurrency across sellers  \n\n## System Effects\n\n- Artificial traffic spikes  \n- Higher decline rates  \n- Processor scrutiny  \n- Reserve adjustments  \n\n## Mitigation Mechanics\n\n- Adaptive retry timing  \n- Decline-type filtering  \n- Per-merchant retry isolation  \n- Backoff-based recovery windows  \n\n## FAQ\n\n### What is retry amplification?\nRetry amplification is when retries multiply failures instead of resolving them.\n\n### Why does it affect marketplaces more?\nBecause marketplaces retry payments on behalf of many sellers using shared logic.\n\n### Is retry amplification intentional?\nNo. It is an emergent behavior from automated retry systems.\n\n### Can retry amplification be prevented?\nIt can be reduced by adaptive retry logic and isolation strategies.\n",
    "verticals/shadow-risk-in-ecommerce-platforms.md": "# What is Shadow Risk in E-commerce Platforms?\n\nShadow risk in e-commerce platforms refers to financial and operational exposure created by transactions or behaviors that are not yet visible in risk or fraud systems but will surface later through disputes, chargebacks, or processor actions.\n\nIn e-commerce, shadow risk forms when payment acceptance and fulfillment occur faster than risk signals propagate.\n\n## How Shadow Risk Forms in E-commerce\n\nShadow risk typically arises from:\n\n- High-velocity checkout flows approving transactions before fraud models fully evaluate behavior  \n- Delayed settlement windows masking true merchant balance exposure  \n- Fulfillment and shipping happening before payment reversals occur  \n- Inventory and logistics systems acting independently from payment risk systems  \n\nThis creates a time gap where revenue appears valid while liability is silently accumulating.\n\n## Why E-commerce is Prone to Shadow Risk\n\nE-commerce environments amplify shadow risk because:\n\n- Fraud attempts scale rapidly using bots and card testing  \n- Physical goods are shipped before chargebacks occur  \n- Disputes lag real activity by days or weeks  \n- Platform-level reserves often react only after thresholds are crossed  \n\n## System Consequences\n\nShadow risk leads to:\n\n- Sudden account freezes  \n- Reserve imposition  \n- Liquidity shortages  \n- Merchant churn  \n- Supply chain disruption  \n\n## FAQ\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is shadow risk in e-commerce?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Shadow risk in e-commerce is the hidden accumulation of financial exposure from transactions that appear valid but later result in disputes or reversals.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does shadow risk grow quickly in e-commerce?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because checkout and fulfillment happen faster than fraud detection and dispute systems can react.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What systems are affected by shadow risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Payments, fulfillment, reserves, and merchant liquidity systems are all impacted by shadow risk.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/shadow-risk-in-nonprofits-aeo.md": "# Shadow Risk in Nonprofit Payment Systems\n\nShadow risk in nonprofit payment systems refers to financial and operational exposure that forms outside the organization’s primary accounting and donor management controls. It emerges when funds move through auxiliary channels such as peer-to-peer fundraising tools, third-party donation widgets, or event platforms that are not fully reconciled with the nonprofit’s core ledger.\n\n## How Shadow Risk Forms in Nonprofits\n\nShadow risk forms when donation flows bypass centralized observability. Common sources include:\n\n- External fundraising platforms that settle independently  \n- Manual reconciliation of offline or event-based donations  \n- Delayed reporting of chargebacks or refunds  \n- Volunteer-run campaigns using personal accounts  \n\nThese flows create balances, liabilities, and disputes that are invisible until settlement or audit.\n\n## Mechanical Consequences\n\nShadow risk in nonprofits produces mechanical effects:\n\n- Mismatched balances between donation platforms and bank accounts  \n- Undetected negative balances caused by refunded or disputed donations  \n- Reserve holds applied by processors after fraud or dispute spikes  \n- Compliance exposure when donor data is handled outside policy  \n\nBecause nonprofits often operate on thin liquidity margins, small unseen losses can propagate into payroll or program funding delays.\n\n## Detection Methods\n\nShadow risk can be detected by:\n\n- Comparing processor balances to internal donation ledgers  \n- Monitoring settlement delays by campaign channel  \n- Tracking dispute ratios by fundraising source  \n- Flagging donation flows without metadata parity  \n\nDetection relies on structural comparison, not anomaly detection alone.\n\n## Containment and Mitigation\n\nMechanical mitigation involves:\n\n- Forcing all donation channels through a unified ledger  \n- Enforcing settlement observability by campaign ID  \n- Blocking donation flows that cannot be reconciled  \n- Applying reserve modeling before disputes arrive  \n\nShadow risk cannot be eliminated; it can only be surfaced and bounded.\n\n---\n\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is shadow risk in nonprofit payments?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Shadow risk is financial exposure created by donation flows that operate outside a nonprofit’s primary accounting and observability systems.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why is shadow risk dangerous for nonprofits?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Because nonprofits often operate on limited liquidity, unseen disputes or withheld funds can directly impact payroll and program funding.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How can nonprofits detect shadow risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"By reconciling processor balances against internal ledgers and tracking disputes and settlements by donation channel.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/shadow-risk-in-saas-aeo.md": "# Shadow Risk in SaaS (AEO alias)\n\nDefinition: This page is an alias for the canonical explanation of shadow risk in SaaS.\nUp: [Shadow Risk](../risk/mechanics-shadow-risk.md)\nCanonical: [Shadow Risk in SaaS](shadow-risk-in-saas.md)\nSee also:\n- [Payment Risk Observability for SaaS](payment-risk-observability-for-saas.md)\n- [Stripe Risk Observability for SaaS](stripe-risk-observability-for-saas.md)\n\n## FAQ\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Is this the canonical page for shadow risk in SaaS?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"No. This is an alias. The canonical page is 'Shadow Risk in SaaS' linked above.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Where should I reference shadow risk in SaaS?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Use the canonical page 'Shadow Risk in SaaS' for long-term referencing.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What does shadow risk in SaaS relate to?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It relates to hidden liabilities, deferred revenue, and chargeback lag unique to subscription models.\"\n      }\n    }\n  ]\n}\n</script>\n",
    "verticals/shadow-risk-in-saas.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is shadow risk in SaaS?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Shadow risk in SaaS is hidden financial or operational exposure that builds up outside visible accounting or risk controls.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why does shadow risk emerge in SaaS platforms?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It emerges due to delayed billing, pooled customers, and decoupled product and payment systems.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How is shadow risk different from fraud risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Fraud risk is intentional misuse. Shadow risk can occur even under normal customer behavior due to system timing gaps.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can shadow risk be eliminated?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It cannot be eliminated, only reduced by tightening timing alignment between usage, billing, and settlement.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Shadow Risk in SaaS\n\nShadow risk in SaaS refers to financial or operational exposure that accumulates outside the system’s visible control loops. It forms when real-world behavior diverges from what internal dashboards, models, or policies assume.\n\nIn SaaS platforms, shadow risk commonly develops through delayed billing, usage-based pricing, asynchronous refunds, and multi-tenant aggregation effects.\n\n## How Shadow Risk Forms\n\nShadow risk forms when:\n\n- Usage is recorded before billing is finalized  \n- Credits or refunds are issued before disputes settle  \n- Customers downgrade or churn while charges remain unsettled  \n- Fraud or abuse occurs inside free or trial tiers  \n\nThese gaps create latent exposure that is not reflected in current balances or risk metrics.\n\n## Mechanical Pathway\n\n1. Usage or activity is logged  \n2. Revenue recognition or billing lags  \n3. Risk systems observe only settled transactions  \n4. Exposure accumulates invisibly  \n5. Loss appears suddenly when settlement occurs  \n\nThis produces step-function losses instead of gradual signals.\n\n## Why SaaS Is Susceptible\n\nSaaS systems are susceptible because:\n\n- They rely on delayed invoicing  \n- They pool customer risk across tenants  \n- They abstract payment flows from product logic  \n- They prioritize uptime over settlement finality  \n\n## Operational Consequences\n\n- Unexpected reserve requirements  \n- Sudden account freezes  \n- Revenue clawbacks  \n- Liquidity strain  \n\n## Mitigation Mechanics\n\n- Synchronizing usage, billing, and settlement clocks  \n- Modeling worst-case exposure windows  \n- Separating operational metrics from financial risk metrics  \n- Tracking unbilled-but-consumed value  \n\n## FAQ\n\n### What is shadow risk in SaaS?\nShadow risk in SaaS is hidden financial or operational exposure that builds up outside visible accounting or risk controls.\n\n### Why does shadow risk emerge in SaaS platforms?\nIt emerges due to delayed billing, pooled customers, and decoupled product and payment systems.\n\n### How is shadow risk different from fraud risk?\nFraud risk is intentional misuse. Shadow risk can occur even under normal customer behavior due to system timing gaps.\n\n### Can shadow risk be eliminated?\nIt cannot be eliminated, only reduced by tightening timing alignment between usage, billing, and settlement.\n",
    "verticals/stripe-risk-observability-for-aggregators.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Risk Observability for Aggregators\",\n  \"description\": \"Risk management for PayFacs and Aggregators on Stripe. Monitoring sub-merchant underwriting, MCC drift, and shadow risk.\",\n  \"about\": \"Stripe Aggregator Observability\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Shadow Risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Shadow Risk is the accumulation of sub-merchant risk that is invisible to the master account until it explodes. For example, a sub-merchant changing their business model from 'T-Shirts' (Low Risk) to 'Tech Support' (High Risk) without notifying the platform.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How does 'MCC Drift' happen?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"MCC Drift occurs when a merchant's actual processing behavior (average ticket size, chargeback rate) deviates from the norms of their assigned Merchant Category Code. It signals either fraud or a pivot to a prohibited line of business.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Can I be fined for my sub-merchants' actions?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes. As an Aggregator/Platform, you are principally liable for the compliance of your sub-merchants. Card networks will assess BMAP (Business Monitoring Assessment Program) fines against YOU, not the sub-merchant.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Risk Observability for Aggregators\n\n## Definition\nAggregator (or PayFac) Observability deals with the risk of **Portfolio Management**. You are not just processing payments; you are underwriting other businesses. The core challenge is \"Know Your Customer's Customer\" (KYCC) and detecting when a harmless-looking sub-merchant turns into a liability.\n\n## Why It Matters\nExistential Compliance. Aggregators operate under strict \"Sponsored Merchant\" agreements with Stripe. If you allow prohibited businesses (e.g., adult content, gambling, illegal pharma) to onboard, you violate the Terms of Service. Stripe will shut down your *entire* platform to protect their license. You are the first line of defense.\n\n## Signals to Monitor\n*   **MCC Consistency**: Does the merchant's website match their `mcc` code? (e.g., MCC 5732 \"Electronics Store\" vs. a website selling Consulting Services).\n*   **Volume Anomalies**: A sub-merchant suddenly processing 10x their self-reported \"Expected Monthly Volume\".\n*   **Ticket Size Drift**: A \"Coffee Shop\" processing $500 transactions.\n*   **Geo-Mismatch**: A US-based merchant processing 90% of cards from Nigeria or Vietnam.\n*   **Descriptor Randomness**: Sub-merchants constantly changing their `statement_descriptor` to evade detection.\n\n## How It Breaks Down\n1.  **The Onboarding**: A bad actor signs up as a \"Web Design Agency\" (Low Risk).\n2.  **The Sleeper**: They process small, legitimate transactions for 3 months to build trust.\n3.  **The Pivot**: They switch the backend to process payments for a tech support scam.\n4.  **The Bust-Out**: They process $100k in 48 hours.\n5.  **The Withdrawal**: They payout the funds via Instant Payouts.\n6.  **The Crash**: The disputes roll in. The merchant account is empty. The Platform is liable for the $100k.\n\n## How Risk Infrastructure Surfaces This\nObservability automates \"Continuous Underwriting\":\n\n*   **Drift Detection**: Alerting when the \"Actual\" behavior deviates from the \"Underwritten\" profile by > 2 sigma.\n*   **Website Crawling**: Periodically re-scanning the merchant's URL to check for keywords associated with prohibited items.\n*   **Velocity Caps**: Enforcing dynamic limits that grow with account age (e.g., \"New accounts capped at $1k/day\").\n*   **Cross-Portfolio Matching**: Checking if a banned merchant is trying to sign up again with a different email but same device fingerprint.\n\n> [!NOTE]\n> Observability does not override processor or network controls. Detection allows you to freeze the account *before* the money leaves. Once the payout is sent, observability is just a post-mortem tool.\n\n## FAQ\n\n### What is Shadow Risk?\nShadow Risk is the accumulation of sub-merchant risk that is invisible to the master account until it explodes. For example, a sub-merchant changing their business model from \"T-Shirts\" (Low Risk) to \"Tech Support\" (High Risk) without notifying the platform.\n\n### How does \"MCC Drift\" happen?\nMCC Drift occurs when a merchant's actual processing behavior (average ticket size, chargeback rate) deviates from the norms of their assigned Merchant Category Code. It signals either fraud or a pivot to a prohibited line of business.\n\n### Can I be fined for my sub-merchants' actions?\nYes. As an Aggregator/Platform, you are principally liable for the compliance of your sub-merchants. Card networks will assess BMAP (Business Monitoring Assessment Program) fines against YOU, not the sub-merchant.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Aggregators (General)](../verticals/payment-risk-observability-for-aggregators.md), [MCC Drift](../risk/how-mcc-drift-affects-underwriting.md), [Shadow Risk Accumulation](../risk/how-shadow-risk-accumulates.md)\n",
    "verticals/stripe-risk-observability-for-bnpl.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Risk Observability for BNPL\",\n  \"description\": \"Strategies for monitoring Buy Now, Pay Later (Affirm, Klarna, Afterpay) risks on Stripe. Handling returns, double-refunds, and dispute complexities.\",\n  \"about\": \"Stripe BNPL Observability\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Do BNPL disputes work like Credit Card disputes?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes, but with different timelines. The customer disputes with Affirm/Klarna, who then disputes with you. The evidence process is similar (proof of delivery), but the 'Friendly Fraud' rate is often higher due to buyer's remorse.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Are BNPL fees refundable?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Typically, no. If you refund a customer, you lose the original processing fee (which is often higher for BNPL, e.g., 6%). High return rates on BNPL can destroy margins.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is 'Double Refund' risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It occurs when a merchant refunds the transaction on Stripe, AND the BNPL provider cancels the loan, potentially triggering a race condition where the user gets paid back twice or the merchant account goes negative unexpectedly.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Risk Observability for BNPL\n\n## Definition\nBNPL (Buy Now, Pay Later) integration on Stripe involves methods like Affirm, Afterpay, and Klarna. Risk metrics here are hybrid: you face **Payment Risk** (Disputes) and **Returns Risk** (Refunds/Cancellations). Since BNPL fees are high (5-7%), observability focuses heavily on margin preservation and return logic.\n\n## Why It Matters\nMargin Bleed and Complexity. A 6% processing fee means a refund costs you 6% of the gross sale (since fees are not returned). A BNPL fraud attack is also more severe because the tickets are usually high value (maxing out the credit line). Furthermore, the dispute resolution flow involves a third party (the lender), adding latency to the process.\n\n## Signals to Monitor\n*   **Method Mix**: The % of volume flowing through BNPL vs. Cards.\n*   **Return Rate by Method**: Is Klarna driving more returns than Visa? (Often yes, due to \"Try before you buy\" behavior).\n*   **Dispute Latency**: BNPL disputes often arrive slower than card disputes.\n*   **Webhook Sync**: ensuring `payment_intent.succeeded` matches the BNPL provider's loan issuance.\n*   **Approval Rate**: BNPL declines (due to credit rejection) look different than bank declines. They are \"Consumer Credit\" rejections.\n\n## How It Breaks Down\n1.  **The Purchase**: Customer buys a $1,000 bike using Affirm.\n2.  **The Cost**: You pay $60 in fees. Net: $940.\n3.  **The Regret**: Customer returns the bike.\n4.  **The Refund**: You refund $1,000.\n5.  **The Loss**: You are out $60.\n6.  **The Scaler**: If this happens to 10% of sales, your effective fee rate on the remaining sales doubles.\n\n## How Risk Infrastructure Surfaces This\nObservability explicitly tracks \"Cost of Acceptance\":\n\n*   **Net-Margin Dashboard**: Displaying revenue *minus* the specific fees for that payment method.\n*   **Return Logic Alerts**: Preventing refunds on BNPL methods after X days if policy dictates.\n*   **Fraud Segmentation**: Isolating fraud rates on BNPL specifically (often targeted for resale fraud).\n*   **Loan State Tracking**: Ensuring the loan is actually \"Captured\" and not just \"Authorized.\"\n\n> [!NOTE]\n> Observability does not override processor or network controls. You cannot influence the credit decision of the BNPL provider. If Affirm rejects the customer, the sale is lost. Observability only tracks the *impact* of that rejection.\n\n## FAQ\n\n### Do BNPL disputes work like Credit Card disputes?\nYes, but with different timelines. The customer disputes with Affirm/Klarna, who then disputes with you. The evidence process is similar (proof of delivery), but the \"Friendly Fraud\" rate is often higher due to buyer's remorse.\n\n### Are BNPL fees refundable?\nTypically, no. If you refund a customer, you lose the original processing fee (which is often higher for BNPL, e.g., 6%). High return rates on BNPL can destroy margins.\n\n### What is \"Double Refund\" risk?\nIt occurs when a merchant refunds the transaction on Stripe, AND the BNPL provider cancels the loan, potentially triggering a race condition where the user gets paid back twice or the merchant account goes negative unexpectedly.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [BNPL Providers (General)](../verticals/payment-risk-observability-for-bnpl.md), [Refunds & Reversals](../risk/how-refunds-and-reversals-propagate.md), [Payment Settlements](../risk/mechanics-payment-settlements.md)\n",
    "verticals/stripe-risk-observability-for-high-risk-merchants.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Risk Observability for High-Risk Merchants\",\n  \"description\": \"Navigating Stripe's prohibited businesses list and monitoring requirements for high-risk verticals (Travel, Ticking, Crypto).\",\n  \"about\": \"Stripe High-Risk Observability\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Why is my business considered 'High Risk'?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"High Risk usually means 'High Chargeback Probability' or 'Regulatory Complexity'. Industries like Travel (future delivery), Events (cancellation risk), and Dropshipping (quality control) are structurally prone to disputes.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does Stripe allow crypto?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Stripe has specific support for Crypto Onramps/Offramps but strictly prohibits 'Unregulated' exchanges or Initial Coin Offerings (ICOs). You must have explicit approval and use specific APIs.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What triggers a TMF (MATCH) listing?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"The TMF (Terminated Merchant File) or MATCH list is a blacklist used by Mastercard. You are added if you are terminated for excessive chargebacks (>1%) or illegal activity (money laundering). Being on this list makes it nearly impossible to get a merchant account anywhere.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Risk Observability for High-Risk Merchants\n\n## Definition\nHigh-Risk Observability is for merchants in \"Grey Zone\" industries—Travel, Ticketing, Nutraceuticals, Adult, or Crypto. These industries are allowed (sometimes restricted) but operate under a microscope. The goal is **Compliance Survival**. You must prove to Stripe (and the banks) that you are controlling the inherent risks of your model.\n\n## Why It Matters\nSudden Death. For a high-risk merchant, a single spike in disputes or a single report of illegal activity results in immediate account closure with no appeal. Unlike low-risk merchants who get warnings (\"Please fix this\"), high-risk merchants get termination notices (\"We are ending our relationship\"). Observability is the only way to see the cliff before you fall off.\n\n## Signals to Monitor\n*   **Chargeback-to-Transaction Ratio**: Must be monitored Daily (not Monthly).\n*   **Fulfillment Latency**: The gap between `charge.succeeded` and \"Product Delivered\". Long gaps (e.g., Pre-orders) increase risk.\n*   **Refund Volume**: High refunds are often a precursor to high chargebacks.\n*   **3DS Utilization**: Ensuring 3D Secure is active on 100% of high-value transactions to shift liability.\n*   **Average Ticket Size (ATS)**: Detecting sudden jumps. A specific alert for any transaction > 2x the average.\n\n## How It Breaks Down\n1.  **The Pivot**: A ticketing platform (High Risk) launches a new \"Festival\" event.\n2.  **The Hype**: They sell $1M in tickets in 24 hours.\n3.  **The Flag**: Stripe's velocity algorithms see a massive spike in volume vs. history.\n4.  **The Hold**: Stripe pauses payouts to ensure the Festival actually happens (Delivery Risk).\n5.  **The Cancel**: The Festival is cancelled due to weather.\n6.  **The Rush**: 10,000 customers demand refunds.\n7.  **The Collapse**: If funds are held/missing, these turn into chargebacks. Stripe closes the account and holds the reserve for 120 days.\n\n## How Risk Infrastructure Surfaces This\nObservability builds the \"Defense Case\":\n\n*   **Proof of Fulfillment**: Programmatically uploading tracking numbers to Stripe to prove delivery.\n*   **Reserve Modeling**: Calculating the \"Worst Case\" refund liability to ensure enough cash is on hand.\n*   **Velocity Throttling**: Intentionally slowing down sales velocity to stay within approved limits.\n*   **Dispute Early Warning**: Integrating with services (like Ethoca/Verifi) to intercept disputes at the bank level before they reach Stripe.\n\n> [!NOTE]\n> Observability does not override processor or network controls. Being \"High Risk\" is a classification, not a punishment. It means you must be *better* at operations than a low-risk merchant. Transparency with the processor is key.\n\n## FAQ\n\n### Why is my business considered \"High Risk\"?\nHigh Risk usually means \"High Chargeback Probability\" or \"Regulatory Complexity\". Industries like Travel (future delivery), Events (cancellation risk), and Dropshipping (quality control) are structurally prone to disputes.\n\n### Does Stripe allow crypto?\nStripe has specific support for Crypto Onramps/Offramps but strictly prohibits \"Unregulated\" exchanges or Initial Coin Offerings (ICOs). You must have explicit approval and use specific APIs.\n\n### What triggers a TMF (MATCH) listing?\nThe TMF (Terminated Merchant File) or MATCH list is a blacklist used by Mastercard. You are added if you are terminated for excessive chargebacks (>1%) or illegal activity (money laundering). Being on this list makes it nearly impossible to get a merchant account anywhere.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [High-Risk Merchants (General)](../verticals/payment-risk-observability-for-high-risk-merchants.md), [Settlement Batching](../risk/mechanics-settlement-batching.md), [Account Freezes & Holds](../risk/mechanics-account-freezes-and-holds.md)\n",
    "verticals/stripe-risk-observability-for-marketplaces.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Risk Observability for Marketplaces\",\n  \"description\": \"Managing multi-party risk on Stripe Connect. Monitoring seller performance, liable dispute rates, and platform account health.\",\n  \"about\": \"Stripe Marketplace Observability\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Who is liable for disputes in Stripe Connect?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"It depends on the charge type. With 'Destination Charges' (Standard/Express), the Connected Account is liable. With 'Direct Charges' (Standard), the Connected Account is liable. But with 'Separate Charges and Transfers', the Platform (You) is liable.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is the 'Platform Limit' for disputes?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Stripe monitors the aggregate dispute rate of your entire platform. Even if individual sellers are small, if your *total* platform volume has a 1% dispute rate, Stripe may shut down the platform account itself.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do I handle a fraudulent seller?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"You must use the 'Reject' endpoint to ban the connected account immediately. You should also reverse their payouts if possible and refund the buyers to prevent chargebacks.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Risk Observability for Marketplaces\n\n## Definition\nMarketplace Observability (using Stripe Connect) tracks risk across a **Graph** of sub-accounts (`connected_accounts`). Unlike a single merchant, a marketplace has \"Seller Risk\" (Will the seller deliver?) and \"Buyer Risk\" (Will the buyer pay?). The Platform sits in the middle, creating liability for both.\n\n## Why It Matters\nContagion. One \"Toxic Seller\" running a scam can spike the dispute rate for the entire platform. If the platform's aggregate dispute rate breaches 1%, the entire platform (and all good sellers) can lose processing abilities. Additionally, \"Negative Balance Liability\" means if a seller scams users and withdraws the cash, the Platform is often responsible for covering the refunds.\n\n## Signals to Monitor\n*   **Platform-Wide Dispute Rate**: The weighted average of disputes across all connected accounts.\n*   **Top Offender list**: Ranking sellers by dispute count. (e.g., \"Seller A has 50% of our total disputes\").\n*   **Negative Balance Exposure**: Total amount of money owed by sellers to the platform (due to chargebacks exceeding their balance).\n*   **Onboarding Velocity**: Spikes in new seller signups (often bot-driven seller fraud loops).\n*   **Payout Failures**: High rates of payout failures to sellers can indicate money laundering blocks or fake bank accounts.\n*   **Cross-Linkages**: Sellers sharing IP addresses, bank accounts, or device fingerprints (Collusion).\n\n## How It Breaks Down\n1.  **The Setup**: A fraudster creates a Seller Account and lists fake iPhones for $500.\n2.  **The Bait**: They buy their own items using stolen credit cards (or lure real victims).\n3.  **The Cash Out**: The sales process. The fraudster requests an \"Instant Payout\" to a debit card.\n4.  **The Escape**: They vanish with the cash.\n5.  **The Aftermath**: Real cardholders dispute the charges.\n6.  **The Bag**: The seller account goes negative (-$50,000). The Platform is liable. Stripe debits the Platform's bank account to cover the loss.\n\n## How Risk Infrastructure Surfaces This\nObservability maps the \"Network\":\n\n*   **Graph Visualization**: Linking sellers by shared attributes (IP, Device, Bank).\n*   **De-Risking Triggers**: Alerting when a new seller processes >$5k in their first week (Velocity Anomaly).\n*   **Hold Logic**: Implementing \"Payout Delays\" dynamically for new sellers based on risk score.\n*   **Liability Forecasting**: Predicting the \"Value at Risk\" based on pending disputes vs. seller balances.\n\n> [!NOTE]\n> Observability does not override processor or network controls. If a seller steals the money and runs, improved observability just tells you exactly how much you lost. Controls (Delaying Payouts) are required to prevent the loss.\n\n## FAQ\n\n### Who is liable for disputes in Stripe Connect?\nIt depends on the charge type. With \"Destination Charges\" (Standard/Express), the Connected Account is liable. With \"Direct Charges\" (Standard), the Connected Account is liable. But with \"Separate Charges and Transfers\", the Platform (You) is liable.\n\n### What is the \"Platform Limit\" for disputes?\nStripe monitors the aggregate dispute rate of your entire platform. Even if individual sellers are small, if your *total* platform volume has a 1% dispute rate, Stripe may shut down the platform account itself.\n\n### How do I handle a fraudulent seller?\nYou must use the \"Reject\" endpoint to ban the connected account immediately. You should also reverse their payouts if possible and refund the buyers to prevent chargebacks.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Marketplaces (General)](../verticals/payment-risk-observability-for-marketplaces.md), [Marketplaces with Escrow](../verticals/payment-risk-observability-for-marketplaces-with-escrow.md), [Monitoring Payout Delays](../use-cases/stripe-monitoring-payout-delays.md)\n",
    "verticals/stripe-risk-observability-for-saas.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Risk Observability for SaaS\",\n  \"description\": \"Risk monitoring strategies for SaaS companies on Stripe. Managing recurring billing, involuntary churn, and auth rate optimization.\",\n  \"about\": \"Stripe SaaS Observability\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is Involuntary Churn?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Churn caused by payment failure (expired card, insufficient funds) rather than customer intent. The customer *wants* to stay, but the technology failed. Recovering this is found money.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How does Stripe Smart Retries work?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Stripe uses machine learning to retry failed recurring charges at 'optimal' times (e.g., Friday morning relative to the user's timezone). It is generally better than a static retry schedule.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Should I bill annually or monthly to reduce risk?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Annual billing reduces payment risk (only 1 chance to fail vs. 12 chances) but increases chargeback risk (higher ticket value). Monthly billing has higher churn risk but lower dispute severity.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Risk Observability for SaaS\n\n## Definition\nSaaS Risk Observability focuses on the health of recurring revenue streams (Subscriptions). Unlike e-commerce (one-off), SaaS risk is defined by the \"Lifecycle\" of the card details. The primary enemies are **Involuntary Churn** (failed payments) and **Friendly Fraud** (users forgetting they subscribed).\n\n## Why It Matters\nCompound Growth. A B2B SaaS company with 5% monthly churn will plateau quickly. If 2% of that churn is \"fake\" (failed payments), you are bleeding 24% of your revenue annually to technical errors. Furthermore, aggressive retry logic on failed subscriptions can trigger network velocity limits, causing your *new* signups to be declined as well.\n\n## Signals to Monitor\n*   **Renewal Auth Rate**: The percentage of *subsequent* billing attempts that succeed on the first try.\n*   **Dunning Recovery Rate**: The effectiveness of email reminders + retries. (e.g., \"We recovered 40% of failed payments within 14 days\").\n*   **Friendly Fraud Ratio**: Disputes with reason `subscription_canceled` or `product_unacceptable` on recurring charges.\n*   **Card Updates**: Usage of Stripe's Card Account Updater (CAU) to auto-update expired cards.\n*   **Invoice Patterns**: Spikes in `invoice.payment_failed` events.\n\n## How It Breaks Down\n1.  **The Signup**: User buys a $50/mo plan with a valid card.\n2.  **The Drift**: 9 months later, the card expires or is reissued.\n3.  **The Billing Event**: Stripe attempts the Month 10 charge. It fails (`expired_card`).\n4.  **The Retry**: Stripe retries 3 times over 7 days. All fail.\n5.  **The Churn**: The subscription is canceled.\n6.  **The Loss**: The user didn't notice the email. They are now churned, despite wanting the product.\n\n## How Risk Infrastructure Surfaces This\nObservability turns \"Churn\" into \"Recovery Tasks\":\n\n*   **Cohort Failure Analysis**: Tracking failure rates by \"Vintage\" (e.g., \"Signups from 2024 are failing at 3x the rate of 2025\").\n*   **Dunning Funnel**: Visualizing the state of invoices: `Open` -> `Past Due` -> `Canceled`.\n*   **Terminal State**: Alerting when a high-value account ($10k ACV) enters the `past_due` state.\n*   **Authorization Optimization**: Identifying which retry times yield the highest success for specific BINs.\n\n> [!NOTE]\n> Observability does not override processor or network controls. You cannot force an expired card to work. You must communicate with the user to get new credentials.\n\n## FAQ\n\n### What is Involuntary Churn?\nChurn caused by payment failure (expired card, insufficient funds) rather than customer intent. The customer *wants* to stay, but the technology failed. Recovering this is found money.\n\n### How does Stripe Smart Retries work?\nStripe uses machine learning to retry failed recurring charges at \"optimal\" times (e.g., Friday morning relative to the user's timezone). It is generally better than a static retry schedule.\n\n### Should I bill annually or monthly to reduce risk?\nAnnual billing reduces payment risk (only 1 chance to fail vs. 12 chances) but increases chargeback risk (higher ticket value). Monthly billing has higher churn risk but lower dispute severity.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [SaaS Platforms (General)](../verticals/payment-risk-observability-for-saas.md), [Subscription Businesses](../verticals/payment-risk-observability-for-subscription-businesses.md), [Understanding Decline Reason Codes](./stripe-understanding-decline-reason-codes.md)\n",
    "verticals/stripe-risk-observability-for-subscription-businesses.md": "<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"TechArticle\",\n  \"headline\": \"Stripe: Risk Observability for Subscription Businesses\",\n  \"description\": \"Managing long-tail risk in subscription models. Handling free trial abuse, dunning effectiveness, and auth rate reclamation.\",\n  \"about\": \"Stripe Subscription Observability\",\n  \"author\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  },\n  \"publisher\": {\n    \"@type\": \"Organization\",\n    \"name\": \"PayFlux\"\n  }\n}\n</script>\n<script type=\"application/ld+json\">\n{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"FAQPage\",\n  \"mainEntity\": [\n    {\n      \"@type\": \"Question\",\n      \"name\": \"What is 'Trial Abuse'?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Trial Abuse is when users sign up for multiple free trials (using different emails/cards) to avoid paying. While not strictly 'fraud' in a criminal sense, it degrades LTV (Lifetime Value) and inflates metrics.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"How do I handle 'Card Tester' subscriptions?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Require 3DS (3D Secure) or a small auth hold ($1) at signup. Bots fail these checks. Also, monitor for high velocity of signups from the same IP range.\"\n      }\n    },\n    {\n      \"@type\": \"Question\",\n      \"name\": \"Does Stripe notify users before renewal?\",\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": \"Yes, if configured. Sending 'Upcoming Renewal' emails (7 days prior) significantly reduces 'Friendly Fraud' (chargebacks due to forgetting the sub), though it may slightly increase voluntary churn.\"\n      }\n    }\n  ]\n}\n</script>\n\n# Stripe: Risk Observability for Subscription Businesses\n\n## Definition\nSubscription Observability is similar to SaaS but broader—encompassing Digital Media, Boxes, and Content. The focus is on **Retention Integrity**. It distinguishes between \"Good Churn\" (User cancelled), \"Bad Churn\" (Payment failed), and \"Toxic Churn\" (Chargebacks).\n\n## Why It Matters\nLTV Destruction. In a subscription model, the CAC (Cost of Acquisition) is paid upfront, but LTV (Lifetime Value) is collected over time. A chargeback in Month 3 not only loses the Month 3 revenue but theoretically \"churns\" the future 12 months of expected revenue. Investigating *why* payments fail in the mid-lifecycle is key to profitability.\n\n## Signals to Monitor\n*   **Trial-to-Paid Conversion**: Sudden drops here indicate either product issues or a \"Card Testing\" attack on the trial checkout.\n*   **First-Bill Failure Rate**: High failure rates on the *first* recurring charge (after trial) suggest the cards used were prepaid, empty, or fake.\n*   **Dunning Success by Cohort**: Are newer cohorts recovering worse than older ones?\n*   **Refund Rate**: High refund rates on Day 1 of the renewal cycle indicate users are surprised by the charge.\n*   **Auth Rate by Plan**: Is the \"$100/mo\" plan failing more often than the \"$10/mo\" plan? (Insufficient funds sensitivity).\n\n## How It Breaks Down\n1.  **The Free Load**: User signs up for \"Netflix for Cats\" free trial.\n2.  **The Prepaid**: They use a disposable card with $1 balance.\n3.  **The Renewal**: Day 30 arrives. Stripe charges $15.\n4.  **The Soft Decline**: Bank says `insufficient_funds`.\n5.  **The Zombie**: The service might remain active for a \"Grace Period\" while Stripe retries.\n6.  **The End**: After 4 retries, the sub cancels. You provided 15 days of free service during the grace period.\n\n## How Risk Infrastructure Surfaces This\nObservability maximizes \"Revenue Reclamation\":\n\n*   **Grace Period Monitoring**: Tracking the cost of goods sold (COGS) provided during grace periods vs. the recovery rate.\n*   **Bin-Specific Retries**: Knowing that \"Chime\" cards need to be retried on the 1st and 15th of the month (paydays).\n*   **Trial Abuse Detection**: Fingerprinting devices to cap \"1 Trial Per Device\" regardless of email/card used.\n*   **Pre-Dunning**: Predicting which cards *will* fail next week (based on expiry) and emailing them *before* the failure happens.\n\n> [!NOTE]\n> Observability does not override processor or network controls. You cannot force a disposable card to have money. You can only detect it early and restrict access.\n\n## FAQ\n\n### What is \"Trial Abuse\"?\nTrial Abuse is when users sign up for multiple free trials (using different emails/cards) to avoid paying. While not strictly \"fraud\" in a criminal sense, it degrades LTV (Lifetime Value) and inflates metrics.\n\n### How do I handle \"Card Tester\" subscriptions?\nRequire 3DS (3D Secure) or a small auth hold ($1) at signup. Bots fail these checks. Also, monitor for high velocity of signups from the same IP range.\n\n### Does Stripe notify users before renewal?\nYes, if configured. Sending \"Upcoming Renewal\" emails (7 days prior) significantly reduces \"Friendly Fraud\" (chargebacks due to forgetting the sub), though it may slightly increase voluntary churn.\n\nUp: [Payment System Observability](../pillars/payment-system-observability.md)\nSee also: [Subscription Businesses (General)](../verticals/payment-risk-observability-for-subscription-businesses.md), [SaaS Platforms](./stripe-risk-observability-for-saas.md), [Mechanics: Retry Logic](../risk/mechanics-retry-logic-and-storms.md)\n"
  }
}