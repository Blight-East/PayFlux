[build]
base = "payflux-site"
command = "cd payflux-site && npm run build"
publish = "payflux-site/dist"

# PROXIES FIRST
[[redirects]]
  from = "/docs/*"
  to = "https://app.payflux.dev/docs/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/sitemap-docs.xml"
  to = "https://app.payflux.dev/sitemap-docs.xml"
  status = 200
  force = true

[[redirects]]
  from = "/robots.txt"
  to = "https://app.payflux.dev/robots.txt"
  status = 200
  force = true

[[redirects]]
  from = "/googlec9febe29141cc19f.html"
  to = "https://app.payflux.dev/googlec9febe29141cc19f.html"
  status = 200
  force = true

# STATIC FILES (XML, etc.)
[[redirects]]
  from = "/sitemap.xml"
  to = "/sitemap.xml"
  status = 200

# STATIC LEGAL REWRITES NEXT
[[redirects]]
  from = "/terms"
  to = "/terms.html"
  status = 200

[[redirects]]
  from = "/privacy"
  to = "/privacy.html"
  status = 200

[[redirects]]
  from = "/refunds"
  to = "/refunds.html"
  status = 200

[[redirects]]
  from = "/pricing"
  to = "/pricing.html"
  status = 200

[[redirects]]
  from = "/refund"
  to = "/refund.html"
  status = 200

# STATIC AUTHORITY PAGES
[[redirects]]
  from = "/signals"
  to = "/signals.html"
  status = 200

[[redirects]]
  from = "/taxonomy"
  to = "/taxonomy.html"
  status = 200

[[redirects]]
  from = "/glossary"
  to = "/glossary.html"
  status = 200

[[redirects]]
  from = "/what-is-payment-risk-observability"
  to = "/what-is-payment-risk-observability.html"
  status = 200

[[redirects]]
  from = "/architecture"
  to = "/architecture.html"
  status = 200

[[redirects]]
  from = "/spec"
  to = "/spec.html"
  status = 200

[[redirects]]
  from = "/deterministic-risk-scoring"
  to = "/deterministic-risk-scoring.html"
  status = 200

[[redirects]]
  from = "/processor-risk-intelligence"
  to = "/processor-risk-intelligence.html"
  status = 200

[[redirects]]
  from = "/security"
  to = "/security.html"
  status = 200

[[redirects]]
  from = "/reliability"
  to = "/reliability.html"
  status = 200

[[redirects]]
  from = "/auditability"
  to = "/auditability.html"
  status = 200

# SPA CATCH-ALL LAST
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
