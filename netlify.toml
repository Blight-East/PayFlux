[build]
base = "payflux-site"
command = "npm run build"
publish = "dist"

# PROXIES FIRST
[[redirects]]
  from = "/docs/*"
  to = "https://app.payflux.dev/docs/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/sitemap-docs.xml"
  to = "https://app.payflux.dev/sitemap-docs.xml"
  status = 200
  force = true

[[redirects]]
  from = "/robots.txt"
  to = "https://app.payflux.dev/robots.txt"
  status = 200
  force = true

[[redirects]]
  from = "/googlec9febe29141cc19f.html"
  to = "https://app.payflux.dev/googlec9febe29141cc19f.html"
  status = 200
  force = true

# STATIC LEGAL REWRITES NEXT
[[redirects]]
  from = "/terms"
  to = "/terms.html"
  status = 200

[[redirects]]
  from = "/privacy"
  to = "/privacy.html"
  status = 200

[[redirects]]
  from = "/refunds"
  to = "/refunds.html"
  status = 200

[[redirects]]
  from = "/pricing"
  to = "/pricing.html"
  status = 200

[[redirects]]
  from = "/refund"
  to = "/refund.html"
  status = 200

# SPA ROUTES (handled by React Router)
[[redirects]]
  from = "/signals"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/taxonomy"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/glossary"
  to = "/index.html"
  status = 200

# SPA CATCH-ALL LAST
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
